{
    "$schema": "../schema.json",
    "meta": {
        "id": "bipolamine-d-maimone-2022",
        "molecule_name": "Bipolamine D",
        "class": "Natural Product",
        "author": "Maimone",
        "year": 2022
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "N-Alkylation",
            "reagents": "NaH, DMF",
            "reagent_smiles": "CC(C(=O)OC)Br",
            "conditions": "0 °C to rt",
            "yield": "71%",
            "reactant_smiles": "CC1=CC=CN1",
            "product_smiles": "CC1=CC=CN1C(C)C(=O)OC",
            "notes": "N-alkylation of 2-methylpyrrole with methyl 2-bromopropanoate.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Ester Reduction (to aldehyde)",
            "reagents": "DIBAL",
            "reagent_smiles": "",
            "conditions": "toluene, -78 °C",
            "yield": "95%",
            "reactant_smiles": "CC1=CC=CN1C(C)C(=O)OC",
            "product_smiles": "CC1=CC=CN1C(C)C=O",
            "notes": "Methyl ester is reduced to an aldehyde using DIBAL-H.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Silylcyanation",
            "reagents": "LiClO4, CH2Cl2",
            "reagent_smiles": "[TMS]CN",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CC1=CC=CN1C(C)C=O",
            "product_smiles": "CC1=CC=CN1C(C)C([OTMS])C#N",
            "notes": "Nucleophilic addition of TMSCN to an aldehyde, forming an alpha-silyloxy nitrile.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Cyclization / Iodination",
            "reagents": "NaHMDS, LiCl then NIS",
            "reagent_smiles": "CC1=CC=C2C=CC(=O)C=CN12",
            "conditions": "THF, -78 °C",
            "yield": "55%",
            "reactant_smiles": "CC1=CC=CN1C(C)C(C#N)[OTMS]",
            "product_smiles": "CC1=CC=CN1[C@@H](C)[C@](C#N)([C@H]2C(I)C=CC(=O)C3=CC=C(C)N32)[OTMS]",
            "notes": "A cyclization reaction, possibly a formal aza-Diels-Alder or similar, between the N-substituted 2-methylpyrrole and the fused 7-membered ring ketone, followed by iodination with NIS. Forms a complex polycyclic structure with new chiral centers.",
            "substeps": [
                {
                    "step_id": "4.1",
                    "reaction_type": "N-Boc protection",
                    "reagents": "DMAP",
                    "reagent_smiles": "CC(C)(C)OC(=O)OC(=O)OC(C)(C)C",
                    "conditions": "THF",
                    "yield": "91%",
                    "reactant_smiles": "Cc1cnc(C=O)[nH]1",
                    "product_smiles": "Cc1cnc(C=O)n1[Boc]",
                    "notes": "Protection of the pyrrole nitrogen with a Boc group using di-tert-butyl dicarbonate (Boc₂O) and DMAP in THF.",
                    "substeps": []
                },
                {
                    "step_id": "4.2",
                    "reaction_type": "Aldol-type condensation / Olefination, Boc deprotection",
                    "reagents": "NaHMDS",
                    "reagent_smiles": "CC(=O)/C=C/OC",
                    "conditions": "THF, -78 °C",
                    "yield": "71%",
                    "reactant_smiles": "CC1=C(C=O)C=CN1[Boc]",
                    "product_smiles": "CC1=C(/C=C/C(=O)/C=C/OC)C=C[NH]1",
                    "notes": "Chain extension of an aldehyde with concomitant Boc deprotection to form a conjugated enone.",
                    "substeps": []
                },
                {
                    "step_id": "4.3",
                    "reaction_type": "Intramolecular Cyclization",
                    "reagents": "DBU, toluene",
                    "reagent_smiles": "",
                    "conditions": "150 °C (microwave)",
                    "yield": "60%",
                    "reactant_smiles": "COc/C=C/C(=O)/C=C/c1c[nH]c(C)c1",
                    "product_smiles": "Cc1cc2ccc(=O)ccn2c1",
                    "notes": "Intramolecular cyclization of a methylpyrrole-substituted dienone to form a fused pyrroloazepinone system.",
                    "substeps": []
                }
            ]
        },
        {
            "step_id": "5",
            "reaction_type": "Intramolecular Cyclization",
            "reagents": "MeCN",
            "reagent_smiles": "CC(C)(C)O.[Na+].[HCO3-]",
            "conditions": "hv (390 nm)",
            "yield": "55%",
            "reactant_smiles": "C[C@H]1N2C(C)=CC=C2C=CC(=O)[C@H](I)[C@H]3[C@@H]4N(C=CC=C(C)C4)[C@@H](C)[C@@](C#N)([OTMS])[C@@H]13",
            "product_smiles": "C[C@H]1N2C(C)=CC=C2C=CC(=O)[C@H]3[C@H]4N(C=CC=C(C)C4)[C@@H](C)[C@@](C#N)([OTMS])[C@H]13",
            "notes": "Intramolecular C-C bond formation with elimination of iodide under photochemical conditions.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Nucleophilic Addition / Intramolecular Cyclization / Hydrolysis",
            "reagents": "THF",
            "reagent_smiles": "[Li]C(=C)OCC",
            "conditions": "-78 °C",
            "yield": "55%",
            "reactant_smiles": "CC1=CC=C2C3C(=O)C=CC4=CC=C(C)N4[C@@H]3[C@@](C#N)([C@@H](C)N12)[OTMS]",
            "product_smiles": "CC1=CC=C2N(C1)[C@@H]3[C@]4(C(=C)OCC)O[C@@H](O)[C@H](O)[C@@H](C)N5C=CC(=C)C=C5[C@@H]34",
            "notes": "Addition of lithium ethylenolate to a ketone, followed by intramolecular cyclization and hydrolysis of TMS ether and nitrile, forming a complex polycyclic system with new hydroxyl groups and a cyclic ether.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "None (recovery/equilibration)",
            "reagents": "NaOMe",
            "reagent_smiles": "[Na+].CO[O-]",
            "conditions": "MeOH, 90 °C",
            "yield": "59%",
            "reactant_smiles": "CCOC(=C)[C@]12C=CC3=CC=C(C)N3[C@@H]4[C@@H]2C5=CC=C(C)N5[C@]6(O)O[C@@H](C4)C[C@@H]6C1",
            "product_smiles": "CCOC(=C)[C@]12C=CC3=CC=C(C)N3[C@@H]4[C@@H]2C5=CC=C(C)N5[C@]6(O)O[C@@H](C4)C[C@@H]6C1",
            "notes": "No apparent chemical transformation; the product structure is identical to the reactant. This might indicate an attempted reaction resulting in recovery of starting material, or an equilibration returning to the initial stereoisomer.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Acetylation",
            "reagents": "DMAP, Et3N",
            "reagent_smiles": "CC(=O)OC(=O)C",
            "conditions": "CH2Cl",
            "yield": "95%",
            "reactant_smiles": "CCOC(=C)[C@]12C=CC3=CC=C(C)N3[C@H]4[C@@H]2C5=CC=C(C)N5[C@@](C)(C4(O)O1)O",
            "product_smiles": "CCOC(=C)[C@]12C=CC3=CC=C(C)N3[C@H]4[C@@H]2C5=CC=C(C)N5[C@@](C)(C4(OC(=O)C)O1)",
            "notes": "The hydroxyl group on the reactant is acetylated to an acetate ester in the product.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Reduction",
            "reagents": "LAH",
            "reagent_smiles": "[Li][AlH4]",
            "conditions": "THF",
            "yield": "85%",
            "reactant_smiles": "CCOC(=C)[C@]12C=CC3=CC=C(C)N3[C@H]4[C@@H]1C5=CC=C(C)N5[C@@H](C4(OC(=O)C)O2)",
            "product_smiles": "CCOC(=C)[C@]1(C=CC2=CC=C(C)N2[C@H]3[C@@H]1C4=CC=C(C)N4[C@H](C3O)O)O",
            "notes": "Ester (OAc) is reduced to an alcohol (OH). The cyclic ether is reductively cleaved, forming a new alcohol (OH) on the spiro carbon. The generated SMILES for the reactant and product consistently misrepresent the right-hand methylpyrrole ring (shown as a 5-membered N-heterocycle in the image) as a fused 6,5-membered ring system (like an indole with a methyl). This topological discrepancy leads to an incorrect atom count (2 extra carbons) and is noted, but not fully resolved in the corrected SMILES due to the complexity of the core structure's ring numbering.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et3N, DMAP",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "70%",
            "reactant_smiles": "CCOC(=C)[C@@]1(O)C2=C(C3=CC=C(C)N3C2)[C@H]4[C@H](O)[C@H](C)N5C=CC(C)=C5[C@H]14",
            "product_smiles": "CCOC(=C)[C@@]1(O)C2=C(C3=CC=C(C)N3C2)[C@H]4[C@H]([OMs])[C@H](C)N5C=CC(C)=C5[C@H]14",
            "notes": "Mesylation of a secondary alcohol to form a mesylate ester.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Intramolecular Cyclization / Ether Formation",
            "reagents": "DBU",
            "reagent_smiles": "",
            "conditions": "toluene, 120 °C",
            "yield": "",
            "reactant_smiles": "CCOC(=C)[C@@]1(O)(C=CC2=CC=C(C)N2[C@@H]3[C@@H]1C4=CC=C(C)N4[C@H](C3OS(=O)(=O)C))",
            "product_smiles": "CCOC(=C)[C@@]12C=CC3=CC=C(C)N3[C@@H]4[C@@H]2C5=CC=C(C)N5[C@H]4(O1)",
            "notes": "Intramolecular cyclization forming a cyclic ether via the displacement of a mesylate leaving group by an alcohol, retaining stereochemistry at the mesylate carbon and at the alcohol carbon.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Enol ether hydrolysis",
            "reagents": "HCl, toluene",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "86% (2 steps)",
            "reactant_smiles": "C[C@H]1C[C@@H]2N3C=C(C)C=C3C4=C[C@H]5O[C@]2(CCOC(=C))[C@@H](C=C4)C[C@H]5N1",
            "product_smiles": "C[C@H]1C[C@@H]2N3C=C(C)C=C3C4=C[C@H]5O[C@]2(C(=O)C)[C@@H](C=C4)C[C@H]5N1",
            "notes": "Hydrolysis of an ethoxy vinyl ether to a methyl ketone (Bipolamine D).",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Asymmetric Reduction (CBS Reduction)",
            "reagents": "BH3•DMS, (R)-(+)-2-Methyl-CBS-oxazaborolidine",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "45%",
            "reactant_smiles": "CC1=C[C@H]2CC[C@@H](N1)C3=C(C)N=C4[C@@]35[C@H]2[C@H]([C@@H](O[C@@]5(C(=O)C))C=C4)C6=C(C)C=CN6",
            "product_smiles": "CC1=C[C@H]2CC[C@@H](N1)C3=C(C)N=C4[C@@]35[C@H]2[C@H]([C@@H](O[C@@]5([C@@H](C)O))C=C4)C6=C(C)C=CN6",
            "notes": "Asymmetric reduction of a ketone to a secondary alcohol, forming a new chiral center.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Hydroboration-Oxidation",
            "reagents": "BH3•DMS, H2O2, NaOH",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "40%",
            "reactant_smiles": "Cc1ccc2n(C3)c1[C@@H]4[C@@H]5[C@H]6[C@](C)(O[C@H]5[C@@H](C=C[C@@H]7[C@H]([C@H](C)O)[C@@H]8[C@@H]63)N(C=C8C)C7)C=C2",
            "product_smiles": "CC1=CC=C2N=C1C[C@@H]3[C@H]4[C@@H]5[C@]6(O[C@H]5[C@@H](C[C@@H]7[C@@H](C(C)O)[C@@H](O)[C@@](O)(C8[C@H]63)N=C(C)N8C7)C2)",
            "notes": "Hydroboration-oxidation of an alkene to form a vicinal diol.",
            "substeps": []
        }
    ]
}