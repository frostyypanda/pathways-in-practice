{
    "$schema": "../schema.json",
    "meta": {
        "id": "communesin-f-weinreb-2010",
        "molecule_name": "Communesin F",
        "class": "Natural Product",
        "author": "Weinreb",
        "year": 2010
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Friedel-Crafts Acylation",
            "reagents": "",
            "reagent_smiles": "ClC(=O)C(=O)Cl",
            "conditions": "Et₂O",
            "yield": "",
            "reactant_smiles": "Brc1cccc2[nH]ccc12",
            "product_smiles": "O=C(Cl)C(=O)c1c[nH]c2cccc(Br)c12",
            "notes": "Friedel-Crafts acylation of 7-bromo-1H-indole with oxalyl chloride at the C3 position.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Esterification",
            "reagents": "MeOH, Et2O",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "62% (2 steps)",
            "reactant_smiles": "C1=CC(=C2C(=CNC2=C1)C(=O)C(=O)Cl)Br",
            "product_smiles": "COC(=O)C(=O)C1=CNC2=CC=CC(=C12)Br",
            "notes": "Alcoholysis of an acyl chloride with methanol to form a methyl ester.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "",
            "conditions": "THF, reflux",
            "yield": "87%",
            "reactant_smiles": "COC(=O)C(=O)C1=CNC2=CC=CC(=C12)Br",
            "product_smiles": "C1=CC(=C2C(=CNC2=C1)CCO)Br",
            "notes": "Reduction of an alpha-keto methyl ester to a primary alcohol using lithium aluminum hydride.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Silyl ether formation",
            "reagents": "NEt3, DMAP",
            "reagent_smiles": "Cl[Si](CC)(CC)CC",
            "conditions": "CH2Cl2, rt",
            "yield": "",
            "reactant_smiles": "C1=CC(=C2C(=CNC2=C1)CCO)Br",
            "product_smiles": "[OSiEt3]CCC1=CNC2=CC=CC(=C12)Br",
            "notes": "Protection of a primary alcohol as a triethylsilyl (TES) ether.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "N-methylation",
            "reagents": "NaOH, MeI, Bu4NHSO4",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, 35 °C",
            "yield": "",
            "reactant_smiles": "CC[Si](CC)(CC)OCC1=CNC2=CC=CC(=C12)Br",
            "product_smiles": "CC[Si](CC)(CC)OCC1=CN(C)C2=CC=CC(=C12)Br",
            "notes": "N-methylation of the indole nitrogen with methyl iodide.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Desilylation",
            "reagents": "TBAF, THF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "88%",
            "reactant_smiles": "BrC1=CC=C2C(=C1)N(C)C=C2CCO[TES]",
            "product_smiles": "BrC1=CC=C2C(=C1)N(C)C=C2CCO",
            "notes": "Deprotection of a TES (triethylsilyl) ether to a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Alcohol Iodination",
            "reagents": "I2, PPh3, imidazole",
            "reagent_smiles": "",
            "conditions": "CH3CN, Et2O, rt",
            "yield": "88%",
            "reactant_smiles": "CN1C=C(CCO)C2=C(C=CC=C21)Br",
            "product_smiles": "ICCCC1=CNC2=C1C(Br)=CC=C2",
            "notes": "Conversion of a primary alcohol to an alkyl iodide.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Nucleophilic Substitution (SN2)",
            "reagents": "NaN3",
            "reagent_smiles": "",
            "conditions": "DMF, 50 °C",
            "yield": "95%",
            "reactant_smiles": "C1=CC(=C2C(=CNC2=C1)CCI)Br",
            "product_smiles": "C1=CC(=C2C(=CNC2=C1)CC[N-]=[N+]#N)Br",
            "notes": "Conversion of a primary alkyl iodide to an alkyl azide.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Spirocyclization / Intramolecular Azide-Alkyne Cycloaddition",
            "reagents": "Ag2CO3",
            "reagent_smiles": "O=C1NC2=CC=C(Br)C=C2C1",
            "conditions": "CH3CN, rt",
            "yield": "70%",
            "reactant_smiles": "BrC1=CC=C2NC=C(CC[N-][N+]#N)C2=C1",
            "product_smiles": "BrC1=CC=C2N=C([C@@]3(CC[N-][N+]#N)[C@@H]4C(=O)NC5=CC=CC=C54)C2=C1",
            "notes": "Intramolecular spirocyclization involving an azidoethyl group and an indole imine, possibly via an intermediate generated from the indole (reactant) and 5-bromoindolin-2-one (reagent). Formation of a spiro-indoline derivative with two new chiral centers.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Cascade Reaction with Tosylation and Esterification",
            "reagents": "TsCl, NaH",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C; then MeOH, rt",
            "yield": "61%",
            "reactant_smiles": "BrC1=CC=C2N=C(C=C2C1)[C@@]3(CC[N-]=N=N)CC([C@H]4C(=O)NC5=CC=CC=C5C4)C3",
            "product_smiles": "BrC1=CC=C2N=C3[C@]4(CC[N-]=N=N)[C@@]H(C(=O)OC)C5=CC=CC=C5[N@H]([Ts])[C@]4C3",
            "notes": "Lactam opening, esterification, and cyclization/rearrangement to form a new polycyclic system, followed by N-tosylation.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "N-methylation / Alkylation",
            "reagents": "CH2Cl2",
            "reagent_smiles": "[O+](C)(C)C.[BF4-].[Cs+].[Cs+].[O-]C([O-])=O",
            "conditions": "rt",
            "yield": "80%",
            "reactant_smiles": "COC(=O)[C@H]1c2ccccc2[C@@]3(C1)[C@H]4N([Ts])c5c(Br)cccc5N[C@H]4[C@]3CC[N3]",
            "product_smiles": "COC(=O)[C@H]1c2ccccc2[C@@]3(C1)[C@H]4N([Ts])c5c(Br)cccc5N(C)[C@H]4[C@]3CC[N3]",
            "notes": "Methylation of a secondary amine (NH) within a complex polycyclic system using trimethyl oxonium tetrafluoroborate.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Azide reduction, Amine Boc protection",
            "reagents": "H2",
            "reagent_smiles": "CC(C)(C)OC(=O)OC(=O)OC(C)(C)C.O=[Pt]=O",
            "conditions": "EtOAc, rt",
            "yield": "88%",
            "reactant_smiles": "COc(=O)[C@H]1CC(N=[N+]=[N-])[C@@]23C4=C(Br)C=CC=C4N(C)C5=C2[C@H](N(S(=O)(=O)c6ccc(C)cc6)C5)C1",
            "product_smiles": "CC(C)(C)OC(=O)NC[C@H]1C[C@@]2(CC(NC(=O)OC(C)(C)C))C3=C(Br)C=CC=C3N(C)C4=C2[C@H](N(S(=O)(=O)c5ccc(C)cc5)C4)C1",
            "notes": "Reduction of an azide to a primary amine with H2/PtO2, followed by in-situ Boc protection.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Detosylation",
            "reagents": "Mg, MeOH",
            "reagent_smiles": "",
            "conditions": "rt",
            "yield": "87%",
            "reactant_smiles": "[Boc]HNCC[C@]12C3=C(C=CC=C3Br)N(C)[C@H]1N([Ts])C4=C2C=CC=C4C(=O)[OMe]",
            "product_smiles": "[Boc]HNCC[C@]12C3=C(C=CC=C3Br)N(C)[C@H]1NC4=C2C=CC=C4C(=O)[OMe]",
            "notes": "Reductive cleavage of the N-tosyl group to a secondary amine (N-H).",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Heck reaction",
            "reagents": "Pd(OAc)₂, K₂CO₃, H₂O, DMF",
            "reagent_smiles": "C=CC(C)(C)O",
            "conditions": "90 °C",
            "yield": "93%",
            "reactant_smiles": "[Boc]NCC[C@@]12[C@@H](C(=O)OC)NC3=CC=CC=C3N(C)C2C4=CC(Br)=CC=C41",
            "product_smiles": "[Boc]NCC[C@@]12[C@@H](C(=O)OC)NC3=CC=CC=C3N(C)C2C4=CC(/C=C/C(C)(C)O)=CC=C41",
            "notes": "Heck coupling reaction where an aryl bromide is coupled with 2-methylbut-3-en-2-ol to form an E-alkene.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Intramolecular Cyclization / Alkene Functionalization",
            "reagents": "Hg(OTf)2",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, rt",
            "yield": "88%",
            "reactant_smiles": "COC(=O)[C@@H]1C2=C(C=CC=C2)N[C@H]2N(C)C3=C(C=CC=C3)C(C=C/C(C)(C)O)=C(CC[C@H]([Boc]N)C1)C2",
            "product_smiles": "COC(=O)[C@@H]1C2=C(C=CC=C2)N[C@H]2N(C)C3=C(C=CC=C3)C(=C([C@@H]([Boc]N)CC2))C4C(=C(C)C)C14",
            "notes": "Intramolecular cyclization of an alkene and tertiary alcohol activated by Hg(OTf)2 to form a new pyrrolidine ring and exocyclic alkene. Stereochemistry is maintained/established at multiple centers.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Deprotection",
            "reagents": "TBSOTf, lutidine, KF",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, rt; then MeOH, rt",
            "yield": "94%",
            "reactant_smiles": "CC(C)=C[C@H]1c2cccc3c2[C@]45CCN([Boc])C1C[C@H]([C@H](C(=O)OC)c6ccccc6)N[C@H]5N(C)C34",
            "product_smiles": "CC(C)=C[C@H]1c2cccc3c2[C@]45CCNC1C[C@H]([C@H](C(=O)OC)c6ccccc6)N[C@H]5N(C)C34",
            "notes": "Boc group deprotection from a tertiary amine.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Intramolecular Lactamization / Cyclization",
            "reagents": "",
            "reagent_smiles": "C[Al](C)C.ClCCl",
            "conditions": "0 °C",
            "yield": "87%",
            "reactant_smiles": "CC(=C[C@H]1C2=CC=CC3=C2[C@]4(CCN1)[C@@H](C(=O)OC)C5=C(C=CC=C5)N[C@H]4N3C)C",
            "product_smiles": "CC(=C[C@H]1C2=CC=CC3=C2[C@@]45CCN1C(=O)[C@H]5C6=C(C=CC=C6)N[C@H]4N3C)C",
            "notes": "Intramolecular cyclization of a methyl ester to form a lactam and a fused spiro-ring system, catalyzed by trimethylaluminum.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Alkylation",
            "reagents": "KHMDS, ICH2CN",
            "reagent_smiles": "",
            "conditions": "THF, -78 °C",
            "yield": "77%",
            "reactant_smiles": "CC(=C[C@@H]1C2=CC=CC3=C2[C@@]45CCN1C(=O)[C@H]5C6=C(C=CC=C6)N[C@@H]4N3C)C",
            "product_smiles": "CC(=C[C@@H]1C2=CC=CC3=C2[C@@]45CCN1C(=O)[C@]5(CC#N)C6=C(C=CC=C6)N[C@@H]4N3C)C",
            "notes": "Deprotonation of the lactam alpha-carbon, followed by alkylation with iodoacetonitrile.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Reductive Cyclization",
            "reagents": "THF",
            "reagent_smiles": "[Li+].[AlH4-]",
            "conditions": "60 °C",
            "yield": "",
            "reactant_smiles": "CC(=C[C@@H]1C2=CC=CC3=C2[C@@]45CCN1C(=O)[C@]5(CC#N)C6=C(C=CC=C6)N[C@@H]4N3C)C",
            "product_smiles": "CC(=C[C@@H]1C2=CC=CC3=C2[C@@]45CCN1[C@@H]6[C@]5(CH(O)O6)C7=C(C=CC=C7)N[C@@H]4N3C)C",
            "notes": "Amide and nitrile groups are reduced by lithium aluminum hydride, followed by intramolecular cyclization to form a new six-membered cyclic hemiaminal ether. The stereochemistry at the newly formed hydroxyl group is indicated as variable (wavy bond) in the product.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reductive Amination",
            "reagents": "NH3, NH4Cl, NaBH3CN",
            "reagent_smiles": "",
            "conditions": "MeOH, rt",
            "yield": "",
            "reactant_smiles": "CC(=C[C@@H]1C2=CC=CC3=C2[C@@]45CCN1[C@H]6[C@@]5(CC(O)O6)C7=C(C=CC=C7)N[C@H]4N3C)C",
            "product_smiles": "CC(=C[C@@H]1C2=CC=CC3=C2[C@@]45CCN1[C@H]6[C@@]5(CCN6)C7=C(C=CC=C7)N[C@H]4N3C)C",
            "notes": "Reductive amination of a cyclic hemiacetal/ether equivalent to form a new pyrrolidine ring.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Acetylation",
            "reagents": "Ac2O, NEt3, DMAP",
            "reagent_smiles": "CC(=O)OC(=O)C.CCN(CC)CC.CN(C)C1=CC=NC=C1",
            "conditions": "CH2Cl2, rt",
            "yield": "51% (3 steps)",
            "reactant_smiles": "CC(=C[C@@H]1C2=CC=CC3=C2[C@@]45CCN1[C@@H]6[C@]5(CC[NH]6)C7=C(C=CC=C7)[NH][C@@H]4N(C)3)C",
            "product_smiles": "CC(=C[C@@H]1C2=CC=CC3=C2[C@@]45CCN1[C@@H]6[C@]5(CCN6C(=O)C)C7=C(C=CC=C7)[NH][C@@H]4N(C)3)C",
            "notes": "Acetylation of the secondary amine in the pyrrolidine ring of the complex indole alkaloid. The given yield is for a 3-step sequence, of which this is presumably one step.",
            "substeps": []
        }
    ]
}