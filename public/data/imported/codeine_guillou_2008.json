{
    "$schema": "../schema.json",
    "meta": {
        "id": "codeine-guillou-2008",
        "molecule_name": "Codeine",
        "class": "Natural Product",
        "author": "Guillou",
        "year": 2008
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Ozonolysis with reductive workup",
            "reagents": "O₃, NaBH₄",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=C(O)C=CC(CCC=C)C1",
            "product_smiles": "COC1=C(O)C=CC(CCO)C1",
            "notes": "Oxidative cleavage of a terminal alkene to a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Alcohol Protection (Silylation)",
            "reagents": "TBSCl, BuLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1c(O)ccc(CCO)c1",
            "product_smiles": "COc1c(O)ccc(CCO[TBS])c1",
            "notes": "Selective protection of the primary alcohol as a TBS ether, leaving the phenolic hydroxyl untouched.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Williamson Ether Synthesis / O-Alkylation",
            "reagents": "K2CO3",
            "reagent_smiles": "COC(=O)C(Br)C(=O)OC",
            "conditions": "acetone",
            "yield": "",
            "reactant_smiles": "COc1c(O)cc(CC[OTBS])c1",
            "product_smiles": "COc1c(OC(C(=O)OC)C(=O)OC)cc(CC[OTBS])c1",
            "notes": "Phenolic hydroxyl group is alkylated with dimethyl 2-bromomalonate.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Intramolecular spiro cyclization",
            "reagents": "NaH, DMF",
            "reagent_smiles": "ClCc1ccc([OTBS])cc1",
            "conditions": "0 °C to 60 °C",
            "yield": "",
            "reactant_smiles": "COc1c(OC(C(=O)OC)C(=O)OC)ccc(CC[OTBS])c1",
            "product_smiles": "COc1c2oc(C(C(=O)OC)(C(=O)OC)Cc3ccc([OTBS])cc3)cc(CC[OTBS])c12",
            "notes": "Intramolecular dearomatizing alkylation / spiro cyclization. The reaction involves deprotonation by NaH, followed by alkylation with 4-TBSO-BnCl and a subsequent cyclization. Yield 58% over 2 steps.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Decarboxylation",
            "reagents": "LiBr",
            "reagent_smiles": "",
            "conditions": "DMSO, 100 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc(CCC[OTBS])c(OC2(C(=O)OC)(C(=O)OC)CC3=CC=C([OTBS])C=C3)c1",
            "product_smiles": "COc1ccc(CCC[OTBS])c(OC2C(C(=O)OC)CC3=CC=C([OTBS])C=C3)c1",
            "notes": "Decarboxylation of one methyl ester group from a malonate derivative.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Ester Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "[Li+].[AlH4-]",
            "conditions": "Et2O, 0 °C",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)[OTBS])C(=O)OC",
            "product_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)[OTBS])CO",
            "notes": "Reduction of a methyl ester to a primary alcohol using lithium aluminum hydride. The tert-butyldimethylsilyloxy (TBSO) groups and methoxy (OMe) groups remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Deprotection, Oxidation",
            "reagents": "TBAF, HOAc",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "55% (3 steps)",
            "reactant_smiles": "[OTBS]CCC1=CC=C(C(=C1)OC)OC(CO)CC2=CC=C(C=C2)[OTBS]",
            "product_smiles": "[OTBS]CCC1=CC=C(C(=C1)OC)OC(CO)CC2C=CC(=O)C=C2",
            "notes": "Deprotection of one TBS ether and oxidative dearomatization of the aryl ring to a cyclohexadienone.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Spirocyclization / Rearrangement",
            "reagents": "PhI(OAc)2, NaHCO3, HFIP",
            "reagent_smiles": "CC(=O)O[I](C1=CC=CC=C1)OC(=O)C",
            "conditions": "HFIP",
            "yield": "85%",
            "reactant_smiles": "COC1=C(OC(CO)CC2(CC[OTBS])C3=CC=C(=O)C=C3)C=CC2=C1",
            "product_smiles": "COC1=C2OC(CO)CC23C=CC(=O)C=C3C=C1CC[OTBS]",
            "notes": "A dearomatizing spirocyclization reaction, where an acyclic ether side chain undergoes cyclization to form a fused dihydropyran ring system and a spirocyclic dienone.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Oxidative lactonization",
            "reagents": "PCC, 3 Å Ms",
            "reagent_smiles": "",
            "conditions": "Benzene, reflux",
            "yield": "38%",
            "reactant_smiles": "COc1ccc(CCC[OTBS])c2c1OC(CO)CC23C=CC(=O)C=C3",
            "product_smiles": "COc1ccc(CCC[OTBS])c2c1OC(=O)CC23C=CC(=O)C=C3",
            "notes": "Oxidation of a primary alcohol to a lactone using pyridinium chlorochromate (PCC).",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Rearrangement, Cyclization",
            "reagents": "MeOH, NaN3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(=O)CC32C=CC(=O)C=C3",
            "product_smiles": "[OTBS]CCC1=CC=C(C2=C1[C@@]3(C=CC(=O)C[C@H]3O2)CC(=O)OC)OC",
            "notes": "Intramolecular cyclization and rearrangement of a spiro-lactone-dienone system, likely via azide addition and subsequent steps, forming a fused tricyclic system with a new methoxycarbonyl group and two new stereocenters.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Ketone Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "85%",
            "reactant_smiles": "COC1=CC(CC[OTBS])=C2C=C1O[C@@H]3C[C@@]4(C=CC(=O)C[C@@H]4O3)C(=O)OC",
            "product_smiles": "COC1=CC(CC[OTBS])=C2C=C1O[C@@H]3C[C@@]4(C=CC(O)C[C@@H]4O3)C(=O)OC",
            "notes": "Alpha,beta-unsaturated ketone reduced to allylic alcohol using sodium borohydride. The newly formed alcohol center has unspecified stereochemistry (wavy bond).",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc(C2=C1[C@@]3(CC(=O)OC)(CO[Si](C)(C)C(C)(C)C)C=CC(C[C@]3O2)O)c1",
            "product_smiles": "COc1ccc(C2=C1[C@@]3(CC(=O)OC)(CO[Si](C)(C)C(C)(C)C)C=CC(C[C@]3O2)OS(=O)(=O)C)c1",
            "notes": "Conversion of a secondary alcohol to a mesylate. Stereochemistry of the newly formed mesylate group is indicated as undefined (wavy bond) in the screenshot.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic substitution",
            "reagents": "Cs2CO3, nBu4NI",
            "reagent_smiles": "Sc1ccccc1",
            "conditions": "DMF, 0 °C to rt",
            "yield": "91%",
            "reactant_smiles": "COc1ccc2c(c1O[C@H]3C[C](C=C[C@@]3(C2)(C[OTBS])CC(=O)OC)OS(=O)(=O)C)",
            "product_smiles": "COc1ccc2c(c1O[C@H]3C[C](C=C[C@@]3(C2)(C[OTBS])CC(=O)OC)SC4=CC=CC=C4)",
            "notes": "Nucleophilic substitution of mesylate with thiophenol to form a thioether, proceeding with a wavy bond indicating mixed or undefined stereochemistry at the substitution site. The reaction proceeds through a 2-step process to achieve the yield.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Ester Reduction",
            "reagents": "DIBAL-H",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@H]3C=C[C@H](C[C@H]3[C@]2(C(=O)OC)C[C@@H]([OTBS]))Sc4ccccc4",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3C=C[C@H](C[C@H]3[C@]2(CO)C[C@@H]([OTBS]))Sc4ccccc4",
            "notes": "Reduction of a methyl ester to a primary alcohol using DIBAL-H. All stereocenters are retained.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "84% (2 steps)",
            "reactant_smiles": "COc1ccc2c(c1)C[C](CO)(CO[Si](C)(C)C(C)(C)C)[C@H]3O[C@H]4C[C@H]5C=C[C@@H](SC6=CC=CC=C6)[C@@H]5[C@@H]4[C@@H]3",
            "product_smiles": "COc1ccc2c(c1)C[C](C=O)(CO[Si](C)(C)C(C)(C)C)[C@H]3O[C@H]4C[C@H]5C=C[C@@H](SC6=CC=CC=C6)[C@@H]5[C@@H]4[C@@H]3",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane (DMP).",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Reductive Amination",
            "reagents": "MeNH2, NaBH4, MeOH",
            "reagent_smiles": "CN.CO.[Na][BH4]",
            "conditions": "60 °C to rt",
            "yield": "",
            "reactant_smiles": "C[Oc]1ccc2c(c1)O[C@@H]3C[C@H](S[Ph])C=CC[C@@]4([C@H]3)C2(C[OTBS])(C(=O))",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H](S[Ph])C=CC[C@@]4([C@H]3)C2(C[OTBS])(C[NH]C)",
            "notes": "Reductive amination of an aldehyde with methylamine and sodium borohydride.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Amine Protection",
            "reagents": "NEt3",
            "reagent_smiles": "CC(C)(C)OC(=O)OC(=O)OC(C)(C)C",
            "conditions": "DMF, rt",
            "yield": "76% (2 steps)",
            "reactant_smiles": "C[NH][C@@]12CC[C@]34Oc5c([OMe])ccc(C[C@@H]3C=C[C@H]([C@H]4[SPh])[C@@]1(C[OTBS])C2)",
            "product_smiles": "C[N]([Boc])[C@@]12CC[C@]34Oc5c([OMe])ccc(C[C@@H]3C=C[C@H]([C@H]4[SPh])[C@@]1(C[OTBS])C2)",
            "notes": "Secondary amine is protected with a Boc group to form a tertiary carbamate.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Deprotection",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@]34C[C@@H](S[Ph])C=C[C@H]4[C@@]23C[C@H](CO[TBS])N(C)[Boc]",
            "product_smiles": "COc1ccc2c(c1)O[C@]34C[C@@H](S[Ph])C=C[C@H]4[C@@]23C[C@H](CO)N(C)[Boc]",
            "notes": "Deprotection of TBS ether to primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "70% (2 steps)",
            "reactant_smiles": "[Boc]N(C)CC[C@@]12C=C[C@H](C[C@@H]1OC3=C2C(=CC=C3OC)CCO)[SPh]",
            "product_smiles": "[Boc]N(C)CC[C@@]12C=C[C@H](C[C@@H]1OC3=C2C(=CC=C3OC)C(=O))[SPh]",
            "notes": "Oxidation of a primary alcohol to an aldehyde.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reduction, Reductive Cleavage",
            "reagents": "SmI2, HMPA",
            "reagent_smiles": "",
            "conditions": "THF, -40 °C to rt",
            "yield": "68%",
            "reactant_smiles": "CC(C)(C)OC(=O)N(C)[C@@H]1CC(=O)[C@H]2[C@H]3C=C[C@@H](C[C@@H]3[C@@]1(C4=C2C=C(OC)C=C4)OC)S[Ph]",
            "product_smiles": "CC(C)(C)OC(=O)N(C)[C@@H]1C[C@H](O)[C@H]2[C@H]3C=C[C@@H](C[C@@H]3[C@@]1(C4=C2C=C(OC)C=C4)OC)C",
            "notes": "SmI2-mediated reduction of C6 ketone to C6 alcohol and reductive cleavage of C9 phenylthio group.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Mesylation / Alcohol activation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "CS(=O)(=O)Cl.CCN(CC)CC",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "CC(C)(C)OC(=O)N1CC[C@@]23C=CC[C@@H]2OC4=C3C(=CC=C4OC)C[C@@H]1O",
            "product_smiles": "CC(C)(C)OC(=O)N1CC[C@@]23C=CC[C@@H]2OC4=C3C(=CC=C4OC)C[C@@H]1OS(=O)(=O)C",
            "notes": "Conversion of a secondary alcohol to a mesylate using methanesulfonyl chloride and triethylamine.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Elimination",
            "reagents": "DBU",
            "reagent_smiles": "",
            "conditions": "PhMe, reflux",
            "yield": "94% (2 steps)",
            "reactant_smiles": "[Boc]N(C)CC[C@]12[C@@H]3C=CC[C@@]14OC5=C2C(=CC=C5[OMe])C[C@H]3[OMs]",
            "product_smiles": "[Boc]N(C)CC[C@]12[C@H]3C=CC[C@@]14OC5=C2C(=CC=C5[OMe])C=C3",
            "notes": "Elimination of a mesylate group and an adjacent hydrogen to form an alkene (dehydrohalogenation equivalent).",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Oxidation",
            "reagents": "SeO2, tBuO2H",
            "reagent_smiles": "",
            "conditions": "dioxane, 50 °C",
            "yield": "58%",
            "reactant_smiles": "[OMe]c1ccc2c(c1)O[C@]34C=C[C@H]5[C@@H]3[C@@H]2[C@H](C=C[C@]45)N(C)[Boc]",
            "product_smiles": "[OMe]c1ccc2c(c1)O[C@]34C[C@@H](O)[C@H]5[C@@H]3[C@@H]2[C@H](C=C[C@]45)N(C)[Boc]",
            "notes": "Allylic oxidation of the C6-C7 double bond to a C7-beta-alcohol.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Oxidation",
            "reagents": "IBX",
            "reagent_smiles": "",
            "conditions": "DMF, rt",
            "yield": "92%",
            "reactant_smiles": "COc1ccc2c(c1)O[C@H]3C[C@H]4N([Boc])CC[C@H]5[C@H]4[C@@H](O)C=C[C@H]352",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3C[C@H]4N([Boc])CC[C@H]5[C@H]4C(=O)C=C[C@H]352",
            "notes": "Oxidation of an allylic secondary alcohol to an alpha,beta-unsaturated ketone in an opioid derivative using IBX. The original SMILES for reactant and product were fundamentally incorrect regarding nitrogen connectivity and bonding, showing a chemically impossible quaternary neutral nitrogen and an incorrect chain. The N-methyl group shown in the diagram alongside the N-Boc group is assumed to be a drawing artifact, and the SMILES reflects an N-Boc-protected nitrogen, which is chemically plausible.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Luche Reduction",
            "reagents": "NaBH4, CeCl3",
            "reagent_smiles": "[Na+].[BH4-].[Ce+3].[Cl-].[Cl-].[Cl-]",
            "conditions": "MeOH, 0 °C",
            "yield": "89%",
            "reactant_smiles": "COC1=CC=C2C3=C1O[C@H]4C(C(=O)C=C3)[C@@]5([H])[C@@H]2C=C[C@H](N(C)[Boc])[C@@]54",
            "product_smiles": "COC1=CC=C2C3=C1O[C@H]4[C@H]([C@H](O)C=C3)[C@@]5([H])[C@@H]2C=C[C@H](N(C)[Boc])[C@@]54",
            "notes": "Stereoselective reduction of an alpha,beta-unsaturated ketone to a secondary alcohol using sodium borohydride with cerium(III) chloride (Luche reduction). The ketone is reduced to a beta-alcohol (hydroxyl pointing down).",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "Deprotection",
            "reagents": "TFA",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "88%",
            "reactant_smiles": "COc1ccc2c(c1)O[C@]34[C@@H]5C=C[C@H]6[C@H]([C@@H]3OC5)N([Boc])(C)CC6[C@H]24",
            "product_smiles": "COc1ccc2c(c1)O[C@]34[C@@H]5C=C[C@H]6[C@H]([C@@H]3OC5)NCC6[C@H]24",
            "notes": "N-Boc deprotection of N-methyl-N-Boc-norcodeine derivative to norcodeine derivative.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Oxymercuration-Cyclization",
            "reagents": "",
            "reagent_smiles": "CCN(CC)CC.CC(=O)O[Hg]OC(=O)C",
            "conditions": "THF, rt",
            "yield": "",
            "reactant_smiles": "CN1CCC[C@@]23C=C[C@H](O)[C@@H]4[C@]3(C[C@@H]1CC2)c5c(OC)ccc(c5O4)",
            "product_smiles": "CC(=O)O[Hg][C@H]1C[C@]23C[C@@H]4[C@H](O)C[C@@]5[C@]4(C[C@@H]([N@@]6(C)CC5)[C@]21)c7c(OC)ccc(c7O3)",
            "notes": "N-methyl tertiary amine cyclizes onto the double bond of codeine, followed by mercuration to form an organomercury intermediate.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Demercuration-Elimination / Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "",
            "conditions": "THF, rt",
            "yield": "18% (2 steps)",
            "reactant_smiles": "CC(=O)O[Hg][C@H]1C[C@@H](O)[C@H]2OC3=C(OC)C=CC=C3[C@]12CN(C)C[C@H]4C[C@@H]4",
            "product_smiles": "CN1CC[C@@]23[C@@H]4C=C[C@@H](O)[C@H]2OC5=C3C(=CC=C5OC)C[C@H]41",
            "notes": "Demercuration and elimination of 8α-(acetoxymercurio)dihydrocodeine to form codeine, involving the restoration of the C7=C8 double bond.",
            "substeps": []
        }
    ]
}