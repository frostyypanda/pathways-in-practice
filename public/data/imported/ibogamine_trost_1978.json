{
    "$schema": "../schema.json",
    "meta": {
        "id": "ibogamine-trost-1978",
        "molecule_name": "Ibogamine",
        "class": "Natural Product",
        "author": "Trost",
        "year": 1978
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "",
            "reagents": "TsOH",
            "reagent_smiles": "[tBu][S@@](=O)N",
            "conditions": "100 °C",
            "yield": "99%",
            "reactant_smiles": "CCCC(OC)(OC)OC",
            "product_smiles": "CCC/C(=N\\[S@@](=O)[tBu])/OC",
            "notes": "Formation of N-(1-Methoxybutylidene)-tert-butylsulfinamide from Butyraldehyde trimethyl acetal and tert-Butylsulfinamide.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Nucleophilic Addition / Enamine Formation",
            "reagents": "THF",
            "reagent_smiles": "[Li][Si](C)(C)c1ccccc1",
            "conditions": "-78 °C",
            "yield": "44%",
            "reactant_smiles": "CCC/C(=N\\[S@@](=O)[tBu])/OC",
            "product_smiles": "CCC/C=C(/N[S@](=O)[tBu])\\[Si](C)(C)c1ccccc1",
            "notes": "Addition of phenyldimethylsilyllithium to an N-methoxy-N-sulfinyl imine, forming an E-configured enamine.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Cycloaddition",
            "reagents": "LHMDS",
            "reagent_smiles": "C=CC(=O)OC",
            "conditions": "THF, -78 °C",
            "yield": "80%",
            "reactant_smiles": "CCC=C(N[S@](=O)C(C)(C)C)[Si](C)(C)c1ccccc1",
            "product_smiles": "[C@@]1([Si](C)(C)c2ccccc2)(N[S@](=O)C(C)(C)C)[C@H](C)[C@H](C(=O)OC)C[C@@H](C(=O)OC)C1",
            "notes": "Enantioselective [4+2] cycloaddition to form a highly substituted cyclohexane.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Intramolecular cyclization / Lactamization",
            "reagents": "HCl, NaHCO3",
            "reagent_smiles": "CCOC(=O)C.CO.Cl.[Na+].O=C([O-])O",
            "conditions": "MeOH, EtOAc, reflux",
            "yield": "85%",
            "reactant_smiles": "C[C@H]1([Si](C)(C)c2ccccc2)(N[S@](=O)C(C)(C)C)CC[C@H](C(=O)OC)CC[C@@H](C(=O)OC)C1",
            "product_smiles": "CCC1C2C3CN(C(=O)C2)C3C(CC(=O)OC)C1([Si](C)(C)c4ccccc4)",
            "notes": "Intramolecular cyclization to form an azatricyclic lactam. The sulfinamide is cleaved and an amide (lactam) is formed. One CO2Me group is incorporated as a CH2CO2Me group, while the other is lost. The methyl group on the reactant's C1 position has been elongated to an ethyl group in the product. This suggests either a complex rearrangement or an error in the drawing of the reactant/product or an input SMILES interpretation issue. The product SMILES was re-generated as the provided one was structurally incorrect.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Lactam activation / Imine triflate formation",
            "reagents": "Tf2O",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "CCC1C(NC(=O)C2(C3C1CCC23)[Si](C)(C)c4ccccc4)CC(=O)OC",
            "product_smiles": "CCC1C(N=C(OS(=O)(=O)C(F)(F)F)C2(C3C1CCC23)[Si](C)(C)c4ccccc4)CC(=O)OC",
            "notes": "Activation of a lactam carbonyl with triflic anhydride to form an imine triflate.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "78%",
            "reactant_smiles": "CCC1CCC2N=C(OS(=O)(=O)C(F)(F)F)C3(C(C(=O)OC)C1)[Si](C)(C)c4ccccc4C23",
            "product_smiles": "CCC1CCC2N[C@H]3C(C(=O)OC)C4[Si](C)(C)c5ccccc5C2C4C13",
            "notes": "Imine reduction to an amine. Yield is for 2 steps.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Desilylation",
            "reagents": "NH4F",
            "reagent_smiles": "",
            "conditions": "MeCN, 75 °C",
            "yield": "",
            "reactant_smiles": "O=C(OC)CC1CC2([NH])C(CC)C(C(C1)[Si](C)(C)c3ccccc3)C2",
            "product_smiles": "O=C(OC)CC1CC2([NH])C(CC)C(C(C1))C2",
            "notes": "Desilylation of the dimethyl(phenyl)silyl group using ammonium fluoride.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "N-Alkylation",
            "reagents": "NaI, K2CO3",
            "reagent_smiles": "COC(=O)CCCCl",
            "conditions": "80 °C",
            "yield": "81%",
            "reactant_smiles": "CC[C@@H]1CC2C[C@H](N[C@H]12)CC(=O)OC",
            "product_smiles": "CC[C@@H]1CC2C[C@H](N([C@H]12)CCCC(=O)OC)CC(=O)OC",
            "notes": "N-alkylation of a secondary amine using methyl 4-chlorobutanoate. The yield is reported for 2 steps.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Dieckmann Condensation",
            "reagents": "LHMDS, THF",
            "reagent_smiles": "",
            "conditions": "-78 °C",
            "yield": "",
            "reactant_smiles": "CCC1CC2CC(C1N(CCC(=O)OC)C2)CC(=O)OC",
            "product_smiles": "CCC1CC2CC3C1N(CCC(C3=O)C(=O)OC)C2",
            "notes": "Intramolecular cyclization of a diester to form a beta-keto ester.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Fischer Indole Synthesis / Indole Annulation",
            "reagents": "H2SO4, PhNHNH2",
            "reagent_smiles": "OS(=O)(=O)O.NNC1=CC=CC=C1",
            "conditions": "65 °C",
            "yield": "42% (2 steps)",
            "reactant_smiles": "N1(CC2)(CC(CC)C2)CC(C(=O)OC)C(=O)CC2",
            "product_smiles": "CCC1CCC2N3C1C4C(NC5=CC=CC=C54)CCC32",
            "notes": "Fischer indole synthesis transforming a complex ketone/ester precursor into an ibogamine derivative.",
            "substeps": []
        }
    ]
}