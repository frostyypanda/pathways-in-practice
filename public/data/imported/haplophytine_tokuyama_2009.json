{
    "$schema": "../schema.json",
    "meta": {
        "id": "haplophytine-tokuyama-2009",
        "molecule_name": "Haplophytine",
        "class": "Natural Product",
        "author": "Tokuyama",
        "year": 2009
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Williamson Ether Synthesis / O-Alkylation",
            "reagents": "BnBr, K2CO3",
            "reagent_smiles": "BrCc1ccccc1.[K+].[K+].O=C([O-])[O-]",
            "conditions": "MeCN, reflux",
            "yield": "",
            "reactant_smiles": "Cc1c([N+](=O)[O-])c(O)ccc1",
            "product_smiles": "Cc1c([N+](=O)[O-])c([OBn])ccc1",
            "notes": "Phenol is O-benzylated to form a benzyl ether.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Vilsmeier-Haack type reaction",
            "reagents": "pyrrolidine",
            "reagent_smiles": "CN(C)C(OC)OC",
            "conditions": "DMF, reflux",
            "yield": "",
            "reactant_smiles": "Cc1c([N+](=O)[O-])c([OBn])ccc1",
            "product_smiles": "[OBn]c1ccc(/C=C/N2CCCC2)c([N+](=O)[O-])c1",
            "notes": "Vilsmeier-Haack type reaction of an activated methyl group to form a vinylpyrrolidine.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Reductive Cyclization (Indole Formation)",
            "reagents": "Fe, NH4Cl",
            "reagent_smiles": "",
            "conditions": "EtOH/H2O, reflux",
            "yield": "70%",
            "reactant_smiles": "[OBn]c1c([N+](=O)[O-])cccc1C=CN2CCCC2",
            "product_smiles": "[OBn]c1ccc2c1[nH]cc2",
            "notes": "Reductive cyclization of a nitro-substituted styrene derivative to form an indole. The yield is reported for 3 steps, not just this single step.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Vilsmeier-Haack reaction",
            "reagents": "POCl3, 1 M KOH",
            "reagent_smiles": "",
            "conditions": "DMF, 0° C to rt then 0° C to reflux",
            "yield": "",
            "reactant_smiles": "[Bn]Oc1cccc2[nH]ccc12",
            "product_smiles": "[Bn]Oc1cccc2[nH]c(C=O)cc12",
            "notes": "Formylation of 7-(benzyloxy)-1H-indole at the C3 position.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Knoevenagel-Henry condensation",
            "reagents": "NH4OAc, MeNO2",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "88%",
            "reactant_smiles": "O=Cc1c[nH]c2ccc([OBn])cc12",
            "product_smiles": "O=[N+]([O-])\\C=C/c1c[nH]c2ccc([OBn])cc12",
            "notes": "An indole aldehyde undergoes Knoevenagel-Henry condensation with nitromethane, catalyzed by ammonium acetate, to form the corresponding E-nitroalkene.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "",
            "conditions": "THF, reflux",
            "yield": "",
            "reactant_smiles": "c1c(O[Bn])ccc2c1[nH]c(/C=C/[N+](=O)[O-])c2",
            "product_smiles": "c1c(O[Bn])ccc2c1[nH]c(CCN)c2",
            "notes": "Reduction of an (E)-2-nitrovinyl group to a 2-aminoethyl group using lithium aluminum hydride.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Amide Formation (Acylation)",
            "reagents": "",
            "reagent_smiles": "C1CC(=O)OC1=O",
            "conditions": "CH2Cl2, rt",
            "yield": "",
            "reactant_smiles": "[OBn]C2=C3C(=CC=C2)C(=CN3)CCN",
            "product_smiles": "[OBn]C2=C3C(=CC=C2)C(=CN3)CCNC(=O)CCC(=O)O",
            "notes": "Primary amine reacts with succinic anhydride to form an amide and a carboxylic acid.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Esterification",
            "reagents": "SOCl2, MeOH",
            "reagent_smiles": "",
            "conditions": "rt",
            "yield": "71% (3 steps)",
            "reactant_smiles": "C1=CC=C(C=C1)COC2=C3C(=CC=C2)C(=CN3)CCNC(=O)CCC(=O)O",
            "product_smiles": "COC(=O)CCC(=O)NCCC1=CNC2=C(C=CC=C12)OCC3=CC=CC=C3",
            "notes": "Carboxylic acid is converted to its methyl ester.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Deprotection (Benzyl Ether Cleavage), Hydrogenation",
            "reagents": "H₂, Pd/C",
            "reagent_smiles": "",
            "conditions": "MeOH/CH₂Cl₂, rt",
            "yield": "",
            "reactant_smiles": "COC(=O)CCC(=O)NCCC1=CNC2=C1C=C([OBn])C=C2",
            "product_smiles": "COC(=O)CCC(=O)NCCC1=CNC2=C1C=C(O)C=C2",
            "notes": "Hydrogenolytic cleavage of the benzyl ether protecting group to yield a free hydroxyl group.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "O-Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "CS(=O)(=O)Cl.CCN(CC)CC",
            "conditions": "CH2Cl2, 0 °C",
            "yield": "86% (2 steps)",
            "reactant_smiles": "COC(=O)CCC(=O)NCCC1=CNc2c1cccc2O",
            "product_smiles": "COC(=O)CCC(=O)NCCC1=CNc2c1cccc2OS(=O)(=O)C",
            "notes": "Mesylation of the 7-hydroxy group of the indole derivative.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Bischler-Napieralski cyclization",
            "reagents": "POCl3",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, reflux",
            "yield": "",
            "reactant_smiles": "COC(=O)CC(=O)NCC1=CNC2=C(C=CC=C12)O[Ms]",
            "product_smiles": "COC(=O)CC1=NCCC2=C1NC3=C(C=CC=C23)O[Ms]",
            "notes": "Intramolecular Bischler-Napieralski cyclization of an indole-containing amide to form a dihydro-beta-carboline derivative.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Noyori asymmetric reduction",
            "reagents": "Ru-(R,R)-Ts-dpen, HCO2H/Et3N",
            "reagent_smiles": "",
            "conditions": "DMF, 0 °C",
            "yield": "",
            "reactant_smiles": "COC(=O)CCC=C1C=NC2=C(C=C1)NC3=C2C=CC=C3OS(C)(=O)=O",
            "product_smiles": "CS(=O)(=O)Oc1cccc2c1[nH]c3c2[C@@H](CCC(=O)OC)CCN3",
            "notes": "Asymmetric reduction of the imine and alkene double bonds in a dihydropyridine-fused indole (beta-carboline derivative).",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "N-protection",
            "reagents": "CbzCl, i-Pr2NEt",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, 0 °C",
            "yield": "67 (3 steps)",
            "reactant_smiles": "COC(=O)CC[C@H]1C2=C(CCN1)C3=CC=CC(=C3N2)OS(=O)(=O)C",
            "product_smiles": "COC(=O)CC[C@H]1C2=C(CCN1[Cbz])C4=CC=CC(=C4N2)OS(=O)(=O)C",
            "notes": "N-protection of secondary amine with Cbz group to form a carbamate.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Electrophilic Iodination",
            "reagents": "NIS",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, rt",
            "yield": "",
            "reactant_smiles": "COC(=O)CC[C@H]1CN(C(=O)OCC2=CC=CC=C2)CCc3c1c4c([nH]c3)c(OS(=O)(=O)C)ccc4",
            "product_smiles": "COC(=O)CC[C@H]1CN(C(=O)OCC2=CC=CC=C2)C[C@H]3C(I)=NC4=C3C5=C(OS(=O)(=O)C)C=CC=C54",
            "notes": "Iodination of the indole C-2 position (C3 of the 5-membered ring) followed by tautomerization/double bond shift, changing the indole N-H to an iminium-like N=C structure. The stereochemistry of the newly formed C-I bond is racemic/undefined.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Friedel-Crafts alkylation",
            "reagents": "AgOTf",
            "reagent_smiles": "C=CCN(CC=C)c1c(OC)c(OC)ccc1",
            "conditions": "CH2Cl2, -10 °C",
            "yield": "61%",
            "reactant_smiles": "COC(=O)CC[C@H]1C2=CC3=C(N1)C4=C(OS(C)(=O)=O)C=CC=C4C3(I)CN(C(=O)OCC5=CC=CC=C5)C2",
            "product_smiles": "COC(=O)CC[C@H]1CC2C3=C(N1)C4=C(OS(C)(=O)=O)C=CC=C4[C@H]3(C5=C(OC)C(OC)=CC=C5N(CC=C)CC=C)CN(C(=O)OCC6=CC=CC=C6)C2",
            "notes": "2 steps",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Ester Hydrolysis",
            "reagents": "LiOH•H2O",
            "reagent_smiles": "",
            "conditions": "MeOH/H2O, rt",
            "yield": "",
            "reactant_smiles": "C=CCN(CC=C)C1=C(C(=C(C=C1)[C@]23CCN([C@@H](CCC(=O)OC)C3=NC4=C(C=CC=C42)[MsO])[Cbz])OC)OC",
            "product_smiles": "C=CCN(CC=C)C1=C(C(=C(C=C1)[C@]23CCN([C@@H](CCC(=O)O)C3=NC4=C(C=CC=C42)[MsO])[Cbz])OC)OC",
            "notes": "Hydrolysis of a methyl ester to a carboxylic acid.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Lactamization / Intramolecular Acylation",
            "reagents": "SOCl2, DMF, i-Pr2NEt",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, rt",
            "yield": "59% (2 steps)",
            "reactant_smiles": "C=CCN(CC=C)C1=C(C(=C(C=C1)[C@]23CCN([C@@H](CCC(=O)O)C3=NC4=C(C=CC=C42)[MsO])[Cbz])OC)OC",
            "product_smiles": "C=CCN(CC=C)C1=C(C(=C(C=C1)[C@]23CCN(C4=C2N(C(=O)CC4)C5=C(C=CC=C53)[MsO])[Cbz])OC)OC",
            "notes": "Intramolecular cyclization of a carboxylic acid to form a lactam, likely via acyl chloride intermediate, incorporating the indole nitrogen into a new 6-membered ring and forming an enamine.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "N-deallylation",
            "reagents": "Pd(PPh3)4",
            "reagent_smiles": "CN1C(=O)CC(=O)N(C)C1=O",
            "conditions": "CH2Cl2, reflux",
            "yield": "93%",
            "reactant_smiles": "C=CCN(CC=C)C1=C(C(=C(C=C1)[C@]23CCN(C4=C2N(C(=O)CC4)C5=C(C=CC=C53)[MsO])[Cbz])OC)OC",
            "product_smiles": "NC1=C(C(=C(C=C1)[C@]23CCN(C4=C2N(C(=O)CC4)C5=C(C=CC=C53)[MsO])[Cbz])OC)OC",
            "notes": "Palladium-catalyzed N-deallylation of a diallylamine to yield a primary amine.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Amine Protection",
            "reagents": "FmocCl, NaHCO3",
            "reagent_smiles": "",
            "conditions": "1,4-dioxane/H2O, rt",
            "yield": "96%",
            "reactant_smiles": "CS(=O)(=O)Oc1ccc2c(c1)[C@]3(CCN(C4=C3N2C(=O)CC4)C(=O)OCC5=CC=CC=C5)C6=C(C(=C(C=C6)N)OC)OC",
            "product_smiles": "O=C(OCc1c2ccccc2c3ccccc13)NC1=C(C(=C(C=C1)[C@]23CCN(C4=C2N(C(=O)CC4)C5=C(C=CC=C53)OS(=O)(=O)C)C(=O)OCC6=CC=CC=C6)OC)OC",
            "notes": "Protection of the primary amine with an Fmoc group.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Oxidative rearrangement",
            "reagents": "mCPBA, NaHCO3",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, rt",
            "yield": "84%",
            "reactant_smiles": "CN(C(=O)OCC1=CC=CC=C1)CC[C@@]2([C@H]3C=C(N4C(=O)CCC4)C(OS(C)(=O)=O)=CC5=C35)C6=CC=C(NC(=O)OCC7C8=CC=CC=C8C7)C(OC)=C6OC",
            "product_smiles": "NC(=O)OCC1C2=CC=CC=C2C1)C3=CC(=C(OC)C(OC)=C3)O[C@@]4([C@H]5CCN(C(=O)OCC6=CC=CC=C6)CC5)C(=O)C7=C4C=CC=C7N8C(=O)CCC8OS(C)(=O)=O",
            "notes": "Oxidative rearrangement of an indole derivative leading to a complex spiro-lactone and chroman system. The imine (C=N) is oxidized, and an oxygen atom is inserted from mCPBA.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Deprotection",
            "reagents": "DMF",
            "reagent_smiles": "C1CCNCC1",
            "conditions": "rt",
            "yield": "96%",
            "reactant_smiles": "C[S](=O)(=O)Oc1ccc2c(c1)O[C@@]3(c4cc(OC)c([NHFmoc])cc4)C(=O)N(C[C@H]5CC[C@@H](N5C3)[Cbz])C7CCC(=O)N7C2",
            "product_smiles": "C[S](=O)(=O)Oc1ccc2c(c1)O[C@@]3(c4cc(OC)c(N)cc4)C(=O)N(C[C@H]5CC[C@@H](N5C3)[Cbz])C7CCC(=O)N7C2",
            "notes": "Fmoc deprotection using piperidine to yield primary amine.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Diazotization followed by reduction to hydrazine",
            "reagents": "i-AmONO, SnCl2, HCl",
            "reagent_smiles": "",
            "conditions": "MeCN/MeOH, 0 °C, then -10 °C to 0 °C",
            "yield": "77%",
            "reactant_smiles": "[MsO]c1cccc2c1N(C(=O)CCC3([C@H]4CN([Cbz])[C@H]3N2CCC4)c6ccc(N)c(OC)c6O)",
            "product_smiles": "[MsO]c1cccc2c1N(C(=O)CCC3([C@H]4CN([Cbz])[C@H]3N2CCC4)c6ccc(NN)c(OC)c6O)",
            "notes": "Conversion of an aromatic amine to an aryl hydrazine via in situ diazonium salt formation and subsequent reduction. This is a step in the synthesis of Haplophtyine.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Hydrazone Formation / Condensation",
            "reagents": "H2SO4",
            "reagent_smiles": "COC(=O)C[C@@]12CCCN3CC[C@@H](C(=O)CC1)C23",
            "conditions": "1,4-dioxane, 0 °C",
            "yield": "80%",
            "reactant_smiles": "CC(=O)S(=O)(=O)Oc1cccc([C@]2(c3ccc(NN)c(OC)c3OCCC2)[C@@]4C(=O)N5C[C@@H]4CN([Cbz])CC5)c1",
            "product_smiles": "COC(=O)C[C@@]12CCCN3CC[C@@H](CC1)C23=NNc4ccc(OC)c(OCCC5)[C@]5(c6cccc([MsO])c6)[C@@]7C(=O)N8C[C@@H]7CN([Cbz])CC8c4",
            "notes": "Hydrazine group of the reactant undergoes condensation with the ketone group of the bicyclic reagent to form a hydrazone. Stereochemistry of all chiral centers is preserved.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Intramolecular Indole Cyclization",
            "reagents": "TsOH",
            "reagent_smiles": "",
            "conditions": "t-BuOH, 80 °C",
            "yield": "47%",
            "reactant_smiles": "CS(=O)(=O)OC1=C2C(=CC=C1)C34CCN([Cbz])[C@]6(CCC(=O)N6C7=C3C=CC(=C7OC)NNC=8CC[C@@]9(CCCN%10CC[C@]8(C9%10)C(=O)OC))C4=O",
            "product_smiles": "CS(=O)(=O)OC1=CC=CC2=C1N3C(=O)CC[C@]43C(=O)C25CCN([Cbz])[C@]7(CCC(=O)N4C8=C5C=C9C(=C8OC)N=C%10CC[C@@]%11(CCCN%12CC[C@]9(C%10=N%11)%12%13)CC(=O)OC)C7=O",
            "notes": "Acid-catalyzed intramolecular cyclization of a hydrazone to form a new indole-like ring system.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Selenoxide Elimination / Dehydrogenation",
            "reagents": "THF",
            "reagent_smiles": "O=[Se](=O)(c1ccccc1)OO[Se](=O)(=O)c2ccccc2",
            "conditions": "reflux",
            "yield": "61%",
            "reactant_smiles": "C[S](=O)(=O)Oc1cccc2c1O[C@]34C(=O)N(C(=O)[C@@]35CCN([C@H]5C2)[Cbz])C6=C(C=C7C8=C6N=C9[C@H]%10CC[C@H](CC(=O)OC)[C@@]%10%11CCN%11C9C8)C(OC)=C74",
            "product_smiles": "C[S](=O)(=O)Oc1cccc2c1O[C@]34C(=O)N(C(=O)[C@@]35CCN([C@H]5C2)[Cbz])C6=C(C=C7C8=C6N=C9[C@H]%10C=C(CC(=O)OC)[C@@]%10%11CCN%11C9C8)C(OC)=C74",
            "notes": "Dehydrogenation of the piperidine ring adjacent to the indole-like system to form an alkene, using bis(phenylseleninic) anhydride as the oxidizing reagent.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "Deprotection",
            "reagents": "BBr3, pentamethylbenzene",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, -78 °C to -25 °C",
            "yield": "67%",
            "reactant_smiles": "[MsO]c1cccc2c1N3C(=O)CC[C@]43C(=O)c25CCN([Cbz])[C@]7(CCC(=O)N4C8=C5C=C9C(=C8OC)N=C%10C=C[C@]%11(CCCN%12CC[C@@]97[C@@H]%11%12)CC(=O)OC)",
            "product_smiles": "Oc1cccc2c1N3C(=O)CCC43C(=O)CCCN4CC[C@@]52C6=C(C(=C7C(=C6)[C@@]89CCN%10CCC[C@](C=CC8=N7)(CC(=O)OC)[C@@H]9%10)OC)",
            "notes": "Deprotection of Cbz group to secondary amine and mesylate group to phenol.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Reductive Amination (Eschweiler-Clarke)",
            "reagents": "aq. HCHO, NaBH₃CN, AcOH",
            "reagent_smiles": "C=O.CC(=O)O.[Na+].[BH3-]C#N",
            "conditions": "MeOH/CH₂Cl₂, -78 °C to rt",
            "yield": "55%",
            "reactant_smiles": "COC(=O)C[C@]12CCC[C@@]3([C@H]1CCN3C=C4[C@]25C=C(C=C4)C6=C5C(=NC7=C6O[C@]89C7=CC([MsO])=CC8N%10C9=O)OC)[C@H]%10C",
            "product_smiles": "COC(=O)C[C@]12CCC[C@@]3([C@H]1CCN(C)3C=C4[C@]25C=C(C=C4)C6=C5C(=NC7=C6O[C@]89C7=CC([MsO])=CC8N%10C9=O)OC)[C@H]%10C",
            "notes": "Methylation of a secondary amine (NH) to a tertiary amine (N-Me) using formaldehyde and sodium cyanoborohydride.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Hydrolysis (Ester, Mesylate)",
            "reagents": "NaOH, MeOH",
            "reagent_smiles": "[Na+].[OH-].CO",
            "conditions": "60 °C",
            "yield": "",
            "reactant_smiles": "CS(=O)(=O)Oc1cccc2c1O[C@]3(C(=O)N(C)CC[C@H]4C[C@]3(C2)c5ccc(N(C)C6=C5C=C[C@@]7(CCC[C@H](C=C7)C(=O)OC)C6)c(OC)c4)",
            "product_smiles": "Oc1cccc2c1O[C@]3(C(=O)N(C)CC[C@H]4C[C@]3(C2)c5ccc(N(C)C6=C5C=C[C@@]7(CCC[C@H](C=C7)C(=O)O)C6)c(OC)c4)",
            "notes": "Ester group (CO2Me) is hydrolyzed to carboxylic acid (CO2H), and the mesylate (MsO) is hydrolyzed to a phenol (HO).",
            "substeps": []
        }
    ]
}