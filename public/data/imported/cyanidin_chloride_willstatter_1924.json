{
    "$schema": "../schema.json",
    "meta": {
        "id": "cyanidin-chloride-willstatter-1924",
        "molecule_name": "Cyanidin Chloride",
        "class": "Natural Product",
        "author": "Willstatter",
        "year": 1924
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Esterification",
            "reagents": "",
            "reagent_smiles": "COCC(=O)OC(=O)COC",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=Cc1c(O)c(O)cc(O)c1",
            "product_smiles": "O=Cc1c(O)c(OC(=O)COC)cc(OC(=O)COC)c1",
            "notes": "Esterification of two phenolic hydroxyl groups to form esters using bis(methoxyacetyl) carbonate.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Perkin reaction",
            "reagents": "",
            "reagent_smiles": "COCC(=O)OC(=O)COC.COCC(=O)[O-].[Na+]",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COCC(=O)OC1=CC(=C(C=O)C(=C1)O)OC(=O)COC",
            "product_smiles": "COCC(=O)OC1=CC(=C2C=C(C(=O)OC2=C1)OC)OC(=O)COC",
            "notes": "A Perkin reaction where an aromatic aldehyde reacts with methoxyacetic anhydride and sodium methoxyacetate to form a methoxy-substituted coumarin.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Hydrolysis",
            "reagents": "KOH, H2O",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COCC(=O)OC1=CC(=C2C=C(C(=O)OC2=C1)OC)OC(=O)COC",
            "product_smiles": "COC1=CC2=C(C=C(C=C2OC1=O)O)O",
            "notes": "Hydrolysis of bis(methoxycarbonylmethyl)oxy groups on a coumarin to give 5,7-dihydroxy-2-methoxycoumarin.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "O-methylation",
            "reagents": "CH2N2",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=CC2=C(C=C(C=C2OC1=O)O)O",
            "product_smiles": "COC1=CC(=C2C=C(C(=O)OC2=C1)OC)OC",
            "notes": "Two phenolic hydroxyl groups are methylated to methoxy groups using diazomethane.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Grignard reaction / Cyclization",
            "reagents": "",
            "reagent_smiles": "COc1cc(OC)ccc1[Mg]Br",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=CC(=C2C=C(C(=O)OC2=C1)OC)OC",
            "product_smiles": "COC1=CC(=C2C=C(C(C3=CC(=C(C=C3)OC)OC)(O)OC2=C1)OC)OC",
            "notes": "Nucleophilic addition of 3,4-dimethoxyphenylmagnesium bromide to a coumarin derivative, followed by ring opening and re-cyclization to form a substituted 2H-chromene.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Dehydration and Aromatization (Flavylium Salt Formation)",
            "reagents": "HCl, H2O",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=CC(OC)=C2C(O)(C3=CC(OC)=C(OC)C=C3)C(OC)=CC2=C1",
            "product_smiles": "COC1=CC(OC)=C2C=C(OC)C(=[O+]C2=C1)C3=CC(OC)=C(OC)C=C3.[Cl-]",
            "notes": "Acid-catalyzed conversion of a flavan-3-ol derivative to a flavylium chloride salt (Cyanidin Chloride derivative).",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "O-demethylation",
            "reagents": "HI, PhOH",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1cc(OC)c2c(c1)C=C(OC)C=[O+]2c3cc(OC)c(OC)cc3.[Cl-]",
            "product_smiles": "Oc1cc(O)c2c(c1)C=C(O)C=[O+]2c3cc(O)c(O)cc3.[I-]",
            "notes": "Demethylation of methoxy groups on a flavylium cation to form hydroxyl groups, with a counterion exchange from chloride to iodide.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Anion Exchange",
            "reagents": "AgCl, HCl, H2O",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C1=CC(=C(C=C1C2=[O+]C3=CC(=CC(=C3C=C2O)O)O)O)O.[I-]",
            "product_smiles": "C1=CC(=C(C=C1C2=[O+]C3=CC(=CC(=C3C=C2O)O)O)O)O.[Cl-]",
            "notes": "Exchange of iodide counterion for chloride counterion.",
            "substeps": []
        }
    ]
}