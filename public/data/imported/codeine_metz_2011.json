{
    "$schema": "../schema.json",
    "meta": {
        "id": "codeine-metz-2011",
        "molecule_name": "Codeine",
        "class": "Natural Product",
        "author": "Metz",
        "year": 2011
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Reductive Ozonolysis",
            "reagents": "O₃, NaBH₄",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C=CCC1=CC(=C(C=C1)OC)O",
            "product_smiles": "COC1=C(C=C(C=C1)CCO)O",
            "notes": "Ozonolysis of a terminal alkene followed by reductive workup with NaBH₄ to yield a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Alcohol Protection (Silyl Ether Formation)",
            "reagents": "TBSCl, BuLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1ccc(CCO)c(O)c1",
            "product_smiles": "COc1ccc(CCO[OTBS])c(O)c1",
            "notes": "Protection of the primary alcohol with tert-butyldimethylsilyl chloride (TBSCl) using n-butyllithium (BuLi) as a base. The phenolic alcohol and methoxy groups remain unaffected. The product shows the OTBS abbreviation as per the screenshot.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Williamson Ether Synthesis",
            "reagents": "K2CO3",
            "reagent_smiles": "COC(=O)C(Br)C(=O)OC",
            "conditions": "acetone",
            "yield": "",
            "reactant_smiles": "O[C]1=C(OC)C=C(CCO[OTBS])C=C1",
            "product_smiles": "COC1=C(OC(C(=O)OC)C(=O)OC)C=C(CCO[OTBS])C=C1",
            "notes": "Alkylation of a phenol with dimethyl 2-bromomalonate.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Intramolecular cyclization / alkylation",
            "reagents": "NaH",
            "reagent_smiles": "ClCC1=CC=C([OTBS])C=C1.CN(C)C=O",
            "conditions": "DMF, 0 °C to 60 °C",
            "yield": "58% (2 steps)",
            "reactant_smiles": "COC1=C(OC(C(=O)OC)C(=O)OC)C=CC(CC[OTBS])=C1",
            "product_smiles": "COC1=CC(CC[OTBS])=CC2=C1OC(C(=O)OC)(C(=O)OC)(CC3=CC=C([OTBS])C=C3)C2",
            "notes": "Intramolecular cyclization of the benzylic chloride with an alkylated malonate to form a chromane derivative.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Decarboxylative rearrangement / Ring expansion",
            "reagents": "LiBr",
            "reagent_smiles": "",
            "conditions": "DMSO, 100 °C",
            "yield": "",
            "reactant_smiles": "[TBS]OCCC1=CC=C(C(=C1)OC([C@H](CC2=CC=C(C=C2)O[TBS]))(C(=O)OC)C(=O)OC)OC",
            "product_smiles": "[TBS]OCCC1=CC=C(C(=C1)OC)[C@H](C(=O)OC)CC2=CC=C(C=C2)O[TBS]",
            "notes": "Decarboxylative rearrangement of a bis(methyl ester) acetal, leading to the formation of a 7-membered oxepane ring.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4, Et2O",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)[OTBS])C(=O)OC",
            "product_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)[OTBS])CO",
            "notes": "Ester reduction to primary alcohol using lithium aluminum hydride.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Deprotection, Oxidation",
            "reagents": "TBAF, HOAc",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "55% (3 steps)",
            "reactant_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)OC(CO)CC2=CC=C(C=C2[OTBS])",
            "product_smiles": "[OTBS]CCC1=CC=C(C(=C1)OC(CO)CC2C=CC(=O)C=C2)OC",
            "notes": "Selective deprotection of one TBS group and subsequent oxidation of the corresponding phenol to a cyclohexadienone.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Oxidative Spirocyclization",
            "reagents": "PhI(OAc)2, NaHCO3",
            "reagent_smiles": "",
            "conditions": "HFIP",
            "yield": "85%",
            "reactant_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)OC(CO)CC2C=CC(=O)C=C2",
            "product_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(CO)C2C3=CC(=O)C=C3",
            "notes": "Intramolecular oxidative dearomatization and spirocyclization of a phenol derivative.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Oxidation, Lactonization",
            "reagents": "PCC, 3 Å Ms",
            "reagent_smiles": "",
            "conditions": "Benzene, reflux",
            "yield": "38%",
            "reactant_smiles": "COc1ccc2c(CC[OTBS])c1OC(CO)CC23C=CC(=O)C=C3",
            "product_smiles": "COc1ccc2c(CC[OTBS])c1OC(=O)CC23C=CC(=O)C=C3",
            "notes": "Oxidation of a primary alcohol to a lactone using PCC.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Rearrangement / Cyclization",
            "reagents": "MeOH, NaN3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(=O)CC32C=CC(=O)C=C3",
            "product_smiles": "[OTBS]CCC1=CC(OC)=CC2=C1[C@@]3(C(=O)OC)C=CC(=O)C[C@@H]3O2",
            "notes": "Lactone ring opening, quinone rearrangement, and new ester/furan ring formation.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Ketone Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "85%",
            "reactant_smiles": "COC1=C(CC[OTBS])C=CC2=C1O[C@H]3CC(=O)C=C[C@@]32CC(=O)OC",
            "product_smiles": "COC1=C(CC[OTBS])C=CC2=C1O[C@H]3C(O)C=C[C@@]32CC(=O)OC",
            "notes": "Selective reduction of the alpha,beta-unsaturated ketone to an allylic alcohol.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COC1=CC=C2C(O3)=C1C[C@](C(=O)OC)(C[OTBS])[C@H]4C=C[C@H](O)C[C@@H]4[C@@H]23",
            "product_smiles": "COC1=CC=C2C(O3)=C1C[C@](C(=O)OC)(C[OTBS])[C@H]4C=C[C@H](OS(=O)(=O)C)C[C@@H]4[C@@H]23",
            "notes": "Mesylation of a secondary alcohol to form a mesylate.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic Substitution",
            "reagents": "Cs2CO3, nBu4NI",
            "reagent_smiles": "Sc1ccccc1",
            "conditions": "DMF, 0 °C to rt",
            "yield": "91% (2 steps)",
            "reactant_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@@]3(C=C[C@H](C[C@@H]3O2)OS(=O)(=O)C)CC(=O)OC)OC",
            "product_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@@]3(C=C[C@H](C[C@@H]3O2)[SPh])CC(=O)OC)OC",
            "notes": "Substitution of a mesylate leaving group by a thiophenyl nucleophile.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Ester Reduction",
            "reagents": "DIBAL-H",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]4C=CC[C@H](SC5=CC=CC=C5)[C@@H]4[C@@]3(C(=O)OC)C[OTBS]",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]4C=CC[C@H](SC5=CC=CC=C5)[C@@H]4[C@@]3(C[OH])C[OTBS]",
            "notes": "Reduction of methyl ester to primary alcohol using DIBAL-H, with retention of TBS protecting group, SPh group, and stereochemistry.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "84%",
            "reactant_smiles": "[OMe]c1ccc2c1O[C@@H]3C[C@]([CH2]OH)([CH2][OTBS])[C@@H]5C[C@H]2[C@H]3[C@H]5C=C[C@@H]([SPh])C",
            "product_smiles": "[OMe]c1ccc2c1O[C@@H]3C[C@](C=O)([CH2][OTBS])[C@@H]5C[C@H]2[C@H]3[C@H]5C=C[C@@H]([SPh])C",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane (DMP).",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Reductive Amination",
            "reagents": "MeNH2, NaBH4, MeOH",
            "reagent_smiles": "",
            "conditions": "60 °C to rt",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)[C@@H]3C[C@H]4C=C[C@H](S[Ph])[C@@]45C[C@@]3(O2)[C@@](C=O)([CH2][OTBS])C5",
            "product_smiles": "COc1ccc2c(c1)[C@@H]3C[C@H]4C=C[C@H](S[Ph])[C@@]45C[C@@]3(O2)[C@@](CNC)([CH2][OTBS])C5",
            "notes": "An aldehyde is converted to a secondary methylamine via reductive amination using methylamine and sodium borohydride.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Amine Protection",
            "reagents": "(Boc)2O, NEt3",
            "reagent_smiles": "",
            "conditions": "DMF, rt",
            "yield": "76% (2 steps)",
            "reactant_smiles": "CNCC[C@@]12[C@@H](C[O][Si](C)(C)C(C)(C)C)C[C@@H](S[C@@H]3c4ccccc4)C=C[C@@H](O[C@H]1c5ccc(OC)c6c5O[C@H]26)C3",
            "product_smiles": "C[N](C(=O)OC(C)(C)C)CC[C@@]12[C@@H](C[O][Si](C)(C)C(C)(C)C)C[C@@H](S[C@@H]3c4ccccc4)C=C[C@@H](O[C@H]1c5ccc(OC)c6c5O[C@H]26)C3",
            "notes": "Secondary N-methyl amine is protected with a Boc group to form a tertiary N-methyl-N-Boc amine. All other functional groups and stereocenters remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Deprotection",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N(C)[C@@H]1CC[C@H]2[C@](C1)(CC[OTBS])[C@H]3C=C[C@H](C[C@@H]4O[C@]5(C=C([OMe])C=C5)C[C@H]43)[SPh]",
            "product_smiles": "[Boc]N(C)[C@@H]1CC[C@H]2[C@](C1)(CCO)[C@H]3C=C[C@H](C[C@@H]4O[C@]5(C=C([OMe])C=C5)C[C@H]43)[SPh]",
            "notes": "Deprotection of tert-butyldimethylsilyl (TBS) ether to primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "70%",
            "reactant_smiles": "[Boc]N(C)CC[C@@]1(CO)[C@H]2C=C[C@H]([SPh])C[C@H]2OC4=C1C(=CC=C4OC)",
            "product_smiles": "[Boc]N(C)CC[C@@]1(C=O)[C@H]2C=C[C@H]([SPh])C[C@H]2OC4=C1C(=CC=C4OC)",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane (DMP).",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reductive elimination / Aldehyde reduction",
            "reagents": "SmI2, HMPA",
            "reagent_smiles": "",
            "conditions": "THF, -40 °C to rt",
            "yield": "68%",
            "reactant_smiles": "COC1=CC=C2[C@@H]3C4=C1O[C@@H]5C[C@H]([C@H](C=C[C@H]([C@H]5S[Ph])C4)[C@H]3[C@H]2N(C)[Boc])C=O",
            "product_smiles": "COC1=CC=C2[C@@H]3C4=C1O[C@@H]5C[C@H]([C@@H](C=C[C@@H]([C@H]5C4)[C@H]3[C@H]2N(C)[Boc])O)",
            "notes": "Samarium diiodide (SmI2) mediated reductive elimination of a phenyl sulfide and reduction of an aldehyde to an alcohol.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Mesylation / Alcohol Activation",
            "reagents": "",
            "reagent_smiles": "CCN(CC)CC.CS(=O)(=O)Cl",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N(C)1CC[C@]23[C@H]4C=CC[C@@H]2OC5=C3C(=CC=C5OC)C[C@H]4O",
            "product_smiles": "[Boc]N(C)1CC[C@]23[C@H]4C=CC[C@@H]2OC5=C3C(=CC=C5OC)C[C@H]4[OMs]",
            "notes": "Conversion of a secondary alcohol to a mesylate protecting group.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Elimination, Double bond migration",
            "reagents": "DBU",
            "reagent_smiles": "",
            "conditions": "PhMe, reflux",
            "yield": "94%",
            "reactant_smiles": "[Boc]N(C)CC[C@]12[C@@H]3C=CC[C@@]14OC5=C2C(=CC=C5OC)C[C@H]3[OMs]",
            "product_smiles": "[Boc]N(C)CC[C@]12[C@@H]3C=C[C@@]14OC5=C2C(=CC=C5OC)C=C[C@H]3",
            "notes": "Elimination of mesylate (OMs) and formation of a new double bond at C6-C7, with migration of the C7-C8 double bond.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Oxidation",
            "reagents": "SeO2, tBuO2H",
            "reagent_smiles": "",
            "conditions": "dioxane, 50 °C",
            "yield": "58%",
            "reactant_smiles": "[Boc]N(C)[C@H]1CC[C@@H]2[C@@H]3C=C[C@H](C)C[C@@H]4([H])C3=C(C=C21)O[C@@H]5C6=C([OMe])C=CC=C65",
            "product_smiles": "[Boc]N(C)[C@H]1CC[C@@H]2[C@@H]3C=C[C@H](C(O))C[C@@H]4([H])C3=C(C=C21)O[C@@H]5C6=C([OMe])C=CC=C65",
            "notes": "Allylic oxidation of the C8 position to form a tertiary alcohol.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Oxidation",
            "reagents": "IBX",
            "reagent_smiles": "",
            "conditions": "DMF, rt",
            "yield": "92%",
            "reactant_smiles": "CC(C)(C)OC(=O)N1C[C@@H]2C[C@@]34C(C)=C[C@@H]5O[C@H]6C=C[C@@H](O)[C@]2(C=CC(=C34)C(OC)=C6)C15",
            "product_smiles": "CC(C)(C)OC(=O)N1C[C@@H]2C[C@@]34C(C)=C[C@@H]5O[C@H]6C=C[C](=O)[C@]2(C=CC(=C34)C(OC)=C6)C15",
            "notes": "Oxidation of a secondary alcohol to a ketone in a complex bridged polycyclic system (Codeine derivative).",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Reduction (Luche)",
            "reagents": "NaBH4, CeCl3",
            "reagent_smiles": "",
            "conditions": "MeOH, 0 °C",
            "yield": "89%",
            "reactant_smiles": "[Boc]N(C)[C@H]1CC[C@@]23C=C[C@H]4O[C@H]5C=CC(OC)=C[C@]54[C@@H](C(=O)C=C2)[C@@H]13",
            "product_smiles": "[Boc]N(C)[C@H]1CC[C@@]23C=C[C@H]4O[C@H]5C=CC(OC)=C[C@]54[C@@H]([C@H](O)C=C2)[C@@H]13",
            "notes": "Luche reduction of an alpha,beta-unsaturated ketone to a secondary alcohol. The ketone is reduced to a beta-alcohol.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "N-Deprotection, N-Dealkylation",
            "reagents": "TFA",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "88%",
            "reactant_smiles": "[Boc]N(C)1CC[C@]23[C@]4[C@H]5C=C[C@@H](O)C5=C([C@]4O[C@@H]2[C@@H]3C=C1)OC",
            "product_smiles": "N1CC[C@]23[C@]4[C@H]5C=C[C@@H](O)C5=C([C@]4O[C@@H]2[C@@H]3C=C1)OC",
            "notes": "N-Boc and N-methyl groups are removed from the nitrogen atom of N-methyl-N-Boc-norcodeine to yield norcodeine.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Intramolecular Aminomercuration",
            "reagents": "Hg(OAc)2, Et3N",
            "reagent_smiles": "",
            "conditions": "THF, rt",
            "yield": "",
            "reactant_smiles": "CNCC[C@]12[C@@H]3C=CC4=CC=C(C(=C41)O[C@H]2[C@H](C=C3)O)OC",
            "product_smiles": "CC(=O)O[Hg]C1C2=CC=C(C3=C2[C@@H]45CCN(C)[C@H]1[C@@H]5C=C[C@@H]([C@@H]4O3)O)OC",
            "notes": "Intramolecular aminomercuration of a N-methylaminomethyl group onto the adjacent alkene to form a new piperidine ring and an organomercurial product.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Reductive demercuration",
            "reagents": "LiAlH4",
            "reagent_smiles": "[Li][AlH4]",
            "conditions": "THF, rt",
            "yield": "18% (2 steps)",
            "reactant_smiles": "COc1ccc2c3c1OC4CC=C[C@@H](O)[C@@H]4[C@@]5([Hg]OC(C)=O)[C@@H]2C[C@H]N(C)C53",
            "product_smiles": "CN1CC[C@@]23[C@H]4C=C[C@@H]([C@@H]2OC5=C3C(=CC=C5OC)C[C@H]41)O",
            "notes": "Reductive removal of the acetoxymercury group, yielding codeine. The reaction is described as occurring in 2 steps, but only the overall transformation is shown.",
            "substeps": []
        }
    ]
}