{
    "$schema": "../schema.json",
    "meta": {
        "id": "domoic-acid-ohfune-1982",
        "molecule_name": "Domoic Acid",
        "class": "Natural Product",
        "author": "Ohfune",
        "year": 1982
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Mixed Anhydride Formation",
            "reagents": "THF",
            "reagent_smiles": "CCOC(=O)Cl.CCN(CC)CC",
            "conditions": "-10 °C",
            "yield": "",
            "reactant_smiles": "CC(C)(C)OC(=O)N1[C@H](CCC1=O)C(=O)O",
            "product_smiles": "CCOC(=O)OC(=O)[C@H]1CCC(=O)N1C(=O)OC(C)(C)C",
            "notes": "Carboxylic acid activated as ethyl carbonic anhydride with ethyl chloroformate and triethylamine.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Ester Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "[Na+].[BH4-].CCO",
            "conditions": "EtOH, -10 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N1[C@@H](C(=O)C(=O)OCC)CCC1=O",
            "product_smiles": "[Boc]N1[C@@H](CO)CCC1=O",
            "notes": "Reduction of an ethyl oxalate ester to a primary alcohol using sodium borohydride. Stereochemistry is maintained.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Protection (Silylation)",
            "reagents": "TBSCl, imidazole",
            "reagent_smiles": "",
            "conditions": "DMF",
            "yield": "",
            "reactant_smiles": "[Boc]N1[C@@H](CCC1=O)CO",
            "product_smiles": "[Boc]N1[C@@H](CCC1=O)C[OTBS]",
            "notes": "Protection of a primary alcohol with tert-butyldimethylsilyl (TBS) group.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Alpha-selenation",
            "reagents": "LDA, PhSeCl",
            "reagent_smiles": "",
            "conditions": "THF, -78 °C",
            "yield": "",
            "reactant_smiles": "CC(C)(C)OC(=O)N1[C@@H](CO[Si](C)(C)C(C)(C)C)CCC1=O",
            "product_smiles": "O=C1C([Se]c2ccccc2)CC[C@@H](CO[Si](C)(C)C(C)(C)C)N1C(=O)OC(C)(C)C",
            "notes": "Alpha-selenation of a pyrrolidinone lactam at the carbon alpha to the carbonyl, mediated by LDA followed by electrophilic phenylselenium chloride.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Oxidative Elimination / Selenoxide Elimination",
            "reagents": "O3, NaOAc",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, -78 °C then 0 °C",
            "yield": "70% (over 5 steps)",
            "reactant_smiles": "O=C1N([Boc])C(Se[Ph])C[C@@H](CO[OTBS])1",
            "product_smiles": "O=C1C=C[C@@H](CO[OTBS])N1[Boc]",
            "notes": "Oxidative elimination of the PhSe group to form a pyrrolinone alkene, retaining the N-Boc and OTBS protecting groups and the existing stereochemistry.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Diels-Alder cycloaddition",
            "reagents": "",
            "reagent_smiles": "C=CC(C)=C[OTMS]",
            "conditions": "135 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N1C(=O)C=C[C@@H]1C[OTBS]",
            "product_smiles": "[Boc]N1C(=O)[C@@H]2[C@@H](C[OTBS])[C@H]3C4=C([OTMS])[C@H](C)[C@@H]2CC3C1=O",
            "notes": "Formation of a bicyclic lactam system via Diels-Alder cycloaddition.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Ozonolysis",
            "reagents": "O₃, Me₂S",
            "reagent_smiles": "[O-]O+=O.ClCCl.CSC",
            "conditions": "CH₂Cl₂, -78 °C",
            "yield": "",
            "reactant_smiles": "C[C@H]1CCC(=C([OTMS]))C[C@@H]2[C@H]1C(=O)N([Boc])[C@H]2C[OTBS]",
            "product_smiles": "O=C1N([Boc])[C@H](C[OTBS])[C@H](CC(=O)O)[C@@H]([C@H](C)C=O)C1",
            "notes": "Reductive ozonolysis of an enol silyl ether, cleaving the cyclohexene ring to form an aldehyde and a carboxylic acid.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Esterification",
            "reagents": "CH2N2",
            "reagent_smiles": "C=[N+]=[N-]",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "[OTBS]C[C@@H]1C(CC(=O)O)[C@@H]([C@H](C)C=O)C(=O)N1[Boc]",
            "product_smiles": "[OTBS]C[C@@H]1C(CC(=O)OC)[C@@H]([C@H](C)C=O)C(=O)N1[Boc]",
            "notes": "Methylation of carboxylic acid to methyl ester using diazomethane. Stereochemistry on the pyrrolidinone ring and side chain retained.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Ketalization / Acetalization",
            "reagents": "pTSA",
            "reagent_smiles": "CC1(C)OCCO1",
            "conditions": "rt",
            "yield": "40% (4 steps)",
            "reactant_smiles": "[OTBS]C[C@H]1[C@@H](C[CO2Me])[C@H]([C@@H](C)C=O)C(=O)N1[Boc]",
            "product_smiles": "[OTBS]C[C@H]1[C@@H](C[CO2Me])[C@H]([C@@H](C)C2OCCO2)C(=O)N1[Boc]",
            "notes": "Aldehyde converted to 1,3-dioxolane ketal using 2,2-dimethyl-1,3-dioxolane and p-TsOH.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Reduction",
            "reagents": "BH3.DMS",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC(=O)C[C@@H]1[C@@H](C[OTBS])N([Boc])C(=O)[C@H]1[C@@H](C)C2OCCO2",
            "product_smiles": "OCC[C@@H]1[C@@H](C[OTBS])N([Boc])C[C@H]1[C@@H](C)C2OCCO2",
            "notes": "Reduction of methyl ester to primary alcohol and lactam to pyrrolidine using borane-dimethyl sulfide complex.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Deprotection",
            "reagents": "MeOH, pTsOH",
            "reagent_smiles": "",
            "conditions": "MeOH",
            "yield": "",
            "reactant_smiles": "[OTBS]C[C@@H]1C(CCO)C(CN1[Boc])[C@H](C)C2OCCO2",
            "product_smiles": "C[C@@H](C1CC2[C@@H](CO)C(CCO)C1N2[Boc])C3OCCO3",
            "notes": "Acid-catalyzed deprotection of a tert-butyldimethylsilyl (TBS) ether to a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Oxidation",
            "reagents": "PDC",
            "reagent_smiles": "",
            "conditions": "DMF, 40 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N1CCC[C@H]([C@@H](CO)[C@H](C)C2OCCO2)[C@@H]1CO",
            "product_smiles": "[Boc]N1CCC[C@H]([C@@H](C(=O)O)[C@H](C)C2OCCO2)[C@@H]1C(=O)O",
            "notes": "Oxidation of two primary alcohol groups to carboxylic acids.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Esterification",
            "reagents": "CH₂N₂",
            "reagent_smiles": "C=[N+]=[N-]",
            "conditions": "",
            "yield": "70% (4 steps)",
            "reactant_smiles": "[Boc]N1C[C@@H](C(=O)O)CC[C@H]([C@@H](C)C2OCCO2)(CC(=O)O)C1",
            "product_smiles": "[Boc]N1C[C@@H](C(=O)OC)CC[C@H]([C@@H](C)C2OCCO2)(CC(=O)OC)C1",
            "notes": "Methylation of two carboxylic acid groups to methyl esters using diazomethane. Stereochemistry retained.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Acetal Hydrolysis",
            "reagents": "AcOH",
            "reagent_smiles": "",
            "conditions": "60 °C",
            "yield": "64%",
            "reactant_smiles": "C[C@@H]([C@H]1[C@@H]2N([Boc])C[C@H](C(=O)OC)[C@@]12CC(=O)OC)C3OCCO3",
            "product_smiles": "CC([C@H]1[C@@H]2N([Boc])C[C@H](C(=O)OC)[C@@]12CC(=O)OC)C=O",
            "notes": "Acetal protecting group removed to yield an aldehyde.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Wittig olefination",
            "reagents": "Ph3P(Cl)CH2OMe, tAmONa",
            "reagent_smiles": "COc[P+](c1ccccc1)(c2ccccc2)c3ccccc3.[Cl-].CC(C)(C)O[Na]",
            "conditions": "benzene",
            "yield": "",
            "reactant_smiles": "[Boc]N1C[C](C=O)[C@@H](CC(=O)OC)[C@H]1C(=O)OC",
            "product_smiles": "[Boc]N1C[C](/C=C/OC)[C@@H](CC(=O)OC)[C@H]1C(=O)OC",
            "notes": "Conversion of an aldehyde to an (E)-vinyl ether via Wittig reaction.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Selenylation / Oxidative cleavage (implied)",
            "reagents": "THF, Et3N, H2O",
            "reagent_smiles": "Cl[Se]c1ccccc1",
            "conditions": "RT",
            "yield": "",
            "reactant_smiles": "[Boc]N1CC[C@@H](CC(=O)OC)[C@@H](C(=O)OC)[C@@H](C(C)C/C=C/OC)C1",
            "product_smiles": "[Boc]N1CC[C@@H](CC(=O)OC)[C@@H](C(=O)OC)[C@@H]([C@@H](C)[C@@H](C=O)[Se]c2ccccc2)C1",
            "notes": "Addition of PhSeCl to the enol ether, followed by oxidation to an aldehyde and selenylation.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Selenoxide Elimination",
            "reagents": "NBS, NaOAc",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "",
            "reactant_smiles": "C(C)(C1CN([C@@H]([C@@H]1CC(=O)OC)C(=O)OC)[Boc])[C@H](C=O)[Se]c2ccccc2",
            "product_smiles": "C/C(=C/C=O)/C1CN([C@@H]([C@@H]1CC(=O)OC)C(=O)OC)[Boc]",
            "notes": "Oxidation of selenide followed by elimination to form an E-alkene.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Wittig olefination",
            "reagents": "nBuLi",
            "reagent_smiles": "[P+](c1ccccc1)(c2ccccc2)c3ccccc3C[C@H](C)CO",
            "conditions": "THF, -78 °C",
            "yield": "",
            "reactant_smiles": "C/C(=C\\C=O)/[C@H]1CN([C@H]([C@@H]1CC(=O)OC)C(=O)OC)[Boc]",
            "product_smiles": "C/C(=C\\C=C/[C@H](C)CO)/[C@H]1CN([C@H]([C@@H]1CC(=O)OC)C(=O)OC)[Boc]",
            "notes": "Wittig olefination of an aldehyde to form an E-alkene. The existing Z-alkene and all chiral centers in the pyrrolidine ring are preserved. The stereochemistry of the new chiral center on the side chain is established as R.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Jones oxidation",
            "reagents": "CrO3, H2SO4",
            "reagent_smiles": "",
            "conditions": "H2O, acetone",
            "yield": "",
            "reactant_smiles": "C/C(=C/C=C/[C@@H](C)CO)[C@@H]1[C@H]2N([Boc])C[C@@H](C(=O)OC)[C@H]2CC(CC(=O)OC)C1",
            "product_smiles": "C/C(=C/C=C/[C@H](C)C(=O)O)[C@@H]1[C@H]2N([Boc])C[C@@H](C(=O)OC)[C@H]2CC(CC(=O)OC)C1",
            "notes": "Jones oxidation of a primary alcohol to a carboxylic acid, accompanied by an unexpected inversion of stereochemistry at the adjacent chiral center.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Esterification (O-methylation)",
            "reagents": "CH2N2",
            "reagent_smiles": "C=[N+]=[N-]",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C[C@H](C/C=C/C=C(\u0004)C1C[C@H]2[C@H](N(C1)[Boc])[C@H](C(=O)OC)[C@@H]2CC(=O)OC)C(=O)O",
            "product_smiles": "C[C@H](C/C=C/C=C(\u0004)C1C[C@H]2[C@H](N(C1)[Boc])[C@H](C(=O)OC)[C@@H]2CC(=O)OC)C(=O)OC",
            "notes": "O-methylation of the carboxylic acid to a methyl ester using diazomethane. The Boc protecting group and the other two methyl esters remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Ester Hydrolysis",
            "reagents": "KOH",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C/C(=C/C=C/[C@@H](C)C(=O)OC)/C1CC2[C@@H](CC(=O)OC)[C@@H](C(=O)OC)N(C12)[Boc]",
            "product_smiles": "C/C(=C/C=C/[C@@H](C)C(=O)O)/C1CC2[C@@H](CC(=O)O)[C@@H](C(=O)O)N(C12)[Boc]",
            "notes": "Hydrolysis of three methyl esters to carboxylic acids using potassium hydroxide. The N-Boc protecting group remains intact.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Deprotection, Oxidation",
            "reagents": "TFA",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "[Boc]N1[C@H](C/C(=C/C=C/[C@H](C)C(=O)O)/)[C@H](CC(=O)O)C[C@@H]1C(=O)O",
            "product_smiles": "C[C@H](/C=C/C=C(/C(=O)O)[C@H]1CN[C@@H]([C@H]1CC(=O)O)C(=O)O)C(=O)O",
            "notes": "Boc deprotection and oxidation of vinylic methyl group to carboxylic acid.",
            "substeps": []
        }
    ]
}