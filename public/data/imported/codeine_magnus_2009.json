{
    "$schema": "../schema.json",
    "meta": {
        "id": "codeine-magnus-2009",
        "molecule_name": "Codeine",
        "class": "Natural Product",
        "author": "Magnus",
        "year": 2009
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Ozonolysis / Reductive Cleavage",
            "reagents": "O₃, NaBH₄",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C=CCC1=CC(=C(C=C1)OC)O",
            "product_smiles": "COC1=C(C=C(C=C1)CCO)O",
            "notes": "Reductive ozonolysis of a terminal alkene to form a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Alcohol Protection",
            "reagents": "TBSCl, BuLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=C(C=C(C=C1)CCO)O",
            "product_smiles": "COC1=C(C=C(C=C1)CCO[OTBS])O",
            "notes": "Selective silyl ether formation of the primary alcohol, protecting it as a TBS ether, leaving the phenolic hydroxyl group untouched.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Williamson Ether Synthesis",
            "reagents": "K2CO3, acetone",
            "reagent_smiles": "COC(=O)C(Br)C(=O)OC",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1c(O)cc(CC[OTBS])c1",
            "product_smiles": "COc1c(OC(C(=O)OC)C(=O)OC)cc(CC[OTBS])c1",
            "notes": "Phenol alkylation with dimethyl 2-bromomalonate to form a malonate ether, catalyzed by potassium carbonate in acetone.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Malonate Alkylation / SN2",
            "reagents": "NaH, 4-TBSO-BnCl, DMF",
            "reagent_smiles": "",
            "conditions": "0 °C to 60 °C",
            "yield": "58% (2 steps)",
            "reactant_smiles": "[OTBS]CCC1=CC(OC)=C(OC(C(=O)OC)C(=O)OC)C=C1",
            "product_smiles": "[OTBS]CCC1=CC(OC)=C(OC(C(=O)OC)(C(=O)OC)CC2=CC=C(C=C2)[OTBS])C=C1",
            "notes": "Deprotonation of malonate by NaH, followed by alkylation with 4-TBSO-benzyl chloride to form a spiro-carbon-containing product.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Decarboxylation",
            "reagents": "LiBr",
            "reagent_smiles": "",
            "conditions": "DMSO, 100 °C",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=CC(OC)=C2OC(C(=O)OC)(C(=O)OC)CC3=CC=C([OTBS])C=C3C2=C1",
            "product_smiles": "[OTBS]CCC1=CC(OC)=C2O[CH](C(=O)OC)CC3=CC=C([OTBS])C=C3C2=C1",
            "notes": "Decarboxylation of a geminal diester to a monoester, forming a chiral center. The silyl protecting groups (TBS) remain intact.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "[Li][AlH4]",
            "conditions": "Et2O, 0 °C",
            "yield": "",
            "reactant_smiles": "[TBS]OCCC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)O[TBS])C(=O)OC",
            "product_smiles": "[TBS]OCCC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)O[TBS])CO",
            "notes": "Methyl ester is reduced to a primary alcohol using lithium aluminum hydride. The TBS protecting groups remain untouched.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Deprotection, Oxidation",
            "reagents": "TBAF, HOAc",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)O[C@H](CC2=CC=C([OTBS])C=C2)CO",
            "product_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)O[C@H](CC2C=CC(=O)C=C2)CO",
            "notes": "Deprotection of one silyl ether to a phenol, followed by oxidation to a cyclohexadienone. The reaction proceeds through a chiral center, whose stereochemistry is maintained.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Intramolecular Spiro-Cyclization",
            "reagents": "PhI(OAc)2, NaHCO3",
            "reagent_smiles": "CC(=O)OI(c1ccccc1)OC(=O)C.[Na+].[O-]C(=O)O",
            "conditions": "HFIP",
            "yield": "85%",
            "reactant_smiles": "[OTBS]CCC1=CC([OMe])=C2C=C1OC(CO)CC2C3=CC(=O)C=CC3",
            "product_smiles": "[OTBS]CCC1=C2C(=C(C=C1)[OMe])OC(CO)C2(C3=CC(=O)C=CC3)",
            "notes": "Intramolecular cyclization forming a spirodienone from a chromane derivative with a cyclohexadienone side chain.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Oxidation",
            "reagents": "PCC, 3 Å Ms",
            "reagent_smiles": "",
            "conditions": "Benzene, reflux",
            "yield": "38%",
            "reactant_smiles": "C[Si](C)(C(C)(C)C)OCCC1=C2C(=C(C=C1)OC)OC(CO)CC32C=CC(=O)C=C3",
            "product_smiles": "C[Si](C)(C(C)(C)C)OCCC1=C2C(=C(C=C1)OC)OC(=O)CC32C=CC(=O)C=C3",
            "notes": "Oxidation of a primary alcohol to form a lactone.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Cascade rearrangement / Cyclization / Esterification",
            "reagents": "MeOH, NaN3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1cc2c(cc1CC[OTBS])C3(C=CC(=O)C=C3)CC(=O)O2",
            "product_smiles": "COc1cc(CC[OTBS])c2c1[C@]3(CC(=O)OC)C=CC(=O)C[C@@H]3O2",
            "notes": "Intramolecular cyclization and rearrangement of a spiro-dienone lactone to a fused tricyclic system, involving ring opening of the lactone to form a methyl ester.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "[Na+].[BH4-]",
            "conditions": "0 °C",
            "yield": "85%",
            "reactant_smiles": "COC1=CC=C(CCC[OTBS])C2=C1[C@@]3(C=CC(=O)C[C@@H]3O2)CC(=O)OC",
            "product_smiles": "COC1=CC=C(CCC[OTBS])C2=C1[C@@]3(C=CC(O)C[C@@H]3O2)CC(=O)OC",
            "notes": "Reduction of cyclohexenone to cyclohexenol with a double bond shift.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Mesylation",
            "reagents": "",
            "reagent_smiles": "CS(=O)(=O)Cl.CCN(CC)CC",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)C[C@@](C(=O)OC)(C[OTBS])[C@@H]3CC=C[C](O)C[C@@H]4O[C@H]2[C@@]34",
            "product_smiles": "COc1ccc2c(c1)C[C@@](C(=O)OC)(C[OTBS])[C@@H]3CC=C[C](OS(=O)(=O)C)C[C@@H]4O[C@H]2[C@@]34",
            "notes": "Mesylation of a secondary alcohol using methanesulfonyl chloride (MsCl) and triethylamine (Et3N).",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic Substitution",
            "reagents": "PhSH, Cs2CO3, nBu4NI",
            "reagent_smiles": "",
            "conditions": "DMF, 0 °C to rt",
            "yield": "91% (2 steps)",
            "reactant_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@@]3(C=C[C](C[C@@H]3O2)OS(=O)(=O)C)CC(=O)OC)OC",
            "product_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@@]3(C=C[C@H](C[C@@H]3O2)SCC4=CC=CC=C4)CC(=O)OC)OC",
            "notes": "Nucleophilic substitution of a mesylate group with benzenethiolate, forming a thiophenyl ether with defined stereochemistry.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Ester Reduction",
            "reagents": "DIBAL-H, DCM",
            "reagent_smiles": "",
            "conditions": "-78 to 0 °C",
            "yield": "",
            "reactant_smiles": "C[Oc]1ccc2c(c1)[C@]3(C(=O)OC)C[C@H](O[C@@H]2C[C@H](S[Ph])C=C3)CO[TBS]",
            "product_smiles": "C[Oc]1ccc2c(c1)[C@]3(CO)C[C@H](O[C@@H]2C[C@H](S[Ph])C=C3)CO[TBS]",
            "notes": "Methyl ester reduced to primary alcohol using DIBAL-H.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "84% (2 steps)",
            "reactant_smiles": "COc1ccc2c1O[C@@H]3[C@@H]4C[C@@H](SC5=CC=CC=C5)C=CC[C@]4(C[C@]32)C(CO[TBS])CO",
            "product_smiles": "COc1ccc2c1O[C@@H]3[C@@H]4C[C@@H](SC5=CC=CC=C5)C=CC[C@]4(C[C@]32)C(CO[TBS])C=O",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Reductive Amination",
            "reagents": "MeNH2, NaBH4, MeOH",
            "reagent_smiles": "",
            "conditions": "60 °C to rt",
            "yield": "",
            "reactant_smiles": "COC1=CC=C2C(=C1)[C@]3(CC=O)(CCC[TBS])C=C[C@H](C[C@@H]3O2)SCC4=CC=CC=C4",
            "product_smiles": "COC1=CC=C2C(=C1)[C@]3(CCNC)(CCC[TBS])C=C[C@H](C[C@@H]3O2)SCC4=CC=CC=C4",
            "notes": "Reductive amination of an aldehyde to a secondary amine using methylamine and sodium borohydride. The aldehyde group is replaced by a methylaminoethyl group.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Amine Protection",
            "reagents": "(Boc)2O, NEt3, DMF",
            "reagent_smiles": "",
            "conditions": "rt",
            "yield": "76% (2 steps)",
            "reactant_smiles": "C[TBS]OC[C@@H]1[C@@H]2CN(C)CC[C@H]2[C@]3(C[C@H]([SPh])C=C[C@H]3[C@@H]15)OC6=C5C=C([OMe])C=C6",
            "product_smiles": "C[TBS]OC[C@@H]1[C@@H]2C[N(C)[Boc]]CC[C@H]2[C@]3(C[C@H]([SPh])C=C[C@H]3[C@@H]15)OC6=C5C=C([OMe])C=C6",
            "notes": "Protection of a secondary N-methyl amine with a Boc group.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Deprotection",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@H]3C=C[C@@H](S[C@H]4ccccc4)[C@@H]5C[C@H](O[Si](C)(C)C(C)(C)C)C[C@@](C[C@H]3N(C)C(=O)OC(C)(C)C)(C5)C2",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3C=C[C@@H](S[C@H]4ccccc4)[C@@H]5C[C@H](O)C[C@@](C[C@H]3N(C)C(=O)OC(C)(C)C)(C5)C2",
            "notes": "Deprotection of TBS ether to alcohol.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "70% (2 steps)",
            "reactant_smiles": "COc1cc2c(cc1)O[C@H]3[C@H]4C=C[C@H]([SPh])C[C@@H]4[C@@]2(CO)CCN([Boc])C",
            "product_smiles": "COc1cc2c(cc1)O[C@H]3[C@H]4C=C[C@H]([SPh])C[C@@H]4[C@@]2(C=O)CCN([Boc])C",
            "notes": "Primary alcohol oxidized to aldehyde",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reductive elimination, Ketone reduction",
            "reagents": "SmI2, HMPA",
            "reagent_smiles": "",
            "conditions": "THF, -40 °C to rt",
            "yield": "68%",
            "reactant_smiles": "[Boc]N(C)C[C@@H]1C[C@@H]2C3=C(C=CC(=C3)OC)O[C@@H]4[C@@H]2[C@H]1C[C@]5(=O)[C@H](S[C]6=CC=CC=C6)C=C[C@H]45",
            "product_smiles": "[Boc]N(C)C[C@@H]1C[C@@H]2C3=C(C=CC(=C3)OC)O[C@@H]4[C@@H]2[C@H]1C[C@H](O)C=C[C@H]4",
            "notes": "Reductive elimination of the phenylthio group and reduction of the ketone to an alcohol using samarium diiodide.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et₃N",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "CC(C)(C)OC(=O)N(C)CC[C@]12[C@@H]3C=CC[C@@H]1OC4=C2C(=CC=C4OC)C[C@H]3O",
            "product_smiles": "CC(C)(C)OC(=O)N(C)CC[C@]12[C@@H]3C=CC[C@@H]1OC4=C2C(=CC=C4OC)C[C@H]3OS(=O)(=O)C",
            "notes": "The secondary alcohol is converted into a mesylate ester.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Elimination",
            "reagents": "DBU",
            "reagent_smiles": "",
            "conditions": "PhMe, reflux",
            "yield": "94%",
            "reactant_smiles": "[Boc]N(C)C[C@]12[C@@H]([OMs])3C=CC[C@@]14OC5=C2C(=CC=C5OC)C3",
            "product_smiles": "[Boc]N(C)C[C@]12C3C=CC[C@@]1OC4=C2C(=CC=C4OC)C=C3",
            "notes": "Elimination of mesylate (OMs) to form an exocyclic double bond, from C14 to C8 position of the morphinan core.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Oxidation",
            "reagents": "SeO2, tBuO2H",
            "reagent_smiles": "",
            "conditions": "dioxane, 50 °C",
            "yield": "58%",
            "reactant_smiles": "[Boc]N(C)C1CC=C2C3=C(C=C([OMe])C=C3)O[C@H]4[C@@H]2C=C[C@@H]4C1",
            "product_smiles": "[Boc]N(C)C1CC=C2C3=C(C=C([OMe])C=C3)O[C@H]4[C@@H]2C=C[C@@H]4[C@H](O)C1",
            "notes": "Allylic oxidation of the cyclohexene ring of the N-Boc-N-methyl-norcodeine derivative.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Oxidation",
            "reagents": "IBX",
            "reagent_smiles": "",
            "conditions": "DMF, rt",
            "yield": "92%",
            "reactant_smiles": "[Boc]N(C)C[C@]12C=C[C@@H]3[C@@H]4C=CC5=C([OMe])C=C(C(=C51)O[C@H]2[C@@H](C=C4)O)",
            "product_smiles": "[Boc]N(C)C[C@]12C=C[C@@H]3[C@@H]4C=CC5=C([OMe])C=C(C(=C51)O[C@H]2C(=O)C=C4)",
            "notes": "Oxidation of a secondary alcohol to a ketone using IBX.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Reduction (Luche)",
            "reagents": "NaBH4, CeCl3",
            "reagent_smiles": "",
            "conditions": "MeOH, 0 °C",
            "yield": "89%",
            "reactant_smiles": "[Boc]N(C)C[C@@H]1C=C2C3=C(C=C(OC)C=C3O[C@H]4[C@@H]1[C@@H]4C(=O)C=C2)C",
            "product_smiles": "[Boc]N(C)C[C@@H]1C=C2C3=C(C=C(OC)C=C3O[C@H]4[C@@H]1[C@@H]4[C@H](O)C=C2)C",
            "notes": "Ketone reduction to a specific secondary alcohol (alcohol pointing down) using Luche conditions.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "Deprotection / N-demethylation",
            "reagents": "TFA",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "88%",
            "reactant_smiles": "COc1ccc2c3c1O[C@H]4[C@H](O)C=C[C@@H]5[C@H]4[C@]6(C)[N](C)(C(=O)OC(C)(C)C)CC2C36CC5",
            "product_smiles": "COc1ccc2c3c1O[C@H]4[C@H](O)C=C[C@@H]5[C@H]4[C@]6(C)NCC2C36CC5",
            "notes": "Deprotection of N-Boc and N-demethylation of the tertiary amine to a secondary amine.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Aminomercuration",
            "reagents": "Hg(OAc)2, Et3N, THF",
            "reagent_smiles": "",
            "conditions": "rt",
            "yield": "",
            "reactant_smiles": "CN1CCC23C4C1CC=C2C(C5=C3C(=CC=C5)OC)O4[C@H]6C=CC([C@@H]6O)C",
            "product_smiles": "CC(=O)O[Hg][C@H]1C[C@@H]2C3=C(C=C4C([C@@H]2O[C@H]5[C@@H](O)[C@@H]4[C@H]1N(C)C5)C=C3OC)C=C",
            "notes": "Intramolecular aminomercuration of Codeine's C7=C8 double bond by the N-methyl tertiary amine, forming a new 5-membered ring and introducing an acetoxymercury group.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Reductive demercuration",
            "reagents": "LiAlH4",
            "reagent_smiles": "",
            "conditions": "THF, rt",
            "yield": "18% (over 2 steps)",
            "reactant_smiles": "CN1CC[C@@]23[C@]41([Hg]OC(=O)C)C=C[C@@H]([C@H]2OC5=C3C(=CC=C5OC)C[C@H]41)O",
            "product_smiles": "CN1CC[C@@]23[C@H]4C=C[C@@H]([C@H]2OC5=C3C(=CC=C5OC)C[C@H]41)O",
            "notes": "Reductive demercuration of mercurated codeine derivative to form codeine.",
            "substeps": []
        }
    ]
}