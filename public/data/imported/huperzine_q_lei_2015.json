{
    "$schema": "../schema.json",
    "meta": {
        "id": "huperzine-q-lei-2015",
        "molecule_name": "Huperzine Q",
        "class": "Natural Product",
        "author": "Lei",
        "year": 2015
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Asymmetric Anhydride Opening",
            "reagents": "quinine",
            "reagent_smiles": "OCC1=CC=CC=C1",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O1[C@@H]2[C@@H](C=C[C@H]1)C(=O)OC2=O",
            "product_smiles": "O1[C@@H](C(=O)O)[C@@H](C(=O)OCC2=CC=CC=C2)C=C[C@H]1",
            "notes": "Nucleophilic ring opening of a bicyclic anhydride by benzyl alcohol, catalyzed by quinine, resulting in a monoester monoacid. Stereochemistry at the new chiral centers (original anhydride carbons) is retained (cis, endo).",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Mixed Anhydride Formation",
            "reagents": "ClCO2Et",
            "reagent_smiles": "CCOC(=O)Cl",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C1=CC=C(C=C1)COC(=O)[C@@H]2[C@H]3C=C[C@@H]([C@@H]2C(=O)O)O3",
            "product_smiles": "CCOC(=O)OC(=O)[C@@H]1[C@H]2C=C[C@@H]([C@H]1C(=O)OCC3=CC=CC=C3)O2",
            "notes": "Formation of a mixed anhydride from a carboxylic acid using ethyl chloroformate.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Reduction, Lactonization",
            "reagents": "NaBH₄, aq HCl",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CCOC(=O)[C@H]1[C@H](C(=O)OCCc2ccccc2)[C@@H]3C=CC=C[C@H]1O3",
            "product_smiles": "C1=C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "notes": "Reduction of two esters to primary alcohols, followed by intramolecular cyclization to form a lactone.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Hydrogenation",
            "reagents": "H2, Pd/C",
            "reagent_smiles": "",
            "conditions": "EtOAc",
            "yield": "84% (4 steps)",
            "reactant_smiles": "O=C1OC[C@@H]2[C@@H]1C1=CCC[C@@H]2O1",
            "product_smiles": "O=C1OC[C@@H]2[C@@H]1C1CCCC[C@@H]2O1",
            "notes": "Hydrogenation of the cyclohexene double bond in a bicyclic lactone containing an internal ether bridge. The stereochemistry of the bridgehead carbons is maintained.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Alkylation / Silylation",
            "reagents": "KHMDS, 18-crown-6, methallyl bromide",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=C1O[C@H]2C[C@@H]3OC[C@@H]2CC[C@@H]31",
            "product_smiles": "C=C(C)C[C@H]1[C@H]2C=CC([C@H](O[Si](C)(C)C)O[C@H]1[C@H]2COC=O)",
            "notes": "Lactone enolate formation with KHMDS followed by alkylation with methallyl bromide and silylation of the enol with trimethylsilyl ether (formed in situ).",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Deprotection",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "80% (2 steps)",
            "reactant_smiles": "C=C(C[C@]12C=CC[C@H]([C@H]2COC1=O)[OTMS])",
            "product_smiles": "C=C(C[C@]12C=CC[C@H]([C@H]2COC1=O)O)",
            "notes": "Cleavage of trimethylsilyl (TMS) ether to form an alcohol.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Epoxidation",
            "reagents": "VO(OEt)3, TBHP, MS 4A",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "95%",
            "reactant_smiles": "C=C(C)C[C@@]12[C@H](COC1=O)[C@H](O)CC=CC2",
            "product_smiles": "C=C(C)C[C@@]12[C@H](COC1=O)[C@H](O)[C@H]3O[C@H]4CC3C24",
            "notes": "Vanadyl-catalyzed epoxidation of a cyclohexene alkene to form an epoxide that is trans to the adjacent alcohol.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Swern oxidation",
            "reagents": "(COCl)₂, DMSO, i-Pr₂NEt",
            "reagent_smiles": "ClC(=O)C(=O)Cl.CS(C)=O.CCN(C(C)C)C(C)C",
            "conditions": "CH₂Cl₂",
            "yield": "95%",
            "reactant_smiles": "CC(=C)C[C@@]12[C@@H](COC1=O)[C@H](O)[C@H]3C[C@@H]4O[C@H]4[C@H]32",
            "product_smiles": "CC(=C)C[C@@]12[C@@H](COC1=O)[C@@H]3C(=O)C(O)C=C[C@H]32",
            "notes": "Oxidation of a secondary alcohol to a ketone with concomitant rearrangement/elimination to form an alpha,beta-unsaturated ketone with a tertiary alcohol.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Acid-catalyzed rearrangement / Cyclization",
            "reagents": "cat. PTSA",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "61%",
            "reactant_smiles": "CC(=C)C[C@@]12[C@@H](COC1=O)C(=O)C=C[C@H]2O",
            "product_smiles": "CC1=CC2C(C(=O)O)C3C=C1C3C4C(=O)OCC24",
            "notes": "Acid-catalyzed rearrangement and cyclization of a bicyclic enone-lactone to a bridged bicyclic lactone with a carboxylic acid.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Alcohol protection (MOM ether formation)",
            "reagents": "MOMCl, i-Pr2NEt, TBAI",
            "reagent_smiles": "",
            "conditions": "THF, reflux",
            "yield": "",
            "reactant_smiles": "CC1=CC2CC(=O)C3COC(=O)C23C1O",
            "product_smiles": "CC1=CC2CC(=O)C3COC(=O)C23C1O[MOM]",
            "notes": "Protection of a tertiary alcohol as its methoxymethyl (MOM) ether.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Lactone opening / Thioether formation",
            "reagents": "KOH, PhSH, MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "90% (2 steps)",
            "reactant_smiles": "C[C@H]1C=C[C@@H]2[C@H]3C[C@H](O[CH2]OC)[C@]4(C(=O)O[CH2][C@H]5C4)[C@H]1[C@@H]2[C@H]5C3",
            "product_smiles": "C[C@H]1C=C[C@@H]2[C@H]3C[C@H](O[CH2]OC)[C@]4(C(=O)O)[C@@H]5(CSc1ccccc1)[C@H]1[C@@H]2[C@H]5C3",
            "notes": "Lactone is opened to a carboxylic acid and a thioether by nucleophilic attack of thiophenol.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Curtius rearrangement",
            "reagents": "DPPA, Et3N",
            "reagent_smiles": "",
            "conditions": "PhH, reflux",
            "yield": "",
            "reactant_smiles": "COC(OC)[C@]1(C(=O)O)[C@@H]2C[C@@H](Sc3ccccc3)C(=O)C[C@@]12C=C(C)C",
            "product_smiles": "COC(OC)[C@]1(N=C=O)[C@@H]2C[C@@H](Sc3ccccc3)C(=O)C[C@@]12C=C(C)C",
            "notes": "A carboxylic acid is converted to an isocyanate via a Curtius rearrangement.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Methanolysis of Isocyanate",
            "reagents": "MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "89% (2 steps)",
            "reactant_smiles": "C[C@H]1C=C2C[C@H]3N(C1=O)[C@@H]([MOMO])C2([N=C=O])[C@@H]3CS[Ph]",
            "product_smiles": "C[C@H]1C=C2C[C@H]3N(C1=O)[C@@H]([MOMO])C2([NH]C(=O)OC)[C@@H]3CS[Ph]",
            "notes": "The isocyanate group is converted to a methyl carbamate using methanol under reflux conditions. The bicyclic core and other functional groups remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Oxidation",
            "reagents": "m-CPBA",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "",
            "reactant_smiles": "C[C@]1=C[C@@]23C[C@H](C(=O)C[C@@H](CS[Ph])[C@]2([NH]C(=O)OC)C1)C3[MOMO]",
            "product_smiles": "C[C@]1=C[C@@]23C[C@H](C(=O)C[C@@H](CS(=O)[Ph])[C@]2([NH]C(=O)OC)C1)C3[MOMO]",
            "notes": "Oxidation of a sulfide to a sulfoxide using m-CPBA. The methyl carbamate (NHCO2Me) and methoxymethyl ether (MOMO) groups are preserved.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Elimination",
            "reagents": "K2CO3",
            "reagent_smiles": "",
            "conditions": "toluene, reflux",
            "yield": "95% (2 steps)",
            "reactant_smiles": "C[C@H]1C=C[C@@H]2C3C(=O)C[C@H](CS(=O)c4ccccc4)[C@@]3(OCH2OCH3)[C@H](NC(=O)OC)[C@@]12",
            "product_smiles": "C=C1C(=O)C[C@H]2[C@@H]3C=C(C)[C@@]13[C@H](NHC(=O)OC)[C@]2(OCH2OCH3)",
            "notes": "Sulfoxide elimination to form exocyclic alkene.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Michael reaction",
            "reagents": "KOT-Bu",
            "reagent_smiles": "CN(C)C(=O)CS(=O)c1ccccc1",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC(=O)N[C@]1([C@@H]2[C@@H](C(=O)C(=C)[C@H]3[C@H]1[C@@H]2C=C3C)OC(OC)C)",
            "product_smiles": "COC(=O)N[C@]1([C@@H]2[C@@H](C(=O)C(C[C@@H](S(=O)c3ccccc3)[C@H](C(=O)N(C)C)))[C@H]3[C@H]1[C@@H]2C=C3C)OC(OC)C",
            "notes": "Michael addition of N,N-dimethyl-2-(phenylsulfinyl)acetamide to an enone, forming a new carbon-carbon bond and two new stereocenters with specific relative configuration.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Lactone formation, elimination, oxidation (sulfoxide elimination)",
            "reagents": "",
            "reagent_smiles": "",
            "conditions": "toluene, reflux",
            "yield": "65% (2 steps)",
            "reactant_smiles": "C[C@@H]1C=C[C@@H]2C(=O)[C@H]([C@@H](C(=O)N(C)C)[S@@](=O)[Ph])[C@]13[C@H]2C[C@H]([C@@]3([MOMO])NC(=O)OC)",
            "product_smiles": "C[C@@H]1C=C[C@@H]2C3=C(C=CC(=O)O3)[C@]14[C@H]2C[C@H]([C@@]4([MOMO])NC(=O)OC)",
            "notes": "Intramolecular cyclization involving the ketone, likely via a Ramberg-Bäcklund-type elimination or Pummerer rearrangement followed by cyclization, to form an alpha,beta-unsaturated lactone. The sulfinyl group and dimethylamide are eliminated.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Aminolysis / Lactamization",
            "reagents": "aq NH3",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=O)O3)C(C1)(C2O[MOM])NC(=O)OC",
            "product_smiles": "[MOM]OC1C2C=C(CC1(C3=C(C2)NC(=O)C=C3)NC(=O)OC)",
            "notes": "Conversion of a lactone to a lactam via aminolysis with aqueous ammonia.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "O-methylation / Aromatization",
            "reagents": "Mel, Ag2CO3",
            "reagent_smiles": "",
            "conditions": "CHCl3, reflux",
            "yield": "52% (2 steps)",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=O)N3)C(C1)(C2OCOC)NC(=O)OC",
            "product_smiles": "COCOC1C2C=C(CC1(C3=C(C2)N=C(C=C3)OC)NC(=O)OC)",
            "notes": "Aromatization of a bicyclic lactam to a methoxypyridine derivative, likely involving N-alkylation and subsequent O-methylation. The MOMO and carbamate protecting groups remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Deprotection",
            "reagents": "TMSCl, NaI",
            "reagent_smiles": "",
            "conditions": "MeCN",
            "yield": "",
            "reactant_smiles": "[OMe]C1=NC=CC2=C1C3(NC(=O)OC)C([MOMO])(CC4C=C(C)CC34)C2",
            "product_smiles": "[OMe]C1=NC=CC2=C1C3(NC(=O)OC)C(O)(CC4C=C(C)CC34)C2",
            "notes": "MOM (Methoxymethyl) ether deprotection to a hydroxyl group.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Swern oxidation",
            "reagents": "CH2Cl2",
            "reagent_smiles": "ClC(=O)C(=O)Cl.CS(C)=O.CCN(C(C)C)C(C)C",
            "conditions": "",
            "yield": "95%",
            "reactant_smiles": "COC1=NC2=C(C=C1)C3(O)(NC(=O)OC)C4CC5C=C(C)C5C43",
            "product_smiles": "COC1=NC2=C(C=C1)C3(=O)(NC(=O)OC)C4CC5C=C(C)C5C43",
            "notes": "Oxidation of a tertiary alcohol to a ketone on a complex bridged system.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Nucleophilic Addition",
            "reagents": "CH2CHLi",
            "reagent_smiles": "C=C[Li]",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(n1)[C@@]3(C(=O)[C@H]4C(=C2)C=C(C)C34)NC(=O)OC",
            "product_smiles": "COc1ccc2c(n1)[C@@]3([C@](O)(C=C)[C@H]4C(=C2)C=C(C)C34)NC(=O)OC",
            "notes": "Addition of vinyl lithium to a ketone, forming a tertiary alcohol with new stereochemistry.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Chlorination",
            "reagents": "",
            "reagent_smiles": "ClS(=O)Cl",
            "conditions": "CH2Cl2",
            "yield": "",
            "reactant_smiles": "C=CC1(O)(NC(=O)OC)C23CC(C=CC(C)CC3)N=C(OC)C=C21",
            "product_smiles": "Cl/C=C/CC1(NC(=O)OC)C23CCC(C=CC(C)CC3)N=C(OC)C=C21",
            "notes": "Allylic alcohol undergoes chlorination with allylic rearrangement to form an allylic chloride. The hydroxyl group is replaced by chlorine, and the exocyclic vinyl group migrates to an E-configured internal alkene.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Reduction / Hydrodehalogenation",
            "reagents": "LiBHEt₃",
            "reagent_smiles": "[Li+].[BH-](CC)(CC)CC",
            "conditions": "",
            "yield": "46% (3 steps)",
            "reactant_smiles": "CC1=CC/2CC3=C(C=CC(=N3)OC)C(C1)(\\C2=C\\CCl)NC(=O)OC",
            "product_smiles": "CC=C1C2C=C(C)CC1(C3=C(C2)N=C(C=C3)OC)NC(=O)OC",
            "notes": "Reductive removal of the chloroalkene side chain to a methyl group.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Demethylation, Carbamate Hydrolysis (likely via TMSI)",
            "reagents": "TMSI, CHCl3, MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "",
            "reactant_smiles": "CC=C1C2C=C(C)CC1(C3=C(C2)N=C(C=C3)OC)NC(=O)OC",
            "product_smiles": "CC1=CC2CC3C4=C(C=CC(=O)N4)C(C1)(C2=C3)N",
            "notes": "The methoxy group on the pyridine ring is demethylated and oxidized to a pyridinone. The methyl carbamate is deprotected to a primary amine.",
            "substeps": []
        }
    ]
}