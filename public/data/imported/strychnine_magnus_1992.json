{
    "$schema": "../schema.json",
    "meta": {
        "id": "strychnine-magnus-1992",
        "molecule_name": "Strychnine",
        "class": "Natural Product",
        "author": "Magnus",
        "year": 1992
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Pictet-Spengler / Cyclization",
            "reagents": "",
            "reagent_smiles": "COC(=O)CC(=O)CC(=O)OC",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C1=CC=C2C(=C1)C(=CN2)CCN",
            "product_smiles": "COC(=O)[C@@]12CCCN2CCC3=C1NC4=CC=CC=C34",
            "notes": "Cascade cyclization of a tryptamine derivative with dimethyl 3-oxopentanedioate to form a complex polycyclic indole system, involving Pictet-Spengler type reaction and further ring closures.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "N-protection, Rearrangement",
            "reagents": "CH2Cl2",
            "reagent_smiles": "ClC(=O)OCC(Cl)(Cl)Cl",
            "conditions": "",
            "yield": "79%",
            "reactant_smiles": "COC(=O)[C@@]12CCCN2CCC3=C1NC4=CC=CC=C34",
            "product_smiles": "COC(=O)[C@@]1(CCCN(CCC2=C1NC3=CC=CC=C23)C(=O)OCC(Cl)(Cl)Cl)Cl",
            "notes": "N-protection of tertiary amine with 2,2,2-trichloroethyl chloroformate (Troc-Cl), leading to chlorination at the spiro carbon and expansion of the 6-membered nitrogen-containing ring to a 7-membered ring, concurrently saturating the indole double bond.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Dehydrohalogenation",
            "reagents": "NaOMe",
            "reagent_smiles": "",
            "conditions": "MeOH",
            "yield": "98%",
            "reactant_smiles": "COC(=O)[C@@]1(Cl)CCCN([Troc])CCC2=C1NC3=CC=CC=C23",
            "product_smiles": "COC(=O)/C=C\\C1CCN([Troc])CCC2=C1NC3=CC=CC=C23",
            "notes": "Dehydrochlorination of a tertiary chloride to form an E-alkene.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Schotten-Baumann reaction",
            "reagents": "ClCO2Me, NaOH, Et3NBnCl",
            "reagent_smiles": "",
            "conditions": "CH2Cl2/H2O",
            "yield": "86%",
            "reactant_smiles": "COC(=O)/C/1=C/CCN(CCC2=C1NC3=CC=CC=C23)[Troc]",
            "product_smiles": "COC(=O)/C/1=C/CCN(CCC2=C1N(C3=CC=CC=C23)C(=O)OC)[Troc]",
            "notes": "N-acylation of the indole nitrogen with methyl chloroformate.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Deprotection",
            "reagents": "Zn dust, AcOH",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "82%",
            "reactant_smiles": "COC(=O)/C/1=C/CCN(CCC2=C1N(C3=CC=CC=C23)C(=O)OC)C(=O)OCC(Cl)(Cl)Cl",
            "product_smiles": "COC(=O)/C/1=C/CCN([NH])CCC2C3=C(C=CC=C3)N(C21)C(=O)OC",
            "notes": "Reductive deprotection of 2,2,2-trichloroethoxycarbonyl (Troc) group on the macrocyclic amine.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Amide Coupling",
            "reagents": "BOP-Cl",
            "reagent_smiles": "O=C(O)CSCc1ccccc1.CCN(CC)CC",
            "conditions": "CH2Cl2, 0 °C",
            "yield": "71%",
            "reactant_smiles": "COC(=O)/C/1=C/CCNCCC2C3=C(C=CC=C3)N(C21)C(=O)OC",
            "product_smiles": "COC(=O)/C/1=C/CCN(C(=O)CSCc2ccccc2)CCC2C3=C(C=CC=C3)N(C21)C(=O)OC",
            "notes": "Acylation of a secondary amine to form an amide.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Oxidation",
            "reagents": "m-CPBA, NaHCO3",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, 0 °C",
            "yield": "95%",
            "reactant_smiles": "COC(=O)/C/1=C/CCN(CCC2C3=C(C=CC=C3)N(C21)C(=O)OC)C(=O)CSc1ccccc1",
            "product_smiles": "COC(=O)/C/1=C/CCN(CCC2C3=C(C=CC=C3)N(C21)C(=O)OC)C(=O)CS(=O)c1ccccc1",
            "notes": "Oxidation of a phenyl sulfide to a phenyl sulfoxide using m-CPBA.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Michael addition",
            "reagents": "NaH",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "98%",
            "reactant_smiles": "COC(=O)/C/1=C/CCN(CC/C/2=C1/N(C3=CC=CC=C23)C(=O)OC)C(=O)CS(=O)CC4=CC=CC=C4",
            "product_smiles": "COC(=O)N1C2=CC=CC=C2[C@@H]3[C@H](C(=O)OC)C4[C@@H]5N(CCC4)C(=O)[C@@H](S(=O)c6ccccc6)[C@@H]35",
            "notes": "Intramolecular Michael addition leading to a complex polycyclic structure with multiple new stereocenters.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Pummerer rearrangement",
            "reagents": "(CF3CO)2O, 2,6-di-t-Bu-4-Me-pyridine",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "",
            "reactant_smiles": "COC(=O)N1c2c(ccc3c2c(n1)C(C(=O)OC)(C(=O)OC)[C@@H]4[C@H]5[C@H]([S@](=O)c6ccccc6)C(=O)N(CCC3)C54",
            "product_smiles": "COC(=O)N1c2c(ccc3c2c(n1)C(C(=O)OC)(C(=O)OC)[C@@H]4[C@H]5[C@@](Sc6ccccc6)(OC(=O)C(F)(F)F)C(=O)N(CCC3)C54",
            "notes": "Formation of an alpha-acyloxy thioether from a sulfoxide.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Oxidation",
            "reagents": "HgO, CaCO3",
            "reagent_smiles": "",
            "conditions": "THF/H2O",
            "yield": "",
            "reactant_smiles": "COC(=O)N1C2=CC=CC=C2C3=C1[C@@H](C(=O)OC)[C@H]4C(=O)N5CCC4C3CC5C(SC6=CC=CC=C6)OC(=O)CF3",
            "product_smiles": "COC(=O)N1C2=CC=CC=C2C3=C1[C@@H](C(=O)OC)[C@H]4C(=O)N5CCC4C3CC5C(=O)C(=O)",
            "notes": "Oxidative desulfurization and de-acetoxylation to form a 1,2-diketone using mercury(II) oxide.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Spiroketal formation / Ketone protection",
            "reagents": "DBU",
            "reagent_smiles": "BrCCO",
            "conditions": "PhMe",
            "yield": "81% (3 steps)",
            "reactant_smiles": "COC(=O)N1C2=CC=CC=C2C3=C1CC[C@@H]4[C@@H](C(=O)OC)[C@@H]5C(=O)C(=O)N(CCC5)C34",
            "product_smiles": "COC(=O)N1C2=CC=CC=C2C3=C1CC[C@@H]4[C@@H](C(=O)OC)[C@@H]5C(O6CCO6)N(CCC5)C34",
            "notes": "Formation of a spiro-fused 1,3-dioxolane from an adjacent diketone using 1-bromoethanol (likely converted to ethylene glycol in situ) and DBU.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Reduction",
            "reagents": "BH3.THF",
            "reagent_smiles": "B.C1CCOC1",
            "conditions": "THF",
            "yield": "100%",
            "reactant_smiles": "COC(=O)N1c2ccccc2c3c1c([C@@H](C(=O)OC)(C(=O)OC)[C@H]4CCN5C(=O)C6(OCCO6)CC5)cn3",
            "product_smiles": "COC(=O)N1c2ccccc2c3c1c([C@@H](C(=O)OC)(C(=O)OC)[C@H]4CCN5CC6(OCCO6)CC5)cn3",
            "notes": "Reduction of a lactam (cyclic amide) to a cyclic amine using borane-THF complex.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Workup / Equilibration (structures are identical)",
            "reagents": "NaHCO3",
            "reagent_smiles": "",
            "conditions": "MeOH, reflux",
            "yield": "",
            "reactant_smiles": "COC(=O)[C@H](C(=O)OC)C1C[C@H]2N3CCC4=C([C@H]1NC5=C4C=CC=C5)CC2(OCCO2)C3",
            "product_smiles": "COC(=O)[C@H](C(=O)OC)C1C[C@H]2N3CCC4=C([C@H]1NC5=C4C=CC=C5)CC2(OCCO2)C3",
            "notes": "The reactant and product structures shown in the screenshot are visually identical. The provided reactant SMILES incorrectly showed an N-protected indole and only one methoxycarbonyl group. The provided product SMILES also showed only one methoxycarbonyl group. The corrected SMILES for both structures now reflects two methoxycarbonyl groups on the same chiral carbon and an unprotected indole nitrogen (NH), matching the screenshot. The reaction appears to be a non-transformative step, possibly a workup or an equilibration under mild basic conditions and heat.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Intramolecular Oxidative Cyclization / Oxymercuration",
            "reagents": "Hg(OAc)2, AcOH",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "43% (2 steps)",
            "reactant_smiles": "COC(=O)[C@H]1[C@H]2CCC3N(CC4(OCCO4)CC2)Cc5c1[nH]c6ccccc65",
            "product_smiles": "COC(=O)C1=C2[C@H]3N(CC4(OCCO4)CC[C@H]3)C(C2)=C5[nH]c6ccccc65",
            "notes": "Intramolecular cyclization of an alkene with a tethered amine, forming new C-C and C-N bonds and a new double bond.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Reduction",
            "reagents": "Zn dust, H2SO4",
            "reagent_smiles": "",
            "conditions": "MeOH, reflux",
            "yield": "88%",
            "reactant_smiles": "[C@]12C[C@H]3[C@@]4(CCN3CC15OCCO5)C6=C(C=CC=C6)NC4=C2C(=O)OC",
            "product_smiles": "[C@]12C[C@@H]3[C@@]4(CCN3CC15OCCO5)C6=C(C=CC=C6)N[C@H]4[C@@H]2C(=O)OC",
            "notes": "Reduction of a carbon-carbon double bond leading to the formation of two new stereocenters.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Epimerization",
            "reagents": "NaOMe",
            "reagent_smiles": "",
            "conditions": "MeOH, reflux",
            "yield": "100%",
            "reactant_smiles": "[C@]12C[C@@H]3[C@@]4(CCN3CC15OCCO5)C6=C(C=CC=C6)N[C@H]4[C@H]2C(=O)OC",
            "product_smiles": "[C@]12C[C@@H]3[C@@]4(CCN3CC15OCCO5)C6=C(C=CC=C6)N[C@H]4[C@@H]2C(=O)OC",
            "notes": "Base-catalyzed epimerization of the methyl ester group at the C-2 position (changing from dashed to solid wedge). While the change in stereochemistry is correctly captured, the provided SMILES for reactant and product, even after artifact removal, are syntactically invalid for standard cheminformatics parsers (e.g., due to the complex initial chiral tag and ring closure definitions).",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Sulfonylation",
            "reagents": "PMPSO2Cl, i-Pr2NEt, DMAP",
            "reagent_smiles": "ClS(=O)(=O)C1=CC=C(OC)C=C1.CCN(C(C)C)C(C)C.CN(C)C1=CC=NC=C1",
            "conditions": "CH2Cl2, 0 °C to rt",
            "yield": "81%",
            "reactant_smiles": "COC(=O)[C@@H]1[C@@H]2C[C@H]3N4CCC5(C4)C6=C(C=CC=C6)N[C@H]5[C@@]12OCCO3",
            "product_smiles": "COC(=O)[C@@H]1[C@@H]2C[C@H]3N4CCC5(C4)C6=C(C=CC=C6)N(S(=O)(=O)C7=CC=C(OC)C=C7)[C@H]5[C@@]12OCCO3",
            "notes": "Indole N-H sulfonylation with p-methoxyphenylsulfonyl chloride.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Ester Reduction",
            "reagents": "",
            "reagent_smiles": "[Li+].[BH4-]",
            "conditions": "THF, 50 °C",
            "yield": "67%",
            "reactant_smiles": "[PMP]N1c2ccccc2[C@@]3(C[C@H]4[C@@H](C(=O)OC)[C@@]5(OCCO5)C[C@H]4C[C@@H]1)CCN3",
            "product_smiles": "[PMP]N1c2ccccc2[C@@]3(C[C@H]4[C@@H](CO)[C@@]5(OCCO5)C[C@H]4C[C@@H]1)CCN3",
            "notes": "Reduction of a methyl ester to a primary alcohol using lithium borohydride.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Ketal Hydrolysis / Intramolecular Cyclization",
            "reagents": "HClO4",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "55%",
            "reactant_smiles": "[C@]12C[C@H]3[C@@]4(CCN3CC15OCCO5)c6ccccc6N([C@H]4[C@H]2CO)S(=O)(=O)[PMP]",
            "product_smiles": "[PMP]S(=O)(=O)N1c2ccccc2C34C1CC5[C@H]6[C@H](O)C7(N(C4)C5)[C@H]7O[C@H]6CO3",
            "notes": "Intramolecular trans-ketalization of a primary alcohol with a 1,3-dioxolane ketal to form a new 5-membered cyclic ether and a tertiary alcohol.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Silyl ether formation with rearrangement and oxidation",
            "reagents": "TIPSOTf, DBU",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, 0 °C to rt",
            "yield": "69%",
            "reactant_smiles": "C[C@]12C[C@H]3[C@@]45CCN3[C@H]1CO[C@@]2(CC6=CC=C(C=C64)N(C7=C5C=CC=C7)S(=O)(=O)[PMP])O",
            "product_smiles": "[OTIPS]C[C@@H]1[C@@H]2[C@@]3(CCN4CC(=O)[C@]1(C)C[C@@H]34)C5=C(C=CC=C5)N2S(=O)(=O)[PMP]",
            "notes": "Transformation of a tertiary alcohol/ether to a ketone and silyl-protected primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Horner-Wadsworth-Emmons olefination",
            "reagents": "THF",
            "reagent_smiles": "[K+].[N-](Si(C(C)C)C(C)C)Si(C(C)C)C(C)C.CCOP(=O)(OCC)CC#N",
            "conditions": "",
            "yield": "43%",
            "reactant_smiles": "[OTIPS][C@H]1[C@H]2[C@@]3(CCN4CC(=O)C[C@@H]34)C5=C(C=CC=C5)N(S(=O)(=O)[PMP])C2",
            "product_smiles": "[OTIPS][C@H]1[C@]/2(C)C[C@@H]3[C@@]4(CCN3C\\C2=C\\C#N)C5=C(C=CC=C5)N(S(=O)(=O)[PMP])C2",
            "notes": "Horner-Wadsworth-Emmons olefination converts a ketone to an E-alpha,beta-unsaturated nitrile.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Nitrile Reduction to Aldehyde",
            "reagents": "DIBAL-H",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "",
            "reactant_smiles": "[OTIPS]C[C@@H]1[C@@]2C[C@@H]3[C@@]4(CCN3C\\C2=C\\C#N)C5=C(C=CC=C5)N([C@@H]14)S(=O)(=O)[PMP]",
            "product_smiles": "[OTIPS]C[C@@H]1[C@@]2C[C@@H]3[C@@]4(CCN3C\\C2=C\\C=O)C5=C(C=CC=C5)N([C@@H]14)S(=O)(=O)[PMP]",
            "notes": "The nitrile group of the reactant is reduced to an aldehyde group in the product using DIBAL-H.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Aldehyde reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "",
            "conditions": "MeOH",
            "yield": "31% (2 steps)",
            "reactant_smiles": "[OTIPS]C[C@H]1[C@H]2C[C@@H]3[C@@]4(CCN3C\\C2=C\\C=O)C5=C(C=CC=C5)N([C@@H]14)S(=O)(=O)[PMP]",
            "product_smiles": "[OTIPS]C[C@H]1[C@H]2[C@@H]3C[C@@H]4[C@@]1(CCN4C\\C3=C\\CO)C5=C(C=CC=C5)N2S(=O)(=O)[PMP]",
            "notes": "Aldehyde to primary alcohol reduction using sodium borohydride. The core polycyclic structure's SMILES encoding for ring closures appears inconsistent between the original reactant and product inputs, even after corrections to external groups and unambiguous stereocenters. This suggests a potential deeper issue with the original SMILES generation for such complex structures.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "TIPS Deprotection / Hydrolysis",
            "reagents": "HCl",
            "reagent_smiles": "CO.Cl.O",
            "conditions": "MeOH/H2O",
            "yield": "81%",
            "reactant_smiles": "CC(C)[Si](C(C)C)(C(C)C)O[C@@H]1[C@@H]2[C@H]3N(S(=O)(=O)[PMP])c5ccccc5C[C@@]6([C@@H](CC/C=C/CO)C[C@@H]1N(CC[C@H]3)C2)C6",
            "product_smiles": "O[C@@H]1[C@@H]2[C@H]3N(S(=O)(=O)[PMP])c5ccccc5C[C@@]6([C@@H](CC/C=C/CO)C[C@@H]1N(CC[C@H]3)C2)C6",
            "notes": "Deprotection of a triisopropylsilyl (TIPS) ether to a hydroxyl group using acid catalysis.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Selective Alcohol Protection (Silylation)",
            "reagents": "TBSOTf, DBU",
            "reagent_smiles": "",
            "conditions": "CH2Cl2, -20 °C",
            "yield": "60%",
            "reactant_smiles": "[C@]/12C[C@H]3[C@@]4(CCN3C\\C1=C\\CO)C5=C(C=CC=C5)N([C@@H]4[C@@H]2CO)S(=O)(=O)C6=CC=C(OC)C=C6",
            "product_smiles": "[C@]/12C[C@H]3[C@@]4(CCN3C\\C1=C\\C[OTBS])C5=C(C=CC=C5)N([C@@H]4[C@@H]2CO)S(=O)(=O)C6=CC=C(OC)C=C6",
            "notes": "Selective silylation of the allylic primary alcohol with TBSOTf in the presence of DBU, leaving the other primary alcohol untouched.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "Parikh-Doering oxidation",
            "reagents": "SO3·pyr, Et3N",
            "reagent_smiles": "",
            "conditions": "DMSO",
            "yield": "70%",
            "reactant_smiles": "[PMP]SO2N1C2=CC=CC=C2[C@@]34C15CCN6C[C@@H]7[C@@H]8[C@H]9[C@H](CO)[C@H](CCC/C=C/C[OTBS])C%10[C@@]%10[C@@H]9C8)C7[C@@]645",
            "product_smiles": "[PMP]SO2N1C2=CC=CC=C2[C@@]34C15CCN6C[C@@H]7[C@@H]8[C@H]9C(=O)[C@H](CCC/C=C/C[OTBS])[C@]%10[C@@]%10[C@@H]9C8)C7[C@@]645",
            "notes": "Parikh-Doering oxidation of a primary alcohol to an aldehyde.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Desilylation / Intramolecular Hemiacetal Formation",
            "reagents": "pyr.HF, pyr",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "60%",
            "reactant_smiles": "COC1=CC=C(C=C1)S(=O)(=O)N2C3=CC=CC=C3C4(C2)C[C@H](C=O)[C@H](C/C=C/C[OTBS])[C@@H]5CN(CC[C@@H]6C4)C[C@@H]56",
            "product_smiles": "COC1=CC=C(C=C1)S(=O)(=O)N2C3=CC=CC=C3C4(C2)C[C@H]1[C@@H](O)OC/C=C/C[C@H]1[C@@H]5CN(CC[C@@H]6C4)C[C@@H]56",
            "notes": "TBS deprotection followed by intramolecular cyclization of the aldehyde with the deprotected alcohol to form a 6-membered hemiacetal.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Reductive Deprotection (of PMP-sulfonamide)",
            "reagents": "Na, anthracene",
            "reagent_smiles": "",
            "conditions": "DME, -30 °C to rt",
            "yield": "90%",
            "reactant_smiles": "O[C@@H]1C=C[C@H]2O[C@H]3C[C@H]4[C@@H]5CCN6C[C@H]7C[C@]43C2=C7C(=CC=C5)N1S(=O)(=O)[PMP]",
            "product_smiles": "O[C@@H]1C=C[C@H]2O[C@H]3C[C@H]4[C@@H]5CCN6C[C@H]7C[C@]43C2=C7C(=CC=C5)N1",
            "notes": "Reductive cleavage of the PMP-sulfonyl protecting group from the indole nitrogen. The product is 23-hydroxystrychnine.",
            "substeps": []
        },
        {
            "step_id": "29",
            "reaction_type": "Intramolecular cyclization / Oxidation",
            "reagents": "malonic acid, NaOAc, Ac2O",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "70%",
            "reactant_smiles": "C1CN2CCC3C(N[C@H]4[C@H](O)O[C@@H]5C=C[C@H]6[C@H]7CC[C@H]5[C@H]4N3C12)C8=CC=CC=C87",
            "product_smiles": "C1CN2CC[C@H]3C(=O)N(C4C5=CC=CC=C5[C@H](CC2)N3[C@H]1[C@H]4[C@H](C=C[C@@H]6OCCC6))",
            "notes": "Formation of the lactam and ketone rings of Strychnine from a hydroxylated indole precursor.",
            "substeps": []
        }
    ]
}