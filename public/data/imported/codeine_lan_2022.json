{
    "$schema": "../schema.json",
    "meta": {
        "id": "codeine-lan-2022",
        "molecule_name": "Codeine",
        "class": "Natural Product",
        "author": "Lan",
        "year": 2022
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Ozonolysis with reductive workup",
            "reagents": "O₃, NaBH₄",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C=CCC1=CC(=C(C=C1)OC)O",
            "product_smiles": "COC1=C(C=C(C=C1)CCO)O",
            "notes": "Reductive ozonolysis of an alkene, cleaving the double bond and reducing the resulting aldehyde to a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Alcohol Protection (Silylation)",
            "reagents": "TBSCl, BuLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=C(C=C(C=C1)CCO)O",
            "product_smiles": "COC1=C(O)C=C(CCO[OTBS])C=C1",
            "notes": "Selective protection of the primary alcohol with TBSCl; the phenolic hydroxyl group remains unprotected.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "O-alkylation",
            "reagents": "K2CO3, acetone",
            "reagent_smiles": "COC(=O)C(Br)C(=O)OC",
            "conditions": "acetone",
            "yield": "",
            "reactant_smiles": "[OTBS]CCOc1ccc(OC)c(O)c1",
            "product_smiles": "[OTBS]CCOc1ccc(OC)c(OC(C(=O)OC)C(=O)OC)c1",
            "notes": "Phenol O-alkylation with dimethyl 2-bromomalonate to form an ether.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Alpha-alkylation of Malonate / Spirocyclization",
            "reagents": "NaH, DMF",
            "reagent_smiles": "ClCC1=CC=C(C=C1)O[TBS]",
            "conditions": "0 °C to 60 °C",
            "yield": "58% (2 steps)",
            "reactant_smiles": "COc1c(OC(C(=O)OC)C(=O)OC)ccc(CCO[TBS])c1",
            "product_smiles": "COc1c(OC(C(=O)OC)(C(=O)OC)CC2=CC=C(C=C2)O[TBS])ccc(CCO[TBS])c1",
            "notes": "An intramolecular C-alkylation of the malonate alpha-carbon with a 4-TBSO-benzyl chloride reagent, forming a spirocyclic product. The original aromatic ring and the ethyl-OTBS chain are preserved, and a new 4-TBSO-benzyl group is incorporated via the malonate carbon.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Decarboxylation",
            "reagents": "LiBr",
            "reagent_smiles": "",
            "conditions": "DMSO, 100 °C",
            "yield": "",
            "reactant_smiles": "COC(=O)C(C(=O)OC)(CC1=CC=C(C=C1)[OTBS])Oc2c(OC)ccc(CC[OTBS])c2",
            "product_smiles": "COC(=O)C(CC1=CC=C(C=C1)[OTBS])Oc2c(OC)ccc(CC[OTBS])c2",
            "notes": "Decarboxylation of a gem-diester to a monoester. The reaction involves the removal of one methyl ester group.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "CCOCC",
            "conditions": "0 °C",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=CC(=C(OC)C=C1)OC(CC2=CC=C([OTBS])C=C2)C(=O)OC",
            "product_smiles": "[OTBS]CCC1=CC(=C(OC)C=C1)OC(CC2=CC=C([OTBS])C=C2)CO",
            "notes": "Ester is reduced to a primary alcohol using lithium aluminum hydride.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Deprotection and Oxidation/Rearrangement",
            "reagents": "TBAF, HOAc, THF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "55% (3 steps)",
            "reactant_smiles": "COC1=C(O[C@@H](CO)CC2=CC=C([OTBS])C=C2)C=CC(CCO[OTBS])=C1",
            "product_smiles": "COC1=C(O[C@H](CO)CC2=CC(=O)C=CC2)C=CC(CCO[OTBS])=C1",
            "notes": "Selective deprotection of one TBS group and oxidation of a benzylic system to a cyclohexadienone.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Oxidative Spirocyclization",
            "reagents": "PhI(OAc)2, NaHCO3",
            "reagent_smiles": "",
            "conditions": "HFIP",
            "yield": "85%",
            "reactant_smiles": "COC1=C(OC(CO)CC2=CC(=O)C=C2)C=CC(=C1)CC[OTBS]",
            "product_smiles": "COC1=C(C=C2C(C(CC[OTBS])(C3=CC(=O)C=C3)C2)OC(CO)C1)",
            "notes": "Intramolecular oxidative cyclization forming a spirodienone and a fused pyran ring.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Oxidation / Lactonization",
            "reagents": "PCC, 3 Å Ms",
            "reagent_smiles": "",
            "conditions": "Benzene, reflux",
            "yield": "38%",
            "reactant_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(CC32C=CC(=O)C=C3)CO",
            "product_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(=O)CC32C=CC(=O)C=C3",
            "notes": "Oxidation of a primary alcohol to a lactone using pyridinium chlorochromate (PCC). The primary alcohol group (-CH2OH) is oxidized to a carbonyl, which then forms a lactone ring with the adjacent cyclic ether oxygen.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Complex rearrangement",
            "reagents": "MeOH, NaN3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1cc(CCC[OTBS])c2c(c1)C(=O)OC(C2)C3C=CC(=O)C=C3",
            "product_smiles": "COc1cc(CCC[OTBS])c2c1[C@@H]3OC4[C@](CC(=O)OC)C(=O)CC=C4C3",
            "notes": "Intramolecular rearrangement of a spirodienone-lactone to a fused tetracyclic system with concomitant lactone opening and methyl ester formation.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "85%",
            "reactant_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@@]3(C=CC(=O)C[C@@H]3O2)C(=O)OC)OC",
            "product_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@@]3(C=CCC(O)C[C@@H]3O2)C(=O)OC)OC",
            "notes": "Stereospecific reduction of a conjugated ketone to a secondary alcohol using NaBH4, with the newly formed alcohol stereochemistry indicated as undefined (wavy bond). The double bond and silyl ether protecting group are retained. The methyl ester attached to the quaternary carbon is also retained.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@@]3(C=CC(C[C@@H]3O2)O)CC(=O)OC)OC",
            "product_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@@]3(C=CC(C[C@@H]3O2)OS(=O)(=O)C)CC(=O)OC)OC",
            "notes": "Mesylation of a secondary alcohol, converting -OH to -OMs.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic Substitution (S_N2)",
            "reagents": "PhSH, Cs2CO3, nBu4NI",
            "reagent_smiles": "",
            "conditions": "DMF, 0 °C to rt",
            "yield": "91% (2 steps)",
            "reactant_smiles": "[OMe]C1=C2OC3C([C@@]4=C2C5(C(=O)OC)[C@@H](CCO[TBS])CC4)C=CC(C3)[OMs]",
            "product_smiles": "[OMe]C1=C2OC3C([C@@]4=C2C5(C(=O)OC)[C@@H](CCO[TBS])CC4)C=CC(C3)[SPh]",
            "notes": "Nucleophilic substitution of a mesylate leaving group by thiophenol (PhSH) to form a phenylthio ether.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Ester Reduction",
            "reagents": "DIBAL-H",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@H]3[C@@H]4CC=C[C@@H]([SPh])C4[C@@]2(C(=O)OC)(C[OTBS])C",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3[C@@H]4CC=C[C@@H]([SPh])C4[C@@]2(CO)(C[OTBS])C",
            "notes": "Methyl ester reduced to primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "84% (2 steps)",
            "reactant_smiles": "COC1=CC=C2C3=C1O[C@H]4[C@@]2(CC(CO)(CO[Si](C)(C)C(C)(C)C)C5=CC=C[C@H](SC6=CC=CC=C6)C5)[C@@H]43",
            "product_smiles": "COC1=CC=C2C3=C1O[C@H]4[C@@]2(CC(C=O)(CO[Si](C)(C)C(C)(C)C)C5=CC=C[C@H](SC6=CC=CC=C6)C5)[C@@H]43",
            "notes": "Dess-Martin periodinane (DMP) oxidation of a primary alcohol to an aldehyde.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Reductive Amination",
            "reagents": "MeNH2, NaBH4",
            "reagent_smiles": "",
            "conditions": "MeOH, 60 °C to rt",
            "yield": "",
            "reactant_smiles": "COC1=CC=C2C(C1)=C3[C@@H]4[C@@]5(CC=O)(CCO[TBS])C=C[C@H]4O2C[C@@H](SC6=CC=CC=C6)CC3",
            "product_smiles": "COC1=CC=C2C(C1)=C3[C@@H]4[C@@]5(CCNC)(CCO[TBS])C=C[C@H]4O2C[C@@H](SC6=CC=CC=C6)CC3",
            "notes": "Reductive amination of an aldehyde with methylamine and sodium borohydride to yield a secondary methylamine.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "N-Boc protection",
            "reagents": "(Boc)2O, NEt3",
            "reagent_smiles": "CC(C)(C)OC(=O)OC(=O)OC(C)(C)C.CCN(CC)CC",
            "conditions": "DMF, rt",
            "yield": "76% (2 steps)",
            "reactant_smiles": "CN[C@H]1CC[C@@]2(CC=C[C@@H]([C@H]2OC3=C(C1=C3)OC)S[Ph])CO[OTBS]",
            "product_smiles": "C[N]([Boc])[C@H]1CC[C@@]2(CC=C[C@@H]([C@H]2OC3=C(C1=C3)OC)S[Ph])CO[OTBS]",
            "notes": "N-Boc protection of a secondary N-methylamine to form a tertiary N-Boc-N-methylamine.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Desilylation",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)[C@]3(C[C@@H]([OTBS])C)C4=C2O[C@H]5C[C@H](S[Ph])C=C[C@H]35CCN(C)[Boc]",
            "product_smiles": "COc1ccc2c(c1)[C@]3(C[C@@H](O)C)C4=C2O[C@H]5C[C@H](S[Ph])C=C[C@H]35CCN(C)[Boc]",
            "notes": "Desilylation of a TBS ether to a hydroxyl group.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "70%",
            "reactant_smiles": "CC(C)(C)OC(=O)N(C)CC(CO)C[C@@]12C=C[C@H](C[C@@H]1OC3=C2C(=CC=C3OC))SC1=CC=CC=C1",
            "product_smiles": "CC(C)(C)OC(=O)N(C)CC(C=O)C[C@@]12C=C[C@H](C[C@@H]1OC3=C2C(=CC=C3OC))SC1=CC=CC=C1",
            "notes": "Primary alcohol oxidized to aldehyde using Dess-Martin Periodinane.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reduction / Reductive Elimination",
            "reagents": "SmI2, HMPA",
            "reagent_smiles": "",
            "conditions": "THF, -40 °C to rt",
            "yield": "68%",
            "reactant_smiles": "[Boc]N(C)C[C@@H]1[C@@H]2[C@@H](C(=O)C[C@H]3[C@@H]2c4cc(OC)c5c(c4)OC[C@@H]1C=C[C@@H](SC6=CC=CC=C6))",
            "product_smiles": "[Boc]N(C)C[C@@H]1[C@@H]2[C@H](O)C[C@H]3[C@@H]2c4cc(OC)c5c(c4)OC[C@@H]1C=C[C@H]3",
            "notes": "Samarium diiodide mediated reduction of a ketone to an alcohol with concomitant reductive elimination of a thiophenyl group. The ketone reduction proceeded with inversion of configuration at C9.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Mesylate Formation",
            "reagents": "MsCl",
            "reagent_smiles": "CCN(CC)CC",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N(C)CC[C@]12[C@H]3C=CC[C@@H]1OC4=C2C(=CC=C4[OMe])C[C@H]3O",
            "product_smiles": "[Boc]N(C)CC[C@]12[C@H]3C=CC[C@@H]1OC4=C2C(=CC=C4[OMe])C[C@H]3[OMs]",
            "notes": "Formation of a mesylate from a secondary alcohol (C6-OH) using methanesulfonyl chloride (MsCl) and triethylamine (Et3N). Stereochemistry at C6 is retained.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Elimination, Double Bond Migration",
            "reagents": "DBU",
            "reagent_smiles": "C1CCN=C2N(C1)CCCCC2.Cc1ccccc1",
            "conditions": "PhMe, reflux",
            "yield": "94%",
            "reactant_smiles": "[Boc]N(C)CC[C@]12[C@@H]3C=CC[C@@]14OC5=C2C(=CC=C5OC)C[C@H]3[OMs]",
            "product_smiles": "[Boc]N(C)CC[C@]12C3CCC[C@@]1OC4=C2C(=CC=C4OC)C=C3",
            "notes": "Elimination of mesylate and migration of a double bond (net result of 2 steps).",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Alkene Oxidation",
            "reagents": "SeO2, tBuO2H",
            "reagent_smiles": "O=[Se]=O.CC(C)(C)OO",
            "conditions": "dioxane, 50 °C",
            "yield": "58%",
            "reactant_smiles": "[Boc]N(C)[C@H]1CC=C[C@@H]2[C@H]1C[C@@]34Oc5c(ccc(OC)c5C[C@H]23)C=C4",
            "product_smiles": "[Boc]N(C)[C@H]1CCC[C@@H]2[C@H]1C[C@@]34Oc5c(ccc(OC)c5C[C@H]23)[C@H](O)C4",
            "notes": "Oxidation of an alkene at C8 to a tertiary alcohol, with saturation of the C7-C8 double bond.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Oxidation",
            "reagents": "IBX",
            "reagent_smiles": "",
            "conditions": "DMF, rt",
            "yield": "92%",
            "reactant_smiles": "[Boc]N1C[C@H]2CC(=C)[C@H]3[C@H]1C4=CC(=C(OC)C=C4)O[C@H]3[C@H]2O",
            "product_smiles": "[Boc]N1C[C@H]2CC(=C)[C@H]3[C@H]1C4=CC(=C(OC)C=C4)O[C@H]3C2=O",
            "notes": "Oxidation of a secondary alcohol to a ketone using IBX.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Ketone Reduction (Luche Reduction)",
            "reagents": "NaBH4, CeCl3",
            "reagent_smiles": "",
            "conditions": "MeOH, 0 °C",
            "yield": "89%",
            "reactant_smiles": "COc1ccc2c3c1O[C@H]4C(=O)C=C[C@H]5[C@@H]6[C@H](C=C2C3=C5)[C@@H]4N(C)[Boc]6",
            "product_smiles": "COc1ccc2c3c1O[C@H]4[C@H](O)C=C[C@H]5[C@@H]6[C@H](C=C2C3=C5)[C@@H]4N(C)[Boc]6",
            "notes": "Stereoselective reduction of an alpha,beta-unsaturated ketone to a secondary alcohol.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "N-Boc deprotection",
            "reagents": "TFA, DCM",
            "reagent_smiles": "",
            "conditions": "0 °C to rt",
            "yield": "88%",
            "reactant_smiles": "[Boc]N(C)C[C@]12[C@@H]3C=CC4=CC=C(C(=C41)O[C@@]2(C)[C@H](C=C3)O)OC",
            "product_smiles": "N(C)C[C@]12[C@@H]3C=CC4=CC=C(C(=C41)O[C@@]2(C)[C@H](C=C3)O)OC",
            "notes": "Deprotection of N-Boc-N-methyl-norcodeine derivative to form codeine.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Aminomercuration / Intramolecular Oxymercuration",
            "reagents": "Hg(OAc)2, Et3N",
            "reagent_smiles": "CCN(CC)CC.CC(=O)O[Hg]OC(=O)C.C1CCOC1",
            "conditions": "THF, rt",
            "yield": "",
            "reactant_smiles": "CNC[C@]12[C@H]3C=CC4=CC=C(C(=C41)O[C@H]2[C@@H](C=C3)O)OC",
            "product_smiles": "CC(=O)O[Hg][C@@H]1[C@H]2=CC=C(C3=C2[C@@]45CCN(C)1[C@H]5C=C[C@@H]([C@H]4O3)O)OC",
            "notes": "Intramolecular aminomercuration of the N-methylaminomethyl group with the C7=C8 double bond. The secondary N-methylamine forms a tertiary N-methyl bridge, and an AcOHg group is added to C7.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Reductive Demercuration",
            "reagents": "LiAlH4",
            "reagent_smiles": "",
            "conditions": "THF, rt",
            "yield": "18% (2 steps)",
            "reactant_smiles": "CN1CC[C@@]23[C@H]4C=C[C@@H]([C@]([Hg]OC(=O)C)2OC5=C3C(=CC=C5OC)C[C@H]41)O",
            "product_smiles": "CN1CC[C@@]23[C@H]4C=C[C@@H]([C@@H]2OC5=C3C(=CC=C5OC)C[C@H]41)O",
            "notes": "Reductive demercuration of a mercurated codeine derivative to codeine.",
            "substeps": []
        }
    ]
}