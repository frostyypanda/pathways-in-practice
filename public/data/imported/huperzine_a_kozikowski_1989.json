{
    "$schema": "../schema.json",
    "meta": {
        "id": "huperzine-a-kozikowski-1989",
        "molecule_name": "Huperzine A",
        "class": "Natural Product",
        "author": "Kozikowski",
        "year": 1989
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Asymmetric Alcoholysis / Ring-Opening",
            "reagents": "quinine, BnOH",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C1=C[C@@H]2[C@@H]3[C@H]([C@H]1O2)C(=O)OC3=O",
            "product_smiles": "C1=CC=C(C=C1)COC(=O)[C@@H]2[C@H]3C=C[C@@H]([C@@H]2C(=O)O)O3",
            "notes": "Asymmetric ring-opening of a cyclic anhydride with benzyl alcohol catalyzed by quinine to form a chiral monoester.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Mixed Anhydride Formation",
            "reagents": "ClCO₂Et",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=C(O)[C@H]1[C@H]2C=C[C@H](O2)[C@H]1C(=O)OCC3=CC=CC=C3",
            "product_smiles": "CCOC(=O)OC(=O)[C@H]1[C@H]2C=C[C@H](O2)[C@H]1C(=O)OCC3=CC=CC=C3",
            "notes": "Activation of a carboxylic acid to a mixed anhydride using ethyl chloroformate.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Reduction, Lactonization",
            "reagents": "NaBH4, then aq HCl",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CCOC(=O)[C@@H]1[C@H]2C=C[C@@H](C(=O)OCC3=CC=CC=C3)[C@@H]1O2",
            "product_smiles": "O=C1OC[C@@H]2[C@H]3C=C[C@@H]1O3",
            "notes": "Reduction of one ester and hydrolysis of the other, followed by intramolecular lactonization to form a gamma-lactone in a 7-oxabicyclo[2.2.1]hept-5-ene system.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Hydrogenation",
            "reagents": "H2, Pd/C",
            "reagent_smiles": "",
            "conditions": "EtOAc",
            "yield": "84%",
            "reactant_smiles": "C1=C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "product_smiles": "C1C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "notes": "Hydrogenation of an alkene in a bicyclic lactone using H2 and Pd/C catalyst.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Rearrangement and Alkylation/Silylation",
            "reagents": "KHMDS, 18-crown-6, methallyl bromide",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=C1OC[C@@H]2[C@H]1C[C@H]3O[C@H]2CCC3",
            "product_smiles": "C=C(C[C@]12C=CC[C@@H]([C@H]2COC1=O)[OTMS])",
            "notes": "A bicyclic lactone undergoes rearrangement, alkylation with methallyl bromide, and silylation with TMS to form an OTMS enol ether within a new bicyclic system.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Deprotection",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "80%",
            "reactant_smiles": "CC(=C)C[C@]12C=CC[C@H]([C@H]2COC1=O)[OTMS]",
            "product_smiles": "CC(=C)C[C@]12C=CC[C@H]([C@H]2COC1=O)O",
            "notes": "TMS ether deprotection to alcohol. Yield is for 2 steps.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Epoxidation",
            "reagents": "VO(OEt)3, TBHP, MS 4A",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "95%",
            "reactant_smiles": "O=C1OC[C@@H]2[C@@H](O)C=CC([C@@]21)CC(=C)C",
            "product_smiles": "O=C1OC[C@@H]2[C@@H](O)[C@@H]3O[C@@H]3C([C@@]21)CC(=C)C",
            "notes": "Epoxidation of an internal alkene to form a syn epoxide relative to the existing alcohol group.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Swern oxidation",
            "reagents": "(COCl)2, DMSO, CH2Cl2",
            "reagent_smiles": "CCN(C(C)C)C(C)C",
            "conditions": "",
            "yield": "95%",
            "reactant_smiles": "C=C(C)C[C@@]12[C@@H](COC1=O)[C@@H](C[C@@H]3[C@H]2O3)O",
            "product_smiles": "C=C(C)C[C@@]12[C@@H](COC1=O)C(=O)C=C[C@@H]3[C@H]2O3",
            "notes": "Secondary alcohol is oxidized to an enone system under Swern oxidation conditions, forming a double bond adjacent to the newly formed ketone.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Acid-catalyzed rearrangement / cyclization",
            "reagents": "cat. PTSA",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "61%",
            "reactant_smiles": "CC(=C)C[C@@]1(O)[C@@H]2OC(=O)C3=C[C@H]1C(=O)C=C[C@@H]23",
            "product_smiles": "O=C(O)C1[C@@H]2C=C(C)C(=O)[C@H]3C2C1OC3=O",
            "notes": "Intramolecular acid-catalyzed cascade reaction involving rearrangement and cyclization of a dienone-lactone with an isopropenyl group to a polycyclic lactone-ketone with a carboxylic acid.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Carboxylic Acid Protection (MOM Esterification)",
            "reagents": "MOMCl, i-Pr2NEt, TBAI",
            "reagent_smiles": "",
            "conditions": "THF, reflux",
            "yield": "",
            "reactant_smiles": "CC1=CC2C3CC(C(=O)O)C2(C(=O)OC3)C(=O)C1",
            "product_smiles": "CC1=CC2C3CC(C(=O)OCH2OC)C2(C(=O)OC3)C(=O)C1",
            "notes": "Protection of the carboxylic acid group as a methoxymethyl (MOM) ester.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Lactone Hydrolysis, Michael Addition",
            "reagents": "KOH, PhSH, MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "90% (2 steps)",
            "reactant_smiles": "[MOMO]OC1C2C=C(C)CC3C2C(=O)C4C(C1)C(=O)OC43",
            "product_smiles": "[MOMO]OC1C(CC=C(C)C2C(CS[Ph])C(C(=O)O)C2C1)",
            "notes": "Lactone opens to carboxylic acid. Enone undergoes Michael addition with thiophenol to give a thioether.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Curtius rearrangement",
            "reagents": "DPPA, Et3N",
            "reagent_smiles": "",
            "conditions": "PhH, reflux",
            "yield": "",
            "reactant_smiles": "C[C@H]1C=CC2C[C@@]3(C(=O)O)[C@@](O[MOMO])(C[C@H]3C(=O)C[C@@H]2CS[Ph])C1",
            "product_smiles": "C[C@H]1C=CC2C[C@@]3(N=C=O)[C@@](O[MOMO])(C[C@H]3C(=O)C[C@@H]2CS[Ph])C1",
            "notes": "Curtius rearrangement of a carboxylic acid to form an isocyanate.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Addition to isocyanate / Carbamate formation",
            "reagents": "MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "89% (2 steps)",
            "reactant_smiles": "COC(OC)[C@@H]1[C@@H](N=C=O)[C@H]2C=C(C)[C@H]3[C@H]2C(=O)C[C@H](CS(c4ccccc4))[C@]1N3",
            "product_smiles": "COC(OC)[C@@H]1[C@@H](NC(=O)OC)[C@H]2C=C(C)[C@H]3[C@H]2C(=O)C[C@H](CS(c4ccccc4))[C@]1N3",
            "notes": "Addition of methanol to the isocyanate group to form a methyl carbamate. The polycyclic core, methyl, MOMO, SPh, and ketone groups remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Oxidation",
            "reagents": "m-CPBA",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "",
            "reactant_smiles": "[MOMO][C@H]1[C@H](N(C(=O)OC)[C@@]2(C[C@@H](CC(=O)[C@@H](CSCc3ccccc3)[C@H]2)[C@H]1)C=C(C)C)",
            "product_smiles": "[MOMO][C@H]1[C@H](N(C(=O)OC)[C@@]2(C[C@@H](CC(=O)[C@@H](C[S@](=O)c3ccccc3)[C@H]2)[C@H]1)C=C(C)C)",
            "notes": "Oxidation of a thioether to a sulfoxide with m-CPBA. The stereochemistry at sulfur is defined.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Elimination / Sigmatropic Rearrangement",
            "reagents": "K2CO3",
            "reagent_smiles": "",
            "conditions": "toluene, reflux",
            "yield": "95% (2 steps)",
            "reactant_smiles": "COC O C[C@H]1C[C@@H](C)C=C2C[C@]34C(C2C1)C(=O)C[C@@H](CS(=O)[Ph])C3N4C(=O)OC",
            "product_smiles": "COC O C[C@H]1C[C@@H](C)C=C2C[C@]34C(C2C1)C(=O)C(=C)C3N4C(=O)OC",
            "notes": "Thermal elimination of a sulfoxide to form an exocyclic methylene.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Michael reaction",
            "reagents": "",
            "reagent_smiles": "CC(C)(C)O[K].CN(C)C(=O)CS(=O)C1=CC=CC=C1",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C[C@@H]1C=C[C@H]2[C@H]3CC(=O)C(=C)[C@@H]4[C@]1(O[MOMO])(NC(=O)OC)[C@H]2[C@H]34",
            "product_smiles": "C[C@@H]1C=C[C@H]2[C@H]3CC(=O)C[C@@H]([C@H]4[C@]1(O[MOMO])(NC(=O)OC)[C@H]2[C@H]34)[C@@H](C(=O)N(C)C)S(=O)C5=CC=CC=C5",
            "notes": "Michael addition of N,N-dimethyl-2-(phenylsulfinyl)acetamide to an alpha,beta-unsaturated ketone.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Pummerer rearrangement and intramolecular lactonization",
            "reagents": "toluene",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "65% (2 steps)",
            "reactant_smiles": "C[C@]12C=C([C@H](CC1)[C@@H](C(=O)N(C)C)S(=O)c3ccccc3)C(=O)C[C@@H]2(NC(=O)OC)OCOC",
            "product_smiles": "C[C@]12C=C([C@H](CC1)C3=CC(=O)OC=3)C[C@@H]2(NC(=O)OC)OCOC",
            "notes": "Intramolecular cyclization involving a Pummerer rearrangement-like reaction of an alpha-sulfinyl amide leading to a fused alpha-pyrone (6-membered lactone) system.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Ammonolysis / Ring Transformation",
            "reagents": "aq NH3",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "",
            "reactant_smiles": "C[C@H]1C=C2C[C@@H]3[C@@H](OCOC)[C@]2(NC(=O)OC)C4=CC(=O)OC=C14",
            "product_smiles": "C[C@H]1C=C2C[C@@H]3[C@@H](OCOC)[C@]2(NC(=O)OC)C4=CC(=O)NC=C14",
            "notes": "Conversion of a bridged bicyclic lactone to a corresponding lactam (pyridone) via ammonolysis.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "O-methylation / Aromatization",
            "reagents": "MeI, Ag2CO3",
            "reagent_smiles": "CI.O=C([O-])[O-].[Ag+].[Ag+]",
            "conditions": "CHCl3, reflux",
            "yield": "52% (2 steps)",
            "reactant_smiles": "C[C@@]12CC[C@@H]3C4=C(C=CC(=O)N4)[C@@]([C@H]13)(C(C2)[MOMO])NC(=O)OC",
            "product_smiles": "C[C@@]12CC[C@@H]3C4=C(C=C(N=C4)OC)[C@@]([C@H]13)(C(C2)[MOMO])NC(=O)OC",
            "notes": "O-methylation of the lactam carbonyl followed by aromatization of the pyridine ring.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Deprotection",
            "reagents": "TMSCl, NaI",
            "reagent_smiles": "",
            "conditions": "MeCN",
            "yield": "",
            "reactant_smiles": "O[MOMO]C1C2C=C(CC1(C3=C(C2)N=C(C=C3)OC)NC(=O)OC)",
            "product_smiles": "COC1=NC2=C(C=C1)C3(CC(C2)C4C3C=C(C4C)C)N(C(=O)OC)O",
            "notes": "Deprotection of a methoxymethyl (MOMO) ether to a hydroxyl group.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Swern oxidation",
            "reagents": "(COCl)2, DMSO, i-Pr2NEt",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "95%",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=N3)OC)C(C1)(C2O)NC(=O)OC",
            "product_smiles": "CC1=CC2CC3=C(C=CC(=N3)OC)C(C1)(C2=O)NC(=O)OC",
            "notes": "Oxidation of a secondary alcohol to a ketone using Swern conditions.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Nucleophilic Addition (Organolithium)",
            "reagents": "CH2CHLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=CC=C2N=C1C3(NC(=O)OC)C(=O)CC4C=C(C)C2C3",
            "product_smiles": "COC1=CC=C2N=C1C3(NC(=O)OC)C(O)(C=C)CC4C=C(C)C2C3",
            "notes": "Nucleophilic addition of vinyllithium to a ketone, forming a tertiary alcohol and introducing a vinyl group.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Chlorination with Rearrangement",
            "reagents": "SOCl₂",
            "reagent_smiles": "",
            "conditions": "CH₂Cl₂",
            "yield": "",
            "reactant_smiles": "COC1=CN=C2C3=C(C=C(C)C3)[C@H]4C[C@@H]2[C@H]1[C@@](C=C)(O)NC(=O)OC",
            "product_smiles": "COC1=CN=C2C3=C(C=C(C)C3)[C@H]4C[C@@H]2[C@H]1[C@@](NC(=O)OC)(C/C=C/Cl)",
            "notes": "Allylic alcohol undergoes chlorination with rearrangement of the double bond to yield an E-allylic chloride.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Reduction, Alkene Rearrangement",
            "reagents": "LiBHEt₃",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "46%",
            "reactant_smiles": "CC1=CC/2CC3=C(C=CC(=N3)OC)C(C1)(\\C2=C\\CCl)NC(=O)OC",
            "product_smiles": "COC1=CC=C(N=C1)C23C(C(C=C(C)C)CC2)C(C)(NC(=O)OC)C3",
            "notes": "Reduction of the chlorovinyl group to a methyl group, accompanied by an alkene migration within the bridged ring system.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Deprotection / Lactamization",
            "reagents": "TMSI",
            "reagent_smiles": "C[Si](C)(C)I",
            "conditions": "CHCl3, MeOH, reflux",
            "yield": "",
            "reactant_smiles": "C[C@@H]1C(=C)C[C@@]2(C[C@@H]1C3=C(C2)N=C(C=C3)OC)NC(=O)OC",
            "product_smiles": "CC1=C[C@@H]2C[C@@]3(C[C@@H]1C4=C(C2)C=CC(=O)N4)N",
            "notes": "Conversion of a methyl carbamate and methyl ether to an amine and a lactam, forming (-)-Huperzine A.",
            "substeps": []
        }
    ]
}