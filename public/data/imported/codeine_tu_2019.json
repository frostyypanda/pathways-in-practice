{
    "$schema": "../schema.json",
    "meta": {
        "id": "codeine-tu-2019",
        "molecule_name": "Codeine",
        "class": "Natural Product",
        "author": "Tu",
        "year": 2019
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Ozonolysis, Reduction",
            "reagents": "O3, NaBH4",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=C(O)C=C(CCC=C)C=C1",
            "product_smiles": "COC1=C(O)C=C(CCCO)C=C1",
            "notes": "Ozonolysis and subsequent reduction of an alkene to a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Alcohol Protection (Silylation)",
            "reagents": "TBSCl, BuLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1c(O)ccc(CCO)c1",
            "product_smiles": "COc1c(O)ccc(CC[OTBS])c1",
            "notes": "Selective protection of the primary alcohol with TBSCl, leaving the phenolic hydroxyl group untouched.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "O-alkylation (Williamson Ether Synthesis)",
            "reagents": "K2CO3",
            "reagent_smiles": "COC(=O)C(C(=O)OC)Br",
            "conditions": "acetone",
            "yield": "",
            "reactant_smiles": "Oc1c(OC)ccc(CC[OTBS])c1",
            "product_smiles": "COC(=O)C(C(=O)OC)Oc1c(OC)ccc(CC[OTBS])c1",
            "notes": "Phenol is alkylated with dimethyl 2-bromomalonate to form a new ether linkage.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Intramolecular Dearomatizing Cyclization / Malonate Alkylation",
            "reagents": "NaH, DMF",
            "reagent_smiles": "ClCC1=CC=C(C=C1)O[TBS]",
            "conditions": "0 °C to 60 °C",
            "yield": "58% (2 steps)",
            "reactant_smiles": "COC1=CC=C(CCO[TBS])C=C1OC(C(=O)OC)C(=O)OC",
            "product_smiles": "COC1=C(CCO[TBS])C=C2C=C1OCC2(C(=O)OC)(C(=O)OC)CC3=CC=C(C=C3)[OTBS]",
            "notes": "The malonate α-carbon is deprotonated by NaH, then alkylated by 4-TBSO-BnCl. This is followed by an intramolecular dearomatizing cyclization and rearrangement, forming a spirocyclic chroman derivative. The ether oxygen from the original malonate group and a newly formed methylene bridge connect to the original benzene ring, while the second aryl group (from the benzyl chloride) is also incorporated.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Decarboxylation",
            "reagents": "LiBr, DMSO",
            "reagent_smiles": "",
            "conditions": "100 °C",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=CC=C(C(=C1)OC(CC2=CC=C(C=C2)[OTBS])(C(=O)OC)C(=O)OC)OC",
            "product_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)[OTBS])C(=O)OC",
            "notes": "Decarboxylation of a geminal diester (malonic ester derivative) using LiBr in DMSO. One methyl ester group is removed from the spiro carbon.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Ester Reduction",
            "reagents": "",
            "reagent_smiles": "[Li][AlH4]",
            "conditions": "Et2O, 0 °C",
            "yield": "",
            "reactant_smiles": "[TBS]OCCC1=C(O[CH](C(=O)OC)CC2=CC=C(C=C2)O[TBS])C(OC)=CC=C1",
            "product_smiles": "[TBS]OCCC1=C(O[CH](CO)CC2=CC=C(C=C2)O[TBS])C(OC)=CC=C1",
            "notes": "Reduction of a methyl ester to a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Desilylation, Oxidation, Ether Rearrangement",
            "reagents": "TBAF, HOAc, THF",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "55% (3 steps)",
            "reactant_smiles": "[OTBS]CCC1=CC(=C(C=C1)[OMe])OC(CC2=CC=C(C=C2)[OTBS])CO",
            "product_smiles": "[OTBS]CCC1=CC=C(C(=C1)OC(CC2C=CC(=O)C=C2)CO)[OMe]",
            "notes": "One TBS protecting group is selectively removed, leading to the oxidation of the adjacent phenyl ring to a cyclohexadienone. Concomitantly, the internal cyclic ether opens and rearranges.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Dearomatizing Spirocyclization",
            "reagents": "PhI(OAc)2, NaHCO3",
            "reagent_smiles": "CC(=O)OI(c1ccccc1)OC(=O)C.[Na+].O=C([O-])O",
            "conditions": "HFIP",
            "yield": "85%",
            "reactant_smiles": "COc1c(OCH(CO)CC2(C=CC(=O)C=C2)CC1)ccc(CCC[OTBS])c1",
            "product_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(CC32C=CC(=O)C=C3)CO",
            "notes": "Intramolecular oxidative cyclization/rearrangement via dearomatization, forming a complex tetracyclic system with a spiro-cyclohexadienone.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Oxidation",
            "reagents": "PCC, 3 Å Ms",
            "reagent_smiles": "",
            "conditions": "Benzene, reflux",
            "yield": "38%",
            "reactant_smiles": "[OTBS]CC1=C2C(=C(C=C1)OC)OC(CC32C=CC(=O)C=C3)CO",
            "product_smiles": "[OTBS]CC1=C2C(=C(C=C1)OC)OC(=O)CC32C=CC(=O)C=C3",
            "notes": "Oxidation of a primary alcohol to a lactone.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Cyclization / Rearrangement",
            "reagents": "MeOH, NaN3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1ccc(CC[OTBS])c2c1OC(=O)CC12C=CC(=O)C=C1",
            "product_smiles": "COc1ccc(CC[OTBS])c2c1[C@@]1(CC(=O)OC)[C@@H]3OC21C=CC(=O)C3",
            "notes": "Intramolecular cyclization and rearrangement of a spirodienone-lactone to a fused polycyclic system with a methyl ester and cyclohexenone.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "85%",
            "reactant_smiles": "COC1=CC=C(CCC[OTBS])C2=C1[C@H]3O[C@H]4C=CC(=O)C[C@]43C(=O)OC",
            "product_smiles": "COC1=CC=C(CCC[OTBS])C2=C1[C@H]3O[C@H]4C=CCC(O)C[C@]43C(=O)OC",
            "notes": "Selective reduction of the ketone to an alcohol using sodium borohydride, with retention of the alkene double bond. The stereochemistry of the two bridgehead carbons is preserved, while the newly formed alcohol has unassigned stereochemistry (wavy bond).",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c1O[C@H]3C[C@H](O)C=C[C@@]3(C(=O)OC)(CO[Si](C)(C)C(C)(C)C)[C@@H]2",
            "product_smiles": "COc1ccc2c1O[C@H]3C[C@H](OS(=O)(=O)C)C=C[C@@]3(C(=O)OC)(CO[Si](C)(C)C(C)(C)C)[C@@H]2",
            "notes": "Conversion of a secondary alcohol to a mesylate using methanesulfonyl chloride (MsCl) and triethylamine (Et3N).",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic Substitution",
            "reagents": "PhSH, Cs2CO3, nBu4NI",
            "reagent_smiles": "",
            "conditions": "DMF, 0 °C to rt",
            "yield": "91% (2 steps)",
            "reactant_smiles": "COC1=CC=C2C3=C1[C@@]4(C(=O)OC)C(CC[OTBS])C[C@@H]5C=C[C](C[C@@H]5O2)OS(=O)(=O)C",
            "product_smiles": "COC1=CC=C2C3=C1[C@@]4(C(=O)OC)C(CC[OTBS])C[C@@H]5C=C[C](C[C@@H]5O2)SC6=CC=CC=C6",
            "notes": "Nucleophilic substitution of a mesylate (OMs) with thiophenolate (SPh) on a complex polycyclic system.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Reduction (Ester to Primary Alcohol)",
            "reagents": "DIBAL-H",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "C[C@@](C(=O)OC)(CC[OTBS])Cc1ccc(OC)c2c1[C@@H]3O[C@H]4[C@H](C[C@@H]([SPh])C=C4)C3",
            "product_smiles": "C[C@@](CO)(CC[OTBS])Cc1ccc(OC)c2c1[C@@H]3O[C@H]4[C@H](C[C@@H]([SPh])C=C4)C3",
            "notes": "Reduction of a methyl ester to a primary alcohol using DIBAL-H. The TBSO and SPh protecting groups, and other stereocenters, remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "84% (2 steps)",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3[C@H]4[C@]2(C(CO)C[OTBS])C[C@H](C[C@H]5C=C[C@H]([C@@H]4C5)S[Ph])C3",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3[C@H]4[C@]2(C(C=O)C[OTBS])C[C@H](C[C@H]5C=C[C@H]([C@@H]4C5)S[Ph])C3",
            "notes": "Primary alcohol oxidized to aldehyde",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Reductive Amination",
            "reagents": "MeNH2, NaBH4, MeOH",
            "reagent_smiles": "",
            "conditions": "60 °C to rt",
            "yield": "",
            "reactant_smiles": "[H][C@@]12CC=C([C@H]([SPh])CC1O[C@@H]3C=C([OMe])C=C(C([CH2]CH([OTBS])C=O))C32)",
            "product_smiles": "[H][C@@]12CC=C([C@H]([SPh])CC1O[C@@H]3C=C([OMe])C=C(C([CH2]CH([OTBS])CNHC))C32)",
            "notes": "Aldehyde converted to N-methyl secondary amine.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Amine Protection",
            "reagents": "DMF",
            "reagent_smiles": "CC(C)(C)OC(=O)OC(=O)OC(C)(C)C.CCN(CC)CC",
            "conditions": "rt",
            "yield": "76% (2 steps)",
            "reactant_smiles": "COc1ccc2c(c1)O[C@H]3[C@H](C[C@@H]([OTBS])C[NH]C)[C@@]4([C@H]3C=C[C@H]([SPh])CC4)C2",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3[C@H](C[C@@H]([OTBS])C[N]([Boc])C)[C@@]4([C@H]3C=C[C@H]([SPh])CC4)C2",
            "notes": "N-protection of a secondary methylamine with a Boc group.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Deprotection (TBS ether)",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@H]3[C@@H]1C=CC([C@]4(C2)C[C@@H](C[C@@H](CN(C)[Boc])[OTBS])[C@@H]4[SPh])[C@@H]31",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3[C@@H]1C=CC([C@]4(C2)C[C@@H](C[C@@H](CN(C)[Boc])O)[C@@H]4[SPh])[C@@H]31",
            "notes": "TBS (tert-butyldimethylsilyl) ether deprotection to form a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "70% (2 steps)",
            "reactant_smiles": "COc1ccc2c(c1)O[C@H]3C[C@H]4C=C[C@@H]([SPh])C[C@]4(C[C@H](CO)CN(C)[Boc])C23",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3C[C@H]4C=C[C@@H]([SPh])C[C@]4(C[C@H](C=O)CN(C)[Boc])C23",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin periodinane (DMP).",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reductive desulfurization and aldehyde reduction",
            "reagents": "SmI₂, HMPA",
            "reagent_smiles": "",
            "conditions": "THF, -40 °C to rt",
            "yield": "68%",
            "reactant_smiles": "[Boc]N(C)[C@@H]1C[C@H](C=O)[C@@H]2C[C@@H]3[C@H]4C=C[C@H](C[C@@H]3OC5=C4C(=CC=C5OC)C[C@H]12)SC6=CC=CC=C6",
            "product_smiles": "[Boc]N(C)[C@@H]1C[C@@H](O)[C@@H]2C[C@@H]3[C@H]4C=C[C@H](C[C@@H]3OC5=C4C(=CC=C5OC)C[C@H]12)",
            "notes": "Samarium diiodide (SmI₂) mediated reductive desulfurization of the phenyl thioether and reduction of the aldehyde to an alcohol. Stereochemistry at the alcohol carbon is inverted compared to the aldehyde carbon.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "O-Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N(C)C1CC[C@@]23[C@@H]4[C@H]1C=C[C@@H]4OC5=C2C(=CC=C5[OMe])C[C@@H](O)C3",
            "product_smiles": "[Boc]N(C)C1CC[C@@]23[C@@H]4[C@H]1C=C[C@@H]4OC5=C2C(=CC=C5[OMe])C[C@@H]([OMs])C3",
            "notes": "Mesylation of the C6-alcohol on N-Boc-N-methyl-norcodeine derivative.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Elimination",
            "reagents": "DBU",
            "reagent_smiles": "",
            "conditions": "PhMe, reflux",
            "yield": "",
            "reactant_smiles": "[Boc]N1C[C@@H]2C=C[C@@H]3[C@@H]2[C@@H]4[C@H]([MsO])C=C[C@@]45Oc6c(OC)ccc(c6)C351",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C=C[C@@H]4[C@H]3C=C[C@@]5([H])[C@@H]4N([Boc])C[C@@H]52",
            "notes": "Base-catalyzed elimination of a mesylate group, forming a new C9=C10 double bond. The reported yield of 94% is for 2 steps, not this single step.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Oxidation",
            "reagents": "SeO2, tBuO2H",
            "reagent_smiles": "",
            "conditions": "dioxane, 50 °C",
            "yield": "58%",
            "reactant_smiles": "[Boc]N(C)[C@H]1CC(=C)[C@H]2Oc3c([OMe])ccc4c2c1c(C=C4)C=C3",
            "product_smiles": "[Boc]N(C)[C@H]1CC[C@@H](O)[C@H]2Oc3c([OMe])ccc4c2c1c(C=C4)C=C3",
            "notes": "Allylic oxidation of the C6=C7 double bond to an alpha-hydroxy group at C6.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Oxidation",
            "reagents": "IBX",
            "reagent_smiles": "",
            "conditions": "DMF, rt",
            "yield": "92%",
            "reactant_smiles": "[Boc]N(C)[C@@H]1CC[C@@]23C=C4[C@H]5C=C6[C@@H](O)[C@@H]7C=CC8=C(OC)C=CC(=C84)O[C@H]2[C@H]57C6C31",
            "product_smiles": "[Boc]N(C)[C@H]1CC[C@@]23C(=O)C=C[C@H]4[C@H]5C=CC6=C(OC)C=CC(=C64)O[C@H]2[C@H]53C1",
            "notes": "Oxidation of a morphinan derivative; secondary alcohol at C14 in reactant is replaced by ketone at C6 in product, implying rearrangement or misdrawn structures.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Stereoselective Ketone Reduction (Luche Reduction)",
            "reagents": "NaBH4, CeCl3",
            "reagent_smiles": "",
            "conditions": "MeOH, 0 °C",
            "yield": "89%",
            "reactant_smiles": "CN([Boc])C1CC23C=C4C(O[C@H]5[C@H](C(=O)C=C6)[C@]36C=C4)=C(C=C2)[C@@H]1OC",
            "product_smiles": "CN([Boc])C1CC23C=C4C(O[C@H]5[C@H]([C@H](O)C=C6)[C@]36C=C4)=C(C=C2)[C@@H]1OC",
            "notes": "Stereoselective reduction of the C6 ketone to a secondary alcohol with alpha stereochemistry, catalyzed by NaBH4 and CeCl3 (Luche reduction conditions). The N-Boc-N-methyl group, methoxy group, and other alkene bonds remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "Deprotection",
            "reagents": "TFA",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "88%",
            "reactant_smiles": "C[N]1([Boc])CC[C@@]23[C@@H]4C=C[C@@H](O)[C@H]5O[C@H]2c6c(OC)ccc(c63)[C@H]145",
            "product_smiles": "C[NH]1CC[C@@]23[C@@H]4C=C[C@@H](O)[C@H]5O[C@H]2c6c(OC)ccc(c63)[C@H]145",
            "notes": "Boc deprotection of a methyl-norcodeine derivative to a secondary N-methyl amine.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Intramolecular Aminomercuration",
            "reagents": "Hg(OAc)2, Et3N",
            "reagent_smiles": "CCN(CC)CC.[Hg](OC(C)=O)OC(C)=O",
            "conditions": "THF, rt",
            "yield": "",
            "reactant_smiles": "C[NH]C[C@]12[C@@H]3C=CC4=CC=C(C(=C41)O[C@H]2[C@H](C=C3)O)OC",
            "product_smiles": "CC(=O)O[Hg][C@H]1C2=CC=C(C3=C2[C@]45CCN(C)[C@H]1[C@@H]5C=C[C@@H]([C@@H]4O3)O)OC",
            "notes": "Intramolecular aminomercuration of the N-methyl secondary amine leading to new C-N and C-Hg bonds. Note a significant inconsistency: the reactant as drawn does not contain an alkene or other unsaturation at C14, which is the site of the mercury addition and nitrogen cyclization in the product. This implies either the reactant or product (or both) are misdrawn, or an unpictured intermediate/rearrangement step is involved. The SMILES provided here strictly reflect the drawn structures.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Demercuration / Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "",
            "conditions": "THF, rt",
            "yield": "18% (2 steps)",
            "reactant_smiles": "COc1ccc2c3c1O[C@H]4[C@H]5[C@@H](O)[C@H]7[C@@H]8([Hg]OC(=O)C)[C@@H]6[C@@]5([C@H]4N(C)CC6)[C@H]3C2",
            "product_smiles": "CN1CC[C@@]23[C@H]4C=C[C@@H]([C@@H]2OC5=C3C(=CC=C5OC)C[C@H]41)O",
            "notes": "Reductive demercuration of a codeine derivative to form codeine, involving reduction of the C-Hg bond and formation of a C=C double bond.",
            "substeps": []
        }
    ]
}