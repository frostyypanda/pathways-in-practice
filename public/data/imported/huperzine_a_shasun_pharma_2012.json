{
    "$schema": "../schema.json",
    "meta": {
        "id": "huperzine-a-shasun-pharma-2012",
        "molecule_name": "Huperzine A",
        "class": "Natural Product",
        "author": "Shasun Pharma",
        "year": 2012
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Asymmetric alcoholysis / Esterification",
            "reagents": "quinine, BnOH",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=C1OC(=O)[C@H]2[C@H]1C=C[C@@H]3[C@H]2O3",
            "product_smiles": "O=C(O)[C@H]1[C@@H](C(=O)OCC2=CC=CC=C2)[C@@H]3C=C[C@H]1O3",
            "notes": "Asymmetric ring opening of a cyclic anhydride with benzyl alcohol, catalyzed by quinine, to form a monoester-acid.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Mixed Anhydride Formation",
            "reagents": "ClCO₂Et",
            "reagent_smiles": "CCOC(=O)Cl",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=C(O)[C@@H]1[C@H](C(=O)OCC2=CC=CC=C2)[C@H]3OC1C=C3",
            "product_smiles": "CCOC(=O)OC(=O)[C@@H]1[C@H](C(=O)OCC2=CC=CC=C2)[C@H]3OC1C=C3",
            "notes": "Activation of a carboxylic acid to a mixed anhydride using ethyl chloroformate.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Reduction and Lactonization",
            "reagents": "NaBH4, then aq HCl",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CCOC(=O)OC(=O)[C@H]1[C@H]2C=C[C@H]([C@H]1C(=O)OCC3=CC=CC=C3)O2",
            "product_smiles": "C1=C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "notes": "Reduction of carbonate and benzyl ester, followed by acid-catalyzed lactonization to form a gamma-lactone.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Hydrogenation",
            "reagents": "H2, Pd/C",
            "reagent_smiles": "",
            "conditions": "EtOAc",
            "yield": "84%",
            "reactant_smiles": "O=C1OC[C@@H]2[C@@H]1O[C@H]3C=CC=C23",
            "product_smiles": "C1C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "notes": "Hydrogenation of two double bonds in the 6-membered ring. The reported yield of 84% is over 4 steps, as indicated in the screenshot.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Allylation / Silylation",
            "reagents": "KHMDS, 18-crown-6, methallyl bromide",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=C1O[C@@H]2[C@@H]3CC[C@@H](O[C@@H]23)C1",
            "product_smiles": "O=C1O[C@@H]2[C@](C[C](C)=C)[C@H]3C=C[C@H]([OTMS])(O[C@@H]23)C1",
            "notes": "Deprotonation followed by allylation and silylation/trapping to form an enone equivalent with a TMS group.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Deprotection",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "80% (2 steps)",
            "reactant_smiles": "CC(=C)C[C@H]1CC=C[C@@H]([OTMS])[C@H]2C(=O)OC12",
            "product_smiles": "CC(=C)C[C@H]1CC=C[C@@H](O)[C@H]2C(=O)OC12",
            "notes": "Deprotection of a TMS ether to an alcohol using TBAF.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Epoxidation",
            "reagents": "VO(OEt)3, TBHP, MS 4A",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "95%",
            "reactant_smiles": "C=C(C[C@]12C=CC[C@H]([C@@H]2COC1=O)O)",
            "product_smiles": "CC(=C)C[C@]12[C@@H](COC1=O)[C@H](O)[C@H]3O[C@H]2C3",
            "notes": "Stereoselective epoxidation of an internal alkene, forming a syn-epoxide relative to the adjacent hydroxyl group, both on the 'down' face.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Swern oxidation",
            "reagents": "(COCl)2, DMSO, i-Pr2NEt",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "95%",
            "reactant_smiles": "CC(=C)C[C@]12[C@@H](COC1=O)[C@@H](C[C@@H]3[C@@H]2O3)O",
            "product_smiles": "CC(=C)C[C@]12[C@@H](COC1=O)C(=O)C=C[C@H]2O",
            "notes": "Oxidation of a secondary alcohol to a ketone, concurrent with epoxide ring retention and enone formation.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Intramolecular cyclization / rearrangement / oxidation",
            "reagents": "PTSA",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "61%",
            "reactant_smiles": "C=C(C)C[C@@]12[C@@H](COC1=O)C(=O)C=C[C@@H]2O",
            "product_smiles": "C[C@]1=C[C@@H]2[C@]3C(C(=O)O)[C@@H]4COC(=O)[C@@]34C(=O)[C@@]21",
            "notes": "Complex intramolecular cyclization and rearrangement. An additional oxygen atom is incorporated in the product compared to the reactant. The given conditions (cat. PTSA, CH2Cl2) are for acid-catalyzed rearrangement and do not typically account for the addition of an oxygen atom. This suggests a potential discrepancy between the depicted transformation and the stated reagents/conditions.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Alcohol Protection",
            "reagents": "MOMCl, i-Pr₂NEt, TBAI",
            "reagent_smiles": "COCCl.CCN(CC(C)C)CC(C)C.[I-].CCCC[N+](CCCC)(CCCC)CCCC",
            "conditions": "THF, reflux",
            "yield": "",
            "reactant_smiles": "CC1=CC2CC(=O)C3COC(=O)C23C1O",
            "product_smiles": "CC1=CC2CC(=O)C3COC(=O)C23C1OCOC",
            "notes": "Hydroxyl group protected as a methoxymethyl (MOM) ether.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Lactone opening / Hydrolysis, Sulfanylation",
            "reagents": "KOH, PhSH, MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "90% (2 steps)",
            "reactant_smiles": "CC1=C[C@@H]2[C@H]3C(=O)[C@H]4[C@@H]([MOMO])C5(OC(=O)C[C@H]2)C1345",
            "product_smiles": "CC1=C[C@@H]2[C@H]3C(=O)[C@H]4[C@@H]([MOMO])C5(C(=O)O)(CS(c1ccccc1))[C@H]2C1345",
            "notes": "Lactone opens with hydrolysis and concomitant sulfanylation to form a carboxylic acid and a phenylthioether.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Curtius rearrangement",
            "reagents": "DPPA, Et3N",
            "reagent_smiles": "",
            "conditions": "PhH, reflux",
            "yield": "",
            "reactant_smiles": "O=C(O)[C@@]1([MOMO])[C@H]2C[C@@H](C(=O)C[C@@H]1[SPh])C=C(C)[C@@H]2",
            "product_smiles": "O=C=N[C@@]1([MOMO])[C@H]2C[C@@H](C(=O)C[C@@H]1[SPh])C=C(C)[C@@H]2",
            "notes": "Conversion of a carboxylic acid to an isocyanate via Curtius rearrangement.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Isocyanate Methanolysis",
            "reagents": "MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "89% (2 steps)",
            "reactant_smiles": "C[C@@H]1C=C[C@@H]2[C@@H]([C@H]3C(=O)C[C@@H]([SPh])[C@@]3([N](=C=O))[C@H]1[MOMO]])C2",
            "product_smiles": "C[C@@H]1C=C[C@@H]2[C@@H]([C@H]3C(=O)C[C@@H]([SPh])[C@@]3([N@H]C(=O)OC)[C@H]1[MOMO]])C2",
            "notes": "Isocyanate group converted to methyl carbamate upon reaction with methanol.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Oxidation",
            "reagents": "m-CPBA, CH2Cl2",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O[MOMO]C1C2C(C(=O)CC(CS[Ph])C2)C(N(C1)C(=O)OC)C=C(C)C",
            "product_smiles": "O[MOMO]C1C2C(C(=O)CC(CS(=O)[Ph])C2)C(N(C1)C(=O)OC)C=C(C)C",
            "notes": "Oxidation of a thiophenyl group to a sulfoxide using m-CPBA.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Elimination",
            "reagents": "K2CO3",
            "reagent_smiles": "",
            "conditions": "toluene, reflux",
            "yield": "95% (2 steps)",
            "reactant_smiles": "C[C@@H]1C=C[C@@H]2[C@H]3[C@H]1C(=O)C[C@H](CS(O)[Ph])[C@@]3(N(C(=O)OC)[C@@H](O[MOMO])C2)",
            "product_smiles": "C[C@@H]1C=C[C@@H]2[C@H]3[C@H]1C(=O)C(=C)[C@@]3(N(C(=O)OC)[C@@H](O[MOMO])C2)",
            "notes": "Elimination of a sulfoxide group to form an exocyclic methylene (alkene).",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Michael reaction",
            "reagents": "KOT-Bu",
            "reagent_smiles": "CC(C)(C)O[K].CN(C)C(=O)CS(=O)c1ccccc1",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C[C@H]1C=C[C@@H]2[C@H]3CC(=O)C(=C)[C@@]1(NC(=O)OC)OC(OC)C[C@H]3[C@H]2",
            "product_smiles": "C[C@H]1C=C[C@@H]2[C@H]3CC(=O)C[C@@]1(NC(=O)OC)OC(OC)C[C@H]3[C@H]2[C@@H](C(=O)N(C)C)S(=O)c4ccccc4",
            "notes": "Michael addition of N,N-dimethyl-2-(phenylsulfinyl)acetamide to an exocyclic enone, forming a new C-C bond and two new chiral centers.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Lactonization / Pummerer-type rearrangement",
            "reagents": "toluene",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "65% (2 steps)",
            "reactant_smiles": "CC1=CC2CC(=O)C(C(C(=O)N(C)C)S(=O)c3ccccc3)C(C1)(C2OCOC)NC(=O)OC",
            "product_smiles": "CC1=CC2CC3=C(C=CC(=O)O3)C(C1)(C2OCOC)NC(=O)OC",
            "notes": "Intramolecular lactonization to form an α,β-unsaturated lactone, likely involving a Pummerer-type rearrangement of the sulfoxide and cyclization, followed by elimination.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Lactone Aminolysis",
            "reagents": "aq NH3",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "",
            "reactant_smiles": "C[C@H]1C[C@@H]2C[C@H]3C4=C(C=CC(=O)O4)C(C1)(C[C@H]3[MOMO])NC(=O)OC",
            "product_smiles": "C[C@H]1C[C@@H]2C[C@H]3C4=C(C=CC(=O)N4)C(C1)(C[C@H]3[MOMO])NC(=O)OC",
            "notes": "Conversion of an alpha,beta-unsaturated lactone to the corresponding lactam using aqueous ammonia. The bridged polycyclic core, methyl, MOMO, and carbamate functionalities are retained.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "O-Methylation",
            "reagents": "MeI, Ag2CO3, CHCl3",
            "reagent_smiles": "CI.[Ag+].[Ag+].[O-]C([O-])=O",
            "conditions": "reflux",
            "yield": "52% (2 steps)",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=O)[nH]3)C(C1)(C2OC[O]C)NC(=O)OC",
            "product_smiles": "CC1=CC2CC3=C(C=C(OC)N=C3)C(C1)(C2OC[O]C)NC(=O)OC",
            "notes": "O-methylation of a 2-pyridone (lactam) to a methoxypyridine.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Deprotection",
            "reagents": "TMSCl, NaI",
            "reagent_smiles": "",
            "conditions": "MeCN",
            "yield": "",
            "reactant_smiles": "CC1=C2N=C(OC)C=C2C3(C(C4)C=C(C)CC34)C([MOMO])NC(=O)OC",
            "product_smiles": "CC1=C2N=C(OC)C=C2C3(C(C4)C=C(C)CC34)C(O)NC(=O)OC",
            "notes": "Deprotection of a methoxymethyl (MOMO) ether to a hydroxyl group using TMSCl and NaI.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Swern oxidation",
            "reagents": "(COCl)2, DMSO, i-Pr2NEt, CH2Cl2",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "95%",
            "reactant_smiles": "COC1=NC=CC2=C1[C@@H]3C[C@H]4C=C(C)[C@H]3[C@@]2(O)NC(=O)OC",
            "product_smiles": "COC1=NC=CC2=C1[C@@H]3C[C@H]4C=C(C)[C@H]3[C]2(=O)NC(=O)OC",
            "notes": "Oxidation of a tertiary alcohol to a ketone.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Nucleophilic Addition",
            "reagents": "CH2CHLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=N3)OC)C(C1)(C2=O)NC(=O)OC",
            "product_smiles": "C=CC1(C2C=C(C)CC1(C3=C(C2)N=C(C=C3)OC)NC(=O)OC)O",
            "notes": "Addition of vinyllithium to a ketone, forming a tertiary alcohol.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Chlorination / Dehydration",
            "reagents": "CH₂Cl₂",
            "reagent_smiles": "ClS(Cl)=O",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C=CC1(C(C2C(CC(C)C2)C3C1C4=C(C3)N=C(C=C4)OC)O)NC(=O)OC",
            "product_smiles": "ClC/C=C/C1(C(C2C(CC(C)C2)C3C1C4=C(C3)N=C(C=C4)OC)NC(=O)OC)",
            "notes": "The hydroxyl group is replaced by chlorine, and the terminal vinyl group rearranges to an E-allylic chloride.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Reduction / Alkene Modification",
            "reagents": "LiBHEt₃",
            "reagent_smiles": "[Li+].[BH(CC)3]-",
            "conditions": "",
            "yield": "46% (3 steps)",
            "reactant_smiles": "CC1=CC/2CC3=C(C=CC(=N3)OC)C(C1)(\\C2=C\\CCl)NC(=O)OC",
            "product_smiles": "CC1=CC/2CC3=C(C=CC(=N3)OC)C(C1)(\\C2=C\\C)NC(=O)OC",
            "notes": "Reduction of a chloroalkene to an alkyl-substituted alkene (loss of Cl, gain of terminal methyl group)",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Deprotection and Lactamization",
            "reagents": "TMSI",
            "reagent_smiles": "",
            "conditions": "CHCl3, MeOH, reflux",
            "yield": "",
            "reactant_smiles": "C[C@H]1C=C(C)[C@H]2C[C@]1(NC(=O)OC)[C@H]3C=C(N=C3OC)C=C2",
            "product_smiles": "C[C@H]1C=C(C)[C@H]2C[C@]1(N)[C@H]3C=C(NC(=O)C=C3)C=C2",
            "notes": "TMSI-mediated deprotection of a methyl carbamate and demethylation/rearrangement of a 2-methoxypyridine derivative to form a primary amine and a lactam, yielding (-)-Huperzine A. All existing stereocenters are preserved.",
            "substeps": []
        }
    ]
}