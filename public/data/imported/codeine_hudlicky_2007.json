{
    "$schema": "../schema.json",
    "meta": {
        "id": "codeine-hudlicky-2007",
        "molecule_name": "Codeine",
        "class": "Natural Product",
        "author": "Hudlicky",
        "year": 2007
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Ozonolysis and Reduction",
            "reagents": "O₃, NaBH₄",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C=CCC1=CC(=C(C=C1)OC)O",
            "product_smiles": "CCCCOc1ccc(OC)c(O)c1",
            "notes": "Conversion of an allyl group (-CH₂-CH=CH₂) to a 3-hydroxypropyl group (-CH₂-CH₂-CH₂-OH). Note: The drawn product side chain (3-hydroxypropyl) is inconsistent with the typical outcome of reductive ozonolysis of an allyl group, which would usually yield a 2-hydroxyethyl side chain.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Alcohol Protection (Silylation)",
            "reagents": "TBSCl, BuLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1c(O)ccc(CCO)c1",
            "product_smiles": "COc1c(O)ccc(CC[OTBS])c1",
            "notes": "Selective protection of the primary alcohol as a tert-butyldimethylsilyl (TBS) ether.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Williamson Ether Synthesis",
            "reagents": "K2CO3",
            "reagent_smiles": "COC(=O)C(Br)C(=O)OC",
            "conditions": "acetone",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=CC(=C(C=C1)OC)O",
            "product_smiles": "[OTBS]CCC1=CC=C(OC)C(OC(C(=O)OC)C(=O)OC)=C1",
            "notes": "Phenolic hydroxyl group is alkylated with dimethyl 2-bromomalonate via Williamson ether synthesis.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Intramolecular Alkylation / Cyclization",
            "reagents": "NaH, DMF",
            "reagent_smiles": "ClCc1ccc([OTBS])cc1",
            "conditions": "0 °C to 60 °C",
            "yield": "58% (2 steps)",
            "reactant_smiles": "COC1=C(OC(C(=O)OC)C(=O)OC)C=C(CC[OTBS])C=C1",
            "product_smiles": "COC1=C(O[C](C(=O)OC)(C(=O)OC)Cc2ccc([OTBS])cc2)C=C(CC[OTBS])C=C1",
            "notes": "Intramolecular cyclization of an alkyl malonate via deprotonation and SN2 reaction with a benzylic chloride, forming a new six-membered heterocyclic ring.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Decarboxylation",
            "reagents": "LiBr",
            "reagent_smiles": "",
            "conditions": "DMSO, 100 °C",
            "yield": "",
            "reactant_smiles": "COC1=C(OC(C(=O)OC)(C(=O)OC)CC2=CC=C(C[OTBS])C=C2)C=CC(CCC[OTBS])=C1",
            "product_smiles": "COC1=C(OC[CH](C(=O)OC)CC2=CC=C(C[OTBS])C=C2)C=CC(CCC[OTBS])=C1",
            "notes": "Decarboxylation of a geminal diester catalyzed by lithium bromide in DMSO.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "[Li][AlH4]",
            "conditions": "Et2O, 0 °C",
            "yield": "",
            "reactant_smiles": "[TBS]OCCC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)O[TBS])C(=O)OC",
            "product_smiles": "[TBS]OCCC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)O[TBS])CO",
            "notes": "Methyl ester is reduced to a primary alcohol using lithium aluminum hydride.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Desilylation, Oxidation",
            "reagents": "TBAF, HOAc, THF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "55% (3 steps)",
            "reactant_smiles": "[OTBS]CC1=CC=C(OC)C2=C1OC(CO)CC2C3=CC=C([OTBS])C=C3",
            "product_smiles": "[OTBS]CC1=CC=C(OC)C2=C1OC(CO)CC2C3C=CC(=O)C=C3",
            "notes": "Selective desilylation of one TBS group followed by oxidative dearomatization to form a cyclohexadienone. The reaction proceeds in 3 steps.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Intramolecular spirocyclization / Dearomatizing cyclization",
            "reagents": "",
            "reagent_smiles": "CC(=O)O[I](OC(=O)C)c1ccccc1.C(C(F)(F)F)(O)C(F)(F)F.[Na+].O=C([O-])O",
            "conditions": "HFIP",
            "yield": "85%",
            "reactant_smiles": "COc1ccc(CCC[OTBS])c2c1OC(CO)CC23C=CC(=O)C=C3",
            "product_smiles": "COc1ccc(CCC[OTBS])c2c1OC3(CO)CCC24C5=CC(=O)C=C43C5",
            "notes": "Intramolecular spirocyclization reaction promoted by hypervalent iodine (PhI(OAc)2) leading to a complex tetracyclic product with a bridged cyclohexadienone system.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Oxidative Lactonization",
            "reagents": "PCC, 3 Å Ms",
            "reagent_smiles": "",
            "conditions": "Benzene, reflux",
            "yield": "38%",
            "reactant_smiles": "COc1ccc(CCO[TBS])c2c1OC(CO)CC23C=CC(=O)C=C3",
            "product_smiles": "COc1ccc(CCO[TBS])c2c1OC(=O)CC23C=CC(=O)C=C3",
            "notes": "Oxidation of a primary alcohol (CH2OH) to a lactone using PCC.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Rearrangement, Cyclization",
            "reagents": "MeOH, NaN3",
            "reagent_smiles": "CO.[Na+].[N-]=[N+]=[N-]",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1ccc(CCC[OTBS])c(c1)C2(CC(=O)OC2)C3=CC(=O)C=C3",
            "product_smiles": "COc1c(CCC[OTBS])c2ccc1O[C@@H]3C2[C@@]4(CC(=O)OC)C5=CC(=O)CCC5",
            "notes": "Intramolecular cyclization and rearrangement of a spirocyclic lactone-quinone system to a fused dihydrofuran-cyclohexenone with the formation of a methyl ester, likely initiated by azide or methanol.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Reduction (ketone to alcohol)",
            "reagents": "NaBH4",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "85%",
            "reactant_smiles": "COC1=C(CCC[OTBS])C=CC2=C1O[C@@H]3C(=O)C=CC[C@@]23CC(=O)OC",
            "product_smiles": "COC1=C(CCC[OTBS])C=CC2=C1O[C@@H]3C(=CC(O)C[C@@]23CC(=O)OC)",
            "notes": "Sodium borohydride reduction of an alpha,beta-unsaturated ketone to an allylic alcohol. The ester and silyl ether groups are preserved. The new alcohol forms as a mixture of stereoisomers.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)[C@@]3(C(O)C/C=C/[C@H]4O[C@]5([C@@H]34)C[C@H](C(=O)OC)(CC[OTBS])C25)",
            "product_smiles": "COc1ccc2c(c1)[C@@]3(C(OS(=O)(=O)C)C/C=C/[C@H]4O[C@]5([C@@H]34)C[C@H](C(=O)OC)(CC[OTBS])C25)",
            "notes": "Mesylation of a secondary alcohol using methanesulfonyl chloride (MsCl) and triethylamine (Et3N) in dichloromethane (DCM). The alcohol's stereochemistry is undefined (wiggly bond).",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic Substitution",
            "reagents": "Cs2CO3, nBu4NI",
            "reagent_smiles": "C1=CC=CC=C1S",
            "conditions": "DMF, 0 °C to rt",
            "yield": "91% (2 steps)",
            "reactant_smiles": "COc1cc2c(cc1C[C@H](CO[TBS])C(=O)OC)[C@@]13C=C[C@@H](C[C@@H]1O2)OS(C)(=O)=O",
            "product_smiles": "COc1cc2c(cc1C[C@H](CO[TBS])C(=O)OC)[C@@]13C=C[C@@H](C[C@@H]1O2)Sc4ccccc4",
            "notes": "Mesylate displacement by thiophenol (via thiolate formation).",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Ester Reduction",
            "reagents": "DIBAL-H",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H](S[C]4=CC=CC=C4)C=C[C@@H]3[C@]2C[C@@](C)(C(=O)OC)C[OTBS]",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H](S[C]4=CC=CC=C4)C=C[C@@H]3[C@]2C[C@@](C)(CO)C[OTBS]",
            "notes": "Methyl ester is reduced to a primary alcohol using DIBAL-H.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "84% (2 steps)",
            "reactant_smiles": "COC1=CC=C(C(CO)(C[OTBS]))C2=C1O[C@H]3[C@H]4C=C[C@@H]([SPh])C[C@]4[C@]23",
            "product_smiles": "COC1=CC=C(C(CHO)(C[OTBS]))C2=C1O[C@H]3[C@H]4C=C[C@@H]([SPh])C[C@]4[C@]23",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Reductive Amination",
            "reagents": "MeNH2, NaBH4, MeOH",
            "reagent_smiles": "",
            "conditions": "60 °C to rt",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3[C@H]4[C@@]5(CC=O)(CCO[TBS])C=C[C@H]([SPh])C[C@]2345",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3[C@H]4[C@@]5(CCNC)(CCO[TBS])C=C[C@H]([SPh])C[C@]2345",
            "notes": "Reductive amination of the aldehyde to a secondary methylamine. All other stereocenters and protecting groups (TBSO, SPh) are retained.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Amine Protection (N-Boc)",
            "reagents": "(Boc)₂O, NEt₃",
            "reagent_smiles": "O=C(OC(C)(C)C)OC(=O)OC(C)(C)C.CCN(CC)CC",
            "conditions": "DMF, rt",
            "yield": "76%",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]4C=C[C@@H](Sc5ccccc5)C[C@H]4[C@@]23([C@@H](CC[NH](C)C))([C@H](CO[Si](C)(C)C(C)(C)C))",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]4C=C[C@@H](Sc5ccccc5)C[C@H]4[C@@]23([C@@H](CCN(C)C(=O)OC(C)(C)C))([C@H](CO[Si](C)(C)C(C)(C)C))",
            "notes": "N-Boc protection of a secondary methylamine, converting -NHMe to -N(Boc)Me. All other functional groups and stereocenters remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Desilylation",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C",
            "yield": "",
            "reactant_smiles": "CC(C)(C)OC(=O)N1C[C@@H](CO[Si](C)(C)C(C)(C)C)[C@]23CCC=C[C@@H](Sc4ccccc4)[C@H]2OC5=C3C=CC(=C5)OC",
            "product_smiles": "CC(C)(C)OC(=O)N1C[C@@H](CO)[C@]23CCC=C[C@@H](Sc4ccccc4)[C@H]2OC5=C3C=CC(=C5)OC",
            "notes": "Deprotection of TBS ether to primary alcohol",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "70% (2 steps)",
            "reactant_smiles": "CC(C)(C)OC(=O)N(C)CC[C@@]1(CO)C[C@@]23C=C[C@@H](Sc4ccccc4)[C@H](C[C@@H]2OC5=C3C=CC=C5OC)C1",
            "product_smiles": "CC(C)(C)OC(=O)N(C)CC[C@@]1(C=O)C[C@@]23C=C[C@@H](Sc4ccccc4)[C@H](C[C@@H]2OC5=C3C=CC=C5OC)C1",
            "notes": "Oxidation of a primary alcohol to an aldehyde.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reduction",
            "reagents": "SmI2, HMPA",
            "reagent_smiles": "",
            "conditions": "THF, -40 °C to rt",
            "yield": "68%",
            "reactant_smiles": "[Boc]N(C)C1CC(=O)[C@@](C)(C[C@]23[C@H]1[C@@H]4C=C[C@@H](S(C5=CC=CC=C5))C[C@H]4O[C@H]3C6=CC=C(OC)C=C62)",
            "product_smiles": "[Boc]N(C)C1C[C@@H](O)[C@H](C[C@]23[C@H]1[C@@H]4C=CC[C@H](C[C@H]4O[C@H]3C5=CC=C(OC)C=C52))",
            "notes": "Samarium diiodide mediated reductive removal of the thiophenyl group and reduction of the cyclic ketone to an alcohol. The methyl group alpha to the ketone is also removed in the product.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et₃N",
            "reagent_smiles": "CS(=O)(=O)Cl.CCN(CC)CC",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N(C)CC[C@]12[C@@H]3C=CC[C@@H]1OC4=C2C(=CC=C4OC)C[C@H]3O",
            "product_smiles": "[Boc]N(C)CC[C@]12[C@@H]3C=CC[C@@H]1OC4=C2C(=CC=C4OC)C[C@H]3[OMs]",
            "notes": "Mesylation of a secondary alcohol.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Elimination",
            "reagents": "DBU",
            "reagent_smiles": "",
            "conditions": "PhMe, reflux",
            "yield": "94% (2 steps)",
            "reactant_smiles": "CC(C)(C)OC(=O)N(C)C[C@H]1CC=C[C@@H]2[C@H]1[C@]34C[C@@H](OS(C)(=O)=O)[C@H]5OC3=C(OC)C=CC45",
            "product_smiles": "CC(C)(C)OC(=O)N(C)C[C@H]1C=C[C@H]2[C@H]1[C@]34C=C[C@H]5OC3=C(OC)C=CC45",
            "notes": "Dehydro-mesylation reaction (elimination of mesylate group and a hydrogen), followed by further elimination/rearrangement to form a conjugated diene system.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Oxidation",
            "reagents": "",
            "reagent_smiles": "O=[Se]=O.CC(C)(C)OOH",
            "conditions": "dioxane, 50 °C",
            "yield": "58%",
            "reactant_smiles": "[Boc]N(C)C[C@@H]2C=C[C@@H]3[C@H]4Oc5c(OC)ccc6c5C[C@@H]4[C@]23C61",
            "product_smiles": "[Boc]N(C)C[C@@H]2[C@@H](O)C=C[C@@H]3[C@H]4Oc5c(OC)ccc6c5C[C@@H]4[C@]23C61",
            "notes": "Allylic oxidation of a thebaine derivative with selenium dioxide and tert-butyl hydroperoxide to introduce a beta-hydroxyl group.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Oxidation",
            "reagents": "IBX, DMF",
            "reagent_smiles": "",
            "conditions": "rt",
            "yield": "92%",
            "reactant_smiles": "[Boc]N(C)[C@@H]1CC=C[C@H]2[C@@H]1C[C@@H]34C=C[C@H](O)[C@@H]3O[C@H]4c5ccc(OC)cc52",
            "product_smiles": "[Boc]N(C)[C@@H]1CC=C[C@H]2[C@@H]1C[C@@H]34C=CC(=O)[C@@H]3O[C@H]4c5ccc(OC)cc52",
            "notes": "Oxidation of a secondary alcohol to a ketone.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Ketone Reduction (Luche Reduction)",
            "reagents": "NaBH4, CeCl3",
            "reagent_smiles": "",
            "conditions": "MeOH, 0 °C",
            "yield": "89%",
            "reactant_smiles": "C[N]1([Boc])C[C@@H]2C=C3C4=C(OC)C=CC(C3=C2[C@H]5O[C@H]4C(=O)C=C5)C1",
            "product_smiles": "C[N]1([Boc])C[C@@H]2C=C3C4=C(OC)C=CC(C3=C2[C@H]5O[C@H]4[C@@H](O)C=C5)C1",
            "notes": "Stereoselective reduction of the α,β-unsaturated ketone to form a new allylic alcohol with a dashed (beta) hydroxyl group.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "Deprotection",
            "reagents": "TFA",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "88%",
            "reactant_smiles": "[Boc]N(C)1CCC23C4C1CC=C2[C@@H]([C@H](C=C4)O)OC5=C3C=CC(=C5)OC",
            "product_smiles": "CN1CCC23C4C1CC=C2[C@@H]([C@H](C=C4)O)OC5=C3C=CC(=C5)OC",
            "notes": "Boc deprotection of N-methyl-N-Boc-norcodeine to codeine.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Aminomercuration",
            "reagents": "",
            "reagent_smiles": "CC(=O)O[Hg]OC(C)=O.CCN(CC)CC",
            "conditions": "THF, rt",
            "yield": "",
            "reactant_smiles": "CN1CC[C@]23C4C=CC(OC)=C(C4OC2C5C=C[C@H]([C@@H]35)O)O1",
            "product_smiles": "CC(=O)O[Hg][C@@]12[C@@]3N(C)C[C@@]4[C@@]5([H])[C@@H]6C=CC(OC)=C(C6OC[C@H]7[C@H]2[C@H](O)[C@H]47)O531",
            "notes": "Intramolecular aminomercuration of the 7,8-alkene with the N-methyl amine.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Reductive Demercuration",
            "reagents": "LiAlH4",
            "reagent_smiles": "",
            "conditions": "THF, rt",
            "yield": "18% (2 steps)",
            "reactant_smiles": "COC1=C(C=C2C1OC3([Hg]OC(=O)C)C[C@@H](O)C=C[C@@H]4[C@@H]3[C@H]2N(C)C[C@@H]4)C",
            "product_smiles": "COC1=C(C=C2C1O[C@H]3C[C@@H](O)C=C[C@@H]4[C@@H]3[C@H]2N(C)C[C@@H]4)C",
            "notes": "Reductive demercuration of an acetoxymercury adduct to yield codeine.",
            "substeps": []
        }
    ]
}