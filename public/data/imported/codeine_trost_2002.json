{
    "$schema": "../schema.json",
    "meta": {
        "id": "codeine-trost-2002",
        "molecule_name": "Codeine",
        "class": "Natural Product",
        "author": "Trost",
        "year": 2002
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Ozonolysis / Reduction",
            "reagents": "O₃, NaBH₄",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C=CCC1=CC(=C(C=C1)OC)O",
            "product_smiles": "COC1=C(C=C(C=C1)CCCO)O",
            "notes": "Oxidative cleavage of a terminal alkene followed by reduction to a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Protection (Silyl Ether Formation)",
            "reagents": "TBSCl, BuLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=C(O)C=C(CCO)C=C1",
            "product_smiles": "COC1=C(O)C=C(CC[OTBS])C=C1",
            "notes": "Selective protection of the primary alcohol as a TBS ether, leaving the phenolic hydroxyl untouched.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "O-Alkylation",
            "reagents": "K2CO3",
            "reagent_smiles": "COC(=O)C(C(=O)OC)Br",
            "conditions": "acetone",
            "yield": "",
            "reactant_smiles": "[TBS]OCCC1=CC=C(OC)C(=C1)O",
            "product_smiles": "[TBS]OCCC1=CC=C(OC)C(=C1)OC(C(=O)OC)C(=O)OC",
            "notes": "Phenol undergoes O-alkylation with dimethyl 2-bromomalonate.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Intramolecular Cyclization / Alkylation",
            "reagents": "NaH, DMF",
            "reagent_smiles": "ClCc1ccc([OTBS])cc1",
            "conditions": "0 °C to 60 °C",
            "yield": "58%",
            "reactant_smiles": "COC1=C(OC(C(=O)OC)C(=O)OC)C=CC(CCC[OTBS])=C1",
            "product_smiles": "COC1=C(OC(C(=O)OC)(C(=O)OC)CC2=CC=C([OTBS])C=C2)C=CC(CCC[OTBS])=C1",
            "notes": "Deprotonation of the malonate by NaH followed by intramolecular nucleophilic attack on the benzyl chloride to form a 7-membered cyclic ether.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Decarboxylation",
            "reagents": "LiBr, DMSO",
            "reagent_smiles": "",
            "conditions": "100 °C",
            "yield": "",
            "reactant_smiles": "COC1=CC(CCC[OTBS])=CC=C1OC(C(=O)OC)(C(=O)OC)CC2=CC=C(C=C2)[OTBS]",
            "product_smiles": "COC1=CC(CCC[OTBS])=CC=C1OC(C(=O)OC)CC2=CC=C(C=C2)[OTBS]",
            "notes": "Decarboxylation of a geminal diester to a monoester, promoted by lithium bromide.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "",
            "conditions": "Et2O, 0 °C",
            "yield": "",
            "reactant_smiles": "[OTBS]CC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)[OTBS])C(=O)OC",
            "product_smiles": "[OTBS]CC1=CC(=C(C=C1)OC)OC(CC2=CC=C(C=C2)[OTBS])CO",
            "notes": "Ester reduction to primary alcohol using lithium aluminum hydride.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Oxidative Dearomatization / Desilylation",
            "reagents": "TBAF, HOAc, THF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "55%",
            "reactant_smiles": "OC1=C(OC)C=C(CC[Si](C)(C)C(C)(C)C)C=C1OC(CO)CC2=CC=C(O[Si](C)(C)C(C)(C)C)C=C2",
            "product_smiles": "OC1=C(OC)C=C(CC[Si](C)(C)C(C)(C)C)C=C1OC(CO)CC2C=CC(=O)C=C2",
            "notes": "One TBS protecting group is removed from the aromatic ring, and that aromatic ring undergoes oxidative dearomatization to form a 2,5-cyclohexadien-1-one. The other TBS group and the methoxy group remain. The central chiral alcohol is retained. This is noted as a 3-step sequence.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Intramolecular Oxidative Dearomatizing Spirocyclization",
            "reagents": "PhI(OAc)2, NaHCO3",
            "reagent_smiles": "",
            "conditions": "HFIP",
            "yield": "85%",
            "reactant_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(CC32C=CC(=O)C=C3)CO",
            "product_smiles": "[OTBS]CCOC1=CC(OC)=C(C=O)C=C1C2(C3C=CC(=O)C=C3)CC(CO)O2",
            "notes": "Intramolecular oxidative spirocyclization converting an aromatic ring to a dearomatized quinone ring and forming a new spiro center.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Oxidation",
            "reagents": "PCC, 3 Å Ms",
            "reagent_smiles": "",
            "conditions": "Benzene, reflux",
            "yield": "38%",
            "reactant_smiles": "[OTBS]CC1=C2C(=C(C=C1)OC)OC(CC32C=CC(=O)C=C3)CO",
            "product_smiles": "[OTBS]CC1=C2C(=C(C=C1)OC)OC(=O)CC32C=CC(=O)C=C3",
            "notes": "Oxidation of a primary alcohol to a lactone",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Dienone Rearrangement / Cyclization / Azide addition (implied via NaN3 but not explicitly shown in product)",
            "reagents": "MeOH, NaN3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=CC=C(CCC[OTBS])C2=C1C(=O)OCC3(C=CC(=O)C=C3)C2",
            "product_smiles": "COC1=CC=C(CCC[OTBS])C2=C1O[C@H]3C=CC(=O)C[C@@]3(C2)C(=O)OC",
            "notes": "Complex cyclization and rearrangement of a spiro-dienone-lactone to a fused tetracyclic system with a methyl ester and a furan-like bridge. Sodium azide is a reagent but no nitrogen is incorporated into the product, implying it might act as a nucleophile or base in a mechanism not explicitly depicted in the product structure.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "[Na+].[BH4-]",
            "conditions": "0 °C",
            "yield": "85%",
            "reactant_smiles": "COc1cc([OTBS]CCC)c2c(c1)O[C@@H]3C=CC(=O)C[C@@]23CC(=O)OC",
            "product_smiles": "COc1cc([OTBS]CCC)c2c(c1)O[C@@H]3C=CC(O)C[C@@]23CC(=O)OC",
            "notes": "Ketone reduced to alcohol by sodium borohydride.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Alcohol Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c1O[C@H]3C=C[C@H](C[C@@H]3[C@@]24CC(=O)OC)[C@H]4C[C@H]([OTBS])C(O)",
            "product_smiles": "COc1ccc2c1O[C@H]3C=C[C@H](C[C@@H]3[C@@]24CC(=O)OC)[C@H]4C[C@H]([OTBS])C(OS(=O)(=O)C)",
            "notes": "Mesylation of a secondary alcohol using mesyl chloride and triethylamine.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic Substitution (SN2)",
            "reagents": "Cs2CO3, nBu4NI",
            "reagent_smiles": "S[Ph]",
            "conditions": "DMF, 0 °C to rt",
            "yield": "91% (2 steps)",
            "reactant_smiles": "COC1=CC=C2C(=C1)C(C(CO[TBS])(CC(=O)OC))[C@]34C[C@@H]5OC2[C@@]36C=C[C](C[C@@H]6C4)OS(=O)(=O)C",
            "product_smiles": "COC1=CC=C2C(=C1)C(C(CO[TBS])(CC(=O)OC))[C@]34C[C@@H]5OC2[C@@]36C=C[C@@H](C[C@@H]6C4)S[Ph]",
            "notes": "Mesylate displacement by thiophenol nucleophile with inversion of stereochemistry.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Reduction, Deprotection",
            "reagents": "DIBAL-H",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COC1=CC=C2C([C@](C)(C(=O)OC)CO[TBS])=C2O[C@@H]3[C@H]4C=C[C@@H](S[Ph])C43",
            "product_smiles": "COC1=CC=C2C([C@](C)(CO)CO)=C2O[C@@H]3[C@H]4C=C[C@@H](S[Ph])C43",
            "notes": "Methyl ester reduced to primary alcohol and TBS ether deprotected to primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "84% (2 steps)",
            "reactant_smiles": "COc1ccc2c1CC(CO)(C[OTBS])C[C@H]3[C@@H](C[C@@H](O2)[C@H]3C=C[C@@H](S[Ph]))",
            "product_smiles": "COc1ccc2c1CC(C=O)(C[OTBS])C[C@H]3[C@@H](C[C@@H](O2)[C@H]3C=C[C@@H](S[Ph]))",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Reductive Amination",
            "reagents": "MeNH2, NaBH4",
            "reagent_smiles": "",
            "conditions": "MeOH, 60 °C to rt",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@H]3[C@@H]4[C@H]5C=C[C@@H]([SPh])C5CC[C@]4(CC=O)C(CC[OTBS])C3",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3[C@@H]4[C@H]5C=C[C@@H]([SPh])C5CC[C@]4(CCNC)C(CC[OTBS])C3",
            "notes": "Reductive amination of an aldehyde to a secondary N-methyl amine.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "N-Boc protection",
            "reagents": "",
            "reagent_smiles": "O=C(OC(C)(C)C)OC(=O)OC(C)(C)C.CCN(CC)CC",
            "conditions": "DMF, rt",
            "yield": "76% (2 steps)",
            "reactant_smiles": "C[NH][C@H]1CC[C@@]23C[C@]([C@H]1C[C@@H]2C[C@H](C[OTBS])C)[C@@H]4O[C@]5(C=C[C@@H](C4)[SPh])c([OMe])ccc35",
            "product_smiles": "C[N]([Boc])[C@H]1CC[C@@]23C[C@]([C@H]1C[C@@H]2C[C@H](C[OTBS])C)[C@@H]4O[C@]5(C=C[C@@H](C4)[SPh])c([OMe])ccc35",
            "notes": "Protection of the secondary methylamine with a Boc group.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Deprotection",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]([SPh])C=C[C@@H]3[C@@]4(CCO[OTBS])CC[N](C)[Boc]C4",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]([SPh])C=C[C@@H]3[C@@]4(CCO)CC[N](C)[Boc]C4",
            "notes": "Deprotection of TBS ether to hydroxyl group using TBAF.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "70%",
            "reactant_smiles": "CN([Boc])CC[C@]1(CO)[C@H]2[C@H](S[Ph])C=CC[C@@H]12Oc3c(OC)ccc4c23",
            "product_smiles": "CN([Boc])CC[C@]1(C=O)[C@H]2[C@H](S[Ph])C=CC[C@@H]12Oc3c(OC)ccc4c23",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane (DMP).",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reductive Desulfurization, Aldehyde Reduction",
            "reagents": "SmI2, HMPA",
            "reagent_smiles": "",
            "conditions": "THF, -40 °C to rt",
            "yield": "68%",
            "reactant_smiles": "[Boc]N(C)C[C@H]1C[C@@]2([C@@H]3C[C@H](S[Ph])C=C(CHO)[C@H]3C[C@@H]1O4)C4=C(OC)C=CC=C2",
            "product_smiles": "[Boc]N(C)C[C@H]1C[C@@]2([C@@H]3C=C[C@H](O)[C@H]3C[C@@H]1O4)C4=C(OC)C=CC=C2",
            "notes": "Reductive desulfurization of the thiophenyl group and reduction of the aldehyde to an alcohol using samarium diiodide.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Mesylate Formation",
            "reagents": "MsCl",
            "reagent_smiles": "CCN(CC)CC",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N(C)C[C@]12[C@@H]3C=CC[C@@H]1OC4=C2C(=CC=C4[OMe])C[C@H]3O",
            "product_smiles": "[Boc]N(C)C[C@]12[C@@H]3C=CC[C@@H]1OC4=C2C(=CC=C4[OMe])C[C@H]3[OMs]",
            "notes": "Mesylation of the secondary alcohol group.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Elimination",
            "reagents": "DBU",
            "reagent_smiles": "",
            "conditions": "PhMe, reflux",
            "yield": "94% (2 steps)",
            "reactant_smiles": "CC(C)(C)OC(=O)N(C)C[C@]12[C@@H]3C=CC[C@@]14OC5=C2C(=CC=C5OC)C[C@H]3OS(=O)(=O)C",
            "product_smiles": "CC(C)(C)OC(=O)N(C)C[C@]12[C@H]3C=CC[C@@]1OC4=C2C(=CC=C4OC)C=C3",
            "notes": "N-Boc-N-methyl-norcodeine mesylate undergoes elimination to form an exocyclic C10=C14 double bond.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Oxidation",
            "reagents": "SeO2, tBuO2H",
            "reagent_smiles": "",
            "conditions": "dioxane, 50 °C",
            "yield": "58%",
            "reactant_smiles": "[Boc]N(C)CC1=C[C@@H]2[C@H]3[C@H]4C=C[C@H]5O[C@H]2C6=C4C=C(OC)C=C6[C@@H]315",
            "product_smiles": "[Boc]N(C)CC1=C[C@@H]2[C@H]3[C@H]4C=C[C@@H](O)[C@H]5O[C@H]2C6=C4C=C(OC)C=C6[C@@H]315",
            "notes": "Allylic oxidation of the C14 methylene group to a C14 alcohol.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Oxidation",
            "reagents": "IBX",
            "reagent_smiles": "",
            "conditions": "DMF, rt",
            "yield": "92%",
            "reactant_smiles": "[Boc]N(C)[C@H]1CC(=C)[C@@H]2[C@H]3[C@]4(C2)C=C[C@H]5O[C@H]3[C@H](O)c6c4ccc(OC)c6",
            "product_smiles": "[Boc]N(C)[C@H]1CC(=C)[C@@H]2[C@H]3[C@]4(C2)C=C[C@H]5O[C@H]3C(=O)c6c4ccc(OC)c6",
            "notes": "Oxidation of a secondary alcohol to a ketone using IBX.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Ketone Reduction",
            "reagents": "NaBH4, CeCl3",
            "reagent_smiles": "",
            "conditions": "MeOH, 0 °C",
            "yield": "89%",
            "reactant_smiles": "[Boc]N(C)[C@]12CC[C@]34[C@@H]5C=CC(=O)[C@@H]6[C@]5([C@H](O[C@H]3C=C6)c7c(OC)ccc(C[C@@H]17)c24)",
            "product_smiles": "[Boc]N(C)[C@]12CC[C@]34[C@@H]5C=C[C@H](O)[C@@H]6[C@]5([C@H](O[C@H]3C=C6)c7c(OC)ccc(C[C@@H]17)c24)",
            "notes": "Stereoselective reduction of the C6 ketone to an alpha-alcohol using Luche reduction conditions.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "Boc Deprotection",
            "reagents": "TFA, DCM",
            "reagent_smiles": "",
            "conditions": "0 °C to rt",
            "yield": "88%",
            "reactant_smiles": "COc1ccc2c3c1O[C@@H]1[C@@H](O)C=C[C@@H]4[C@]12C=C(CN(C)[Boc])[C@@H]34",
            "product_smiles": "COc1ccc2c3c1O[C@@H]1[C@@H](O)C=C[C@@H]4[C@]12C=C(CNHC)[C@@H]34",
            "notes": "Acid-catalyzed Boc deprotection of an N-methyl-N-Boc-aminomethyl substituent.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Aminomercuration / Cyclization",
            "reagents": "THF",
            "reagent_smiles": "CCN(CC)CC.CC(=O)O[Hg]OC(=O)C",
            "conditions": "rt",
            "yield": "",
            "reactant_smiles": "CNHC[C@@]12C[C@H]3[C@@H]4C=CC5=CC=C(C(=C51)O[C@H]2[C@H](C=C3)O)OC",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3C=C[C@H](O)[C@@H]4[C@H]3[C@H]([Hg]OC(C)=O)[C@@]5[N@](C)CC[C@@]245",
            "notes": "Intramolecular cyclization involving the C10a-CH2-NH-CH3 substituent, forming a new N-heterocycle and a C-Hg bond at C9. The original CH2 from the substituent is lost.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "[Li][AlH4]",
            "conditions": "THF, rt",
            "yield": "18%",
            "reactant_smiles": "CN1CC[C@@H]23[C@]([Hg]OC(=O)C)C=C[C@@H]([C@@H]2OC5=C3C(=CC=C5OC)C[C@@H]41)O",
            "product_smiles": "CN1CC[C@@H]23[C@@H]4C=C[C@@H]([C@@H]2OC5=C3C(=CC=C5OC)C[C@@H]41)O",
            "notes": "Reduction of an acetoxymercury group (AcOHg) to a hydrogen, yielding codeine. The reaction is reported as an 18% yield over 2 steps.",
            "substeps": []
        }
    ]
}