{
    "$schema": "../schema.json",
    "meta": {
        "id": "huperzine-a-ji-1989",
        "molecule_name": "Huperzine A",
        "class": "Natural Product",
        "author": "Ji",
        "year": 1989
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Enantioselective Anhydride Ring Opening / Alcoholysis",
            "reagents": "quinine",
            "reagent_smiles": "OCc1ccccc1",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=C1OC(=O)[C@@H]2[C@H]1[C@H]3O[C@@H]2C=C3",
            "product_smiles": "C1=CC=C(C=C1)COC(=O)[C@@H]2[C@H]3C=C[C@@H]([C@@H]2C(=O)O)O3",
            "notes": "Enantioselective ring opening of 7-oxanorbornene anhydride with benzyl alcohol, catalyzed by quinine, to form a monoester-monoacid product. The bicyclic core stereochemistry is retained.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Carboxylic Acid Activation / Mixed Anhydride Formation",
            "reagents": "",
            "reagent_smiles": "CCOC(=O)Cl",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=C(O)[C@H]1[C@H](C(=O)OCC2=CC=CC=C2)C3OC1C=CC3",
            "product_smiles": "CCOC(=O)OC(=O)[C@H]1[C@H](C(=O)OCC2=CC=CC=C2)C3OC1C=CC3",
            "notes": "A carboxylic acid is activated by conversion to an ethyl carbonato mixed anhydride using ethyl chloroformate.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Reduction and Lactonization",
            "reagents": "NaBH4, then aq HCl",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CCOC(=O)[C@H]1[C@@H](C(=O)OCC2=CC=CC=C2)[C@@H]3O[C@H]1C=C[C@@H]3",
            "product_smiles": "O=C1O[C@H]2[C@@H](C1)C=C[C@@H]3O2C3",
            "notes": "Reduction of ethyl and benzyl esters to alcohols, followed by lactonization.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Hydrogenation",
            "reagents": "H2, Pd/C",
            "reagent_smiles": "",
            "conditions": "EtOAc",
            "yield": "84%",
            "reactant_smiles": "C1=C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "product_smiles": "C1C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "notes": "Hydrogenation of the endocyclic double bond to a single bond.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Intramolecular Rearrangement and Alkylation",
            "reagents": "KHMDS, 18-crown-6, methallyl bromide",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C1C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "product_smiles": "CC(=C)C[C@]1C(=O)OCC1[C@@H]2C=CC[C@@H]([OTMS])C2",
            "notes": "Base-mediated rearrangement of an ether-bridged lactone to form a bicyclic silyl enol ether with a double bond, followed by alkylation with methallyl bromide.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Silyl ether deprotection",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "80%",
            "reactant_smiles": "C=C(C[C@]12C=CC[C@H](C2COC1=O)[OTMS])",
            "product_smiles": "C=C(C[C@]12C=CC[C@H](C2COC1=O)O)",
            "notes": "TMS ether deprotection to alcohol.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Epoxidation",
            "reagents": "VO(OEt)3, TBHP, MS 4A",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "95%",
            "reactant_smiles": "C=C(C)C[C@@]12C=CC[C@H](O)[C@H]2COC1=O",
            "product_smiles": "C=C(C)C[C@@]12[C@H]3O[C@H]3C[C@H](O)[C@H]2COC1=O",
            "notes": "Epoxidation of the cyclic alkene to form an epoxide using a vanadium catalyst and tert-butyl hydroperoxide (TBHP).",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Swern oxidation",
            "reagents": "(COCl)2, DMSO, i-Pr2NEt",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "95%",
            "reactant_smiles": "C=C(C)C[C@@]12C(=O)OC[C@H]([C@@H]2[C@H](O)C[C@H]3O[C@@]13)",
            "product_smiles": "C=C(C)C[C@@]12C(=O)OC[C@H]([C@H]2[C@@H](O)C3=CC(=O)[C@@]13)",
            "notes": "Oxidation of a secondary alcohol to a ketone, accompanied by epoxide opening, rearrangement, and formation of a dienone system in the product.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Acid-catalyzed rearrangement/cyclization",
            "reagents": "cat. PTSA",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "61%",
            "reactant_smiles": "CC(=C)C[C@@H]1[C@@H]2C(=O)C=C[C@@H](O)C2(C(=O)O1)",
            "product_smiles": "C[C@]1=C2C[C@@H](C(=O)O)[C@@H]3[C@]1(OCCC(=O)[C@H]23)",
            "notes": "Intramolecular acid-catalyzed rearrangement and cyclization of a bicyclic enone-lactone to a tetracyclic carboxylic acid-lactone system.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Alcohol Protection",
            "reagents": "MOMCl, i-Pr2NEt, TBAI",
            "reagent_smiles": "",
            "conditions": "THF, reflux",
            "yield": "",
            "reactant_smiles": "CC1=CC2C3C(C(O)C(=O)OC3CC2)C1",
            "product_smiles": "CC1=CC2C3C(C(OCOC)C(=O)OC3CC2)C1",
            "notes": "Protection of a secondary alcohol to form a methoxymethyl (MOM) ether.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Lactone opening, Nucleophilic addition",
            "reagents": "KOH",
            "reagent_smiles": "C1=CC=C(S)C=C1.CO",
            "conditions": "reflux",
            "yield": "90% (2 steps)",
            "reactant_smiles": "COCOC1C(=O)C2C3C(C=C(C)C4)C4C2(C(=O)OC3)C1",
            "product_smiles": "COCOC1(C(=O)C2)C(CS C3=CC=CC=C3)C4C(C=C(C)C5)C5C2(C(=O)O)C4",
            "notes": "Nucleophilic lactone opening with thiophenol and base (KOH) in methanol, resulting in a carboxylic acid and a thioether. The MOMO group and ketone remain intact.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Curtius rearrangement",
            "reagents": "DPPA, Et3N",
            "reagent_smiles": "",
            "conditions": "PhH, reflux",
            "yield": "",
            "reactant_smiles": "CC1=CC2CC(=O)C(CS[Ph])C(C1)(C2[MOMO])C(=O)O",
            "product_smiles": "[MOMO]C1C2C=C(CC1(C(C(=O)C2)S[Ph])N=C=O)",
            "notes": "Conversion of a carboxylic acid to an isocyanate.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic Addition (Carbamate Formation)",
            "reagents": "",
            "reagent_smiles": "CO",
            "conditions": "reflux",
            "yield": "89%",
            "reactant_smiles": "O=C=N[C@@]12C[C@H](OCOC)C[C@H](CSCc3ccccc3)C(=O)[C@@H](C1)C=C(C)C2",
            "product_smiles": "COC(=O)N[C@@]12C[C@H](OCOC)C[C@H](CSCc3ccccc3)C(=O)[C@@H](C1)C=C(C)C2",
            "notes": "Isocyanate group reacts with methanol to form a methyl carbamate.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Oxidation",
            "reagents": "m-CPBA",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "",
            "reactant_smiles": "C[C@H]1C=C2[C@H]3CC(C(=O)O[C@@H]2[C@H](C[SPh])C3)N(C(=O)OC)[C@H]1[MOMO]",
            "product_smiles": "C[C@H]1C=C2[C@H]3CC(C(=O)O[C@@H]2[C@H](C[S](=O)[Ph])C3)N(C(=O)OC)[C@H]1[MOMO]",
            "notes": "Oxidation of a thioether to a sulfoxide using m-CPBA.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Elimination (Sulfoxide)",
            "reagents": "K2CO3",
            "reagent_smiles": "",
            "conditions": "toluene, reflux",
            "yield": "95% (2 steps)",
            "reactant_smiles": "CC1=CC2C[C@]3(C(=O)C[C@@H](CS(=O)c4ccccc4)[C@@H]2)[C@@H](N([C@H]13)C(=O)OC)[MOMO]",
            "product_smiles": "C=C1C(=O)CC2C[C@@]3([C@@H](N([C@H]13)C(=O)OC)[MOMO])[C@@H]2C=C(C)C",
            "notes": "Sulfoxide elimination to form an exocyclic alkene.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Michael reaction",
            "reagents": "KOT-Bu",
            "reagent_smiles": "CN(C)C(=O)CS(=O)c1ccccc1",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CC1=C[C@@H]2C[C@@]3(O[CH2]OC)(NC(=O)OC)C[C@@H]2C(=O)C(=C)C1",
            "product_smiles": "CC1=C[C@@H]2C[C@@]3(O[CH2]OC)(NC(=O)OC)C[C@@H]2C(=O)[C@@H](C[C@H](C(=O)N(C)C)S(=O)c4ccccc4)C1",
            "notes": "Michael addition of N,N-dimethyl-2-(phenylsulfinyl)acetamide to an alpha,beta-unsaturated ketone.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Intramolecular Cyclization / Elimination",
            "reagents": "toluene",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "65% (2 steps)",
            "reactant_smiles": "CC1=CC2CC(=O)C(C(C(=O)N(C)C)S(=O)c3ccccc3)C(C1)(C2OCOC)NC(=O)OC",
            "product_smiles": "CC1=CC2CC3=C(C=CC(=O)O3)C(C1)(C2OCOC)NC(=O)OC",
            "notes": "Transformation of a ketone, N,N-dimethylamide, and phenyl sulfoxide into a fused furanone. Stereochemistry is indicated in the image but not explicitly included in the provided or corrected SMILES for both reactant and product.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Lactone Aminolysis (Amidation)",
            "reagents": "aq NH3",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "",
            "reactant_smiles": "CC1=CC2CC3=C(C(=O)OC=C3)C(C1)(C2OCOC)NC(=O)OC",
            "product_smiles": "CC1=CC2CC3=C(C(=O)NC=C3)C(C1)(C2OCOC)NC(=O)OC",
            "notes": "Conversion of an alpha,beta-unsaturated delta-lactone to the corresponding alpha,beta-unsaturated delta-lactam using aqueous ammonia.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "O-methylation / Alkylation",
            "reagents": "MeI, Ag2CO3",
            "reagent_smiles": "",
            "conditions": "CHCl3, reflux",
            "yield": "52% (2 steps)",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=O)N3)C(C1)(C2[MOMO])NC(=O)OC",
            "product_smiles": "[MOMO]C1C2C=C(CC1(C3=C(C2)N=C(C=C3)OC)NC(=O)OC)",
            "notes": "O-methylation of the lactam carbonyl group, converting the pyridinone to a methoxy-substituted pyridine.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Deprotection",
            "reagents": "TMSCl, NaI",
            "reagent_smiles": "Cl[Si](C)(C)C.[Na+].[I-]",
            "conditions": "MeCN",
            "yield": "",
            "reactant_smiles": "COCOC1C2C=C(CC1(C3=C(C2)N=C(C=C3)OC)NC(=O)OC)",
            "product_smiles": "COC1=NC2=C(C=C1)C3(CC(C2)C(=C4C)C4)(O)NC(=O)OC",
            "notes": "Deprotection of a methoxymethyl (MOM) ether to a hydroxyl group.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Swern oxidation",
            "reagents": "(COCl)₂, DMSO, i-Pr₂NEt",
            "reagent_smiles": "",
            "conditions": "CH₂Cl₂",
            "yield": "95%",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=N3)OC)C(C1)(C2O)NC(=O)OC",
            "product_smiles": "CC1=CC2CC3=C(C=CC(=N3)OC)C(C1)(C2=O)NC(=O)OC",
            "notes": "Oxidation of a secondary alcohol to a ketone using Swern conditions.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Nucleophilic Addition (Organolithium)",
            "reagents": "CH2CHLi",
            "reagent_smiles": "C=C[Li]",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=N3)OC)C(C1)(C2=O)NC(=O)OC",
            "product_smiles": "COC1=CC=C(N=C1)C2C3C4C(C2C(C(=C4)C)C)C(C3)(NC(=O)OC)[C@@](O)(C=C)",
            "notes": "Addition of vinyl lithium to a ketone, forming a tertiary alcohol. Stereochemistry at the newly formed chiral center is explicitly shown in the product.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Chlorination / Allylic Substitution",
            "reagents": "SOCl2",
            "reagent_smiles": "ClS(=O)Cl",
            "conditions": "CH2Cl2",
            "yield": "",
            "reactant_smiles": "C=CC1(C2C=C(C)CC1(C3=C(C2)N=C(C=C3)OC)NC(=O)OC)O",
            "product_smiles": "CC1=CC/2CC3=C(C=CC(=N3)OC)C(C1)(\\C2=C\\CCl)NC(=O)OC",
            "notes": "Conversion of an allylic alcohol to an allylic chloride with rearrangement and E-stereoselectivity for the new double bond.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Reduction",
            "reagents": "LiBHEt3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "46% (3 steps)",
            "reactant_smiles": "COC1=CC=C2N=C1[C@@H]3CC4C(C2)C=C(C)C4([C@H](NC(=O)OC)/C=C\\CCl)C3",
            "product_smiles": "COC1=CC=C2N=C1[C@@H]3CC4C(C2)C=C(C)C4([C@H](NC(=O)OC)/C=C\\C)C3",
            "notes": "Allylic chloride reduced to methyl group via a 3-step sequence.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Demethylation, Deprotection",
            "reagents": "TMSI",
            "reagent_smiles": "I[Si](C)(C)C.ClC(Cl)Cl.CO",
            "conditions": "CHCl3, MeOH, reflux",
            "yield": "",
            "reactant_smiles": "C[C@H]1C[C@@H]2C3=C(N=C(C=C3)OC)C([C@H](C)C=C2)C1(NC(=O)OC)",
            "product_smiles": "C[C@H]1C[C@@H]2C3=C(C=CC(=O)N3)C([C@H](C)C=C2)C1(N)",
            "notes": "Demethylation of methoxy-pyridine to pyridone and deprotection of methyl carbamate to primary amine.",
            "substeps": []
        }
    ]
}