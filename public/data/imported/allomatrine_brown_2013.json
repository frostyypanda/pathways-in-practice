{
    "$schema": "../schema.json",
    "meta": {
        "id": "allomatrine-brown-2013",
        "molecule_name": "Allomatrine",
        "class": "Natural Product",
        "author": "Brown",
        "year": 2013
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Acid Chloride Formation",
            "reagents": "DMF, (COCl)2",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "O=C(O)CCCCl",
            "product_smiles": "O=C(Cl)CCCCl",
            "notes": "Conversion of a carboxylic acid to an acyl chloride using oxalyl chloride.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Esterification",
            "reagents": "",
            "reagent_smiles": "Oc1ccccc1",
            "conditions": "DCM",
            "yield": "94%",
            "reactant_smiles": "ClCCCC(=O)Cl",
            "product_smiles": "ClCCCC(=O)Oc1ccccc1",
            "notes": "2 steps",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Chiral Auxiliary mediated cyclization / Michael addition / Alkylation",
            "reagents": "LDA",
            "reagent_smiles": "CC(C)C[S@@](=O)N=C/C=C/C[Si](C)(C)C",
            "conditions": "THF, -78 °C",
            "yield": "75%",
            "reactant_smiles": "ClCCCC(=O)O[Ph]",
            "product_smiles": "CC(C)C[S@@](=O)N1[C@H](C/C=C/C[Si](C)(C)C)[C@@H](C(=O)O[Ph])CCC1Cl",
            "notes": "Intramolecular cyclization of an alkyl chloride phenyl ester with a chiral sulfinyl imine, forming a 6-membered piperidine ring with two new stereocenters and an (E)-alkene. The chloropentanoyl chain provides the carbon backbone for the ring and the terminal chlorine.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Deprotection",
            "reagents": "HCl, dioxane",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "ClCCC[C@H](C(=O)O[Ph])[C@@H](N[S@@](=O)[tBu])/C=C/C[TMS]",
            "product_smiles": "ClCCC[C@H](C(=O)O[Ph])[C@@H]([NH3+])/C=C/C[TMS].[Cl-]",
            "notes": "Deprotection of a tert-butyl sulfinamide (Brown's auxiliary) to a primary amine, forming an ammonium chloride salt. The stereochemistry of the chiral carbons is retained.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Cyclization / N-alkylation",
            "reagents": "NaI, K2CO3, allylBr",
            "reagent_smiles": "",
            "conditions": "MeCN, 0 °C",
            "yield": "81%",
            "reactant_smiles": "C[Si](C)(C)CH2C/C=C/[C@@H]([NH3+])[C@H](CCCCl)C(=O)O[Ph].Cl-",
            "product_smiles": "C=CCN1[C@H](C(=O)O[Ph])[C@@H](/C=C/C[Si](C)(C)C)CCC1",
            "notes": "Intramolecular cyclization of primary amine with alkyl chloride to form piperidine ring, followed by N-alkylation with allyl bromide.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4",
            "reagent_smiles": "[Li][AlH4]",
            "conditions": "Et2O, 0 °C to rt",
            "yield": "96%",
            "reactant_smiles": "C=CCN1CCC[C@H]2[C@@H](C(=O)OPh)C[C@H]1C/C=C/C[TMS]",
            "product_smiles": "C=CCN1CCC[C@H]2[C@@H](CO)C[C@H]1C/C=C/C[TMS]",
            "notes": "Reduction of a phenyl ester to a primary alcohol using lithium aluminum hydride, retaining the bicyclic core stereochemistry, N-allyl group, and the TMS-substituted E-alkene.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Mitsunobu reaction",
            "reagents": "",
            "reagent_smiles": "C1CC(=O)NC(=O)C1.P(c1ccccc1)(c1ccccc1)c1ccccc1",
            "conditions": "THF/DCM, 0 °C",
            "yield": "75%",
            "reactant_smiles": "C=CCN1CCCC[C@H]2[C@H](C=CC[Si](C)(C)C)C[C@H]2C[C@H]1CO",
            "product_smiles": "C=CCN1CCCC[C@H]2[C@H](C=CC[Si](C)(C)C)C[C@H]2C[C@H]1CN3C(=O)CCCC3=O",
            "notes": "Mitsunobu reaction converting a primary alcohol to an N-alkylated glutarimide. The decahydroisoquinoline ring system and stereochemistry were validated and corrected.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Reduction",
            "reagents": "HCl, NaBH4",
            "reagent_smiles": "",
            "conditions": "EtOH, -10 °C",
            "yield": "35%",
            "reactant_smiles": "C=CCN1CCC[C@@H](CN2C(=O)CCCC2=O)[C@@H]1/C=C/C[TMS]",
            "product_smiles": "C=CCN1CCC[C@@H](CN2C(=O)CCC(O)C2)[C@@H]1/C=C/C[TMS]",
            "notes": "Reduction of a glutarimide carbonyl to a secondary alcohol.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Intramolecular cyclization",
            "reagents": "TfOH",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "74%",
            "reactant_smiles": "C=CCN1CCC[C@@H](CN2C(*)(O)CC[C@H](C(=O)N2))[C@@H]1/C=C/C[Si](C)(C)C",
            "product_smiles": "C=CCN1CCC[C@H]2CN3[C@H](CCCC3=O)[C@H](C=C)[C@H]21",
            "notes": "Intramolecular cyclization forming a tetracyclic system with elimination of TMS and hydroxyl groups.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Mercury-catalyzed Cyclization",
            "reagents": "HG II",
            "reagent_smiles": "",
            "conditions": "DCM, 40 °C",
            "yield": "70%",
            "reactant_smiles": "C=CCN1C(=O)CC[C@H]2[C@@H]3[C@@H](C=C)[C@H]4CN5CCC[C@H]3[C@H]5[C@H]4C12",
            "product_smiles": "O=C1N2CCC[C@@H]3[C@H]4[C@@H](C=C)[C@H]5CN6CCC[C@H]4[C@H]6[C@H]5C12",
            "notes": "Intramolecular cyclization of N-allyl and vinyl groups to form a new 6-membered ring containing a double bond, leading to the Allomatrine scaffold.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Catalytic Hydrogenation",
            "reagents": "Pd/C, H2",
            "reagent_smiles": "",
            "conditions": "EtOH",
            "yield": "94%",
            "reactant_smiles": "O=C1N2CCC[C@H]3[C@H]4C=CCN5CC[C@@H](CN3C1)C[C@@H]54",
            "product_smiles": "O=C1N2CCC[C@H]3[C@H]4CCCN5CC[C@@H](CN3C1)C[C@@H]54",
            "notes": "Catalytic hydrogenation of the double bond in the polycyclic amine to yield allomatrine.",
            "substeps": []
        }
    ]
}