{
    "$schema": "../schema.json",
    "meta": {
        "id": "huperzine-a-sun-2012",
        "molecule_name": "Huperzine A",
        "class": "Natural Product",
        "author": "Sun",
        "year": 2012
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Asymmetric Ring Opening / Esterification",
            "reagents": "quinine, BnOH",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C1=C[C@@H]2[C@@H]3[C@H]([C@H]1O2)C(=O)OC3=O",
            "product_smiles": "C1=CC=C(C=C1)COC(=O)[C@@H]2[C@H]3C=C[C@@H]([C@@H]2C(=O)O)O3",
            "notes": "Asymmetric ring-opening of a cyclic anhydride with benzyl alcohol, catalyzed by quinine, to form a chiral monoester/monoacid.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Mixed Anhydride Formation (Acylation)",
            "reagents": "ClCO₂Et",
            "reagent_smiles": "CCOC(=O)Cl",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "O=C(O)[C@H]1[C@H](C(=O)OCC2=CC=CC=C2)C3=CCC(O3)[C@H]1",
            "product_smiles": "CCOC(=O)OC(=O)[C@H]1[C@H](C(=O)OCC2=CC=CC=C2)C3=CCC(O3)[C@H]1",
            "notes": "Carboxylic acid is converted to a mixed anhydride using ethyl chloroformate. The benzyl ester remains unchanged.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Reduction, Lactonization",
            "reagents": "NaBH4 then aq HCl",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CCOC(=O)OC(=O)[C@H]1[C@H]2C=C[C@H]([C@H]1C(=O)OCC3=CC=CC=C3)O2",
            "product_smiles": "O=C1OC[C@@H]2[C@@H]3C=C[C@@H]1O3",
            "notes": "Reduction of mixed anhydride and benzyl ester to form a cyclic lactone.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Hydrogenation",
            "reagents": "H₂, Pd/C",
            "reagent_smiles": "",
            "conditions": "EtOAc",
            "yield": "",
            "reactant_smiles": "C1=C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "product_smiles": "C1C[C@@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "notes": "Reduction of the internal alkene in the bicyclic ether-lactone system.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Alkylation / Silylation / Rearrangement",
            "reagents": "KHMDS, 18-crown-6, methallyl bromide",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C1C[C@H]2[C@@H]3[C@@H](COC3=O)[C@H]1O2",
            "product_smiles": "C=C(C)C[C@]12C=CC[C@H]([C@@H]2COC1=O)[OTMS]",
            "notes": "Alpha-alkylation of the lactone with methallyl bromide, accompanied by formation of an endocyclic double bond and silylation of a newly formed alcohol.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Deprotection",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "80%",
            "reactant_smiles": "CC(=C)C[C@]12C(=O)OC[C@H](O[TMS])[C@@H]1CCC=C2",
            "product_smiles": "CC(=C)C[C@]12C(=O)OC[C@H](O)[C@@H]1CCC=C2",
            "notes": "TMS ether deprotection to alcohol. Stated yield is for 2 steps.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Epoxidation",
            "reagents": "VO(OEt)3, TBHP, MS 4A",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "95%",
            "reactant_smiles": "CC(=C)C[C@@]12C=CC[C@@H](O)[C@H]1COC2=O",
            "product_smiles": "CC(=C)C[C@@]12[C@H](COC2=O)[C@@H](O)[C@@H]3O[C@@H]3C1",
            "notes": "Allylic alcohol epoxidation",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Swern oxidation",
            "reagents": "(COCl)2, DMSO, i-Pr₂NEt",
            "reagent_smiles": "",
            "conditions": "CH₂Cl₂",
            "yield": "95%",
            "reactant_smiles": "CC(=C)C[C@@]12[C@@H](COC(=O)C1)C[C@H](O)[C@H]3O[C@@H]23",
            "product_smiles": "CC(=C)C[C@@]12[C@@H](COC(=O)C1)C(=O)C=C[C@H]2O",
            "notes": "Swern oxidation of secondary alcohol, accompanied by epoxide opening and rearrangement to form an α,β-unsaturated ketone with a tertiary alcohol.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Acid-catalyzed intramolecular cyclization / rearrangement",
            "reagents": "PTSA",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "61%",
            "reactant_smiles": "C=C(C[C@]12[C@H](COC1=O)C(=O)C=C[C@H]2O)",
            "product_smiles": "O=C1C[C@@H]2[C@H]3C(=C[C@H]4[C@H](C(=O)O)OC(=O)[C@@]43)[C@](C)(C2)C1",
            "notes": "The reactant has 12 carbons and 4 oxygens (C12H14O4). The product, as depicted in the screenshot, has 10 carbons and 5 oxygens (C10H10O5). This implies a loss of 2 carbons and a gain of 1 oxygen, which is not consistent with acid-catalyzed rearrangement alone. The SMILES were generated to strictly match the visual representation in the screenshot.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Alcohol Protection (MOM Ether Formation)",
            "reagents": "MOMCl, i-Pr₂NEt, TBAI",
            "reagent_smiles": "",
            "conditions": "THF, reflux",
            "yield": "",
            "reactant_smiles": "C[C@H]1C=C2C[C@@H]3OC(=O)[C@@]4(O)[C@@H]1C(=O)C2C34",
            "product_smiles": "C[C@H]1C=C2C[C@@H]3OC(=O)[C@@]4(O[MOM])[C@@H]1C(=O)C2C34",
            "notes": "Protection of a tertiary alcohol (cyclic hemiacetal hydroxyl) as a methoxymethyl (MOM) ether.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Lactone Hydrolysis, Ketone Reduction, Thioether Formation",
            "reagents": "KOH, PhSH, MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "90%",
            "reactant_smiles": "[MOMO]C1C2C(=O)C3C(C2C(=O)OC1)C(C)C=C3",
            "product_smiles": "[MOMO]C1(C(=O)O)C2C=C(C)C3C(C2CS[Ph])C1C3",
            "notes": "Lactone opening and reduction of a ketone, followed by addition of thiophenol to form a phenylthioether.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Curtius rearrangement",
            "reagents": "DPPA, Et3N",
            "reagent_smiles": "",
            "conditions": "PhH, reflux",
            "yield": "",
            "reactant_smiles": "O=C1CC(CS[Ph])C2(C(=O)O)(OCH2OC)C(C=C(C)C2)C1",
            "product_smiles": "O=C1CC(CS[Ph])C2(N=C=O)(OCH2OC)C(C=C(C)C2)C1",
            "notes": "Conversion of a carboxylic acid to an isocyanate via Curtius rearrangement.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Isocyanate addition",
            "reagents": "MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "89%",
            "reactant_smiles": "COCOC1C2C=C(CC1(C(CSC3=CC=CC=C3)C(=O)C2)N=C=O)",
            "product_smiles": "CC1=CC2CC(=O)C(CSC3=CC=CC=C3)C(C1)(C2OCOC)NC(=O)OC",
            "notes": "Addition of methanol to an isocyanate to form a methyl carbamate. The reported yield of 89% is stated for '2 steps'.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Oxidation",
            "reagents": "m-CPBA",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "",
            "reactant_smiles": "C[C@H]1C=C2C[C@@H]3C(=O)C([C@H](CS[Ph]))[C@H](NC(=O)OC)[C@@]2(C[C@H]13)[C@H](O[MOMO])",
            "product_smiles": "C[C@H]1C=C2C[C@@H]3C(=O)C([C@H](CS(=O)[Ph]))[C@H](NC(=O)OC)[C@@]2(C[C@H]13)[C@H](O[MOMO])",
            "notes": "Oxidation of a phenyl thioether to a phenyl sulfoxide using m-CPBA.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Elimination (Sulfoxide)",
            "reagents": "K2CO3",
            "reagent_smiles": "",
            "conditions": "toluene, reflux",
            "yield": "95% (2 steps)",
            "reactant_smiles": "C[C@H]1C=C[C@@H]2[C@H]3C[C@@H](C(=O)[C@H](CS(=O)c4ccccc4)[C@@H]2N(C(=O)OC)[C@H](COCO)[C@@H]31)",
            "product_smiles": "C[C@H]1C=C[C@@H]2[C@H]3C[C@@H](C(=O)C(=C)[C@@H]2N(C(=O)OC)[C@H](COCO)[C@@H]31)",
            "notes": "Sulfoxide elimination to form an exocyclic methylene group.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Michael reaction",
            "reagents": "KOT-Bu",
            "reagent_smiles": "CN(C)C(=O)CS(=O)c1ccccc1",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CC1=CC2C[C@]3(C(=O)C(=C)[C@@H]2CC3)N[C@H](OC(=O)OC)OCOC1",
            "product_smiles": "CC1=CC2C[C@]3(C(=O)[C@H]([C@@H](C(=O)N(C)C)[S@@](=O)c4ccccc4)[C@@H]2CC3)N[C@H](OC(=O)OC)OCOC1",
            "notes": "Michael addition of N,N-dimethyl-2-(phenylsulfinyl)acetamide to an exocyclic alkene, forming a new stereocenter and a chiral sulfoxide.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Sulfoxide-mediated cyclization / Lactone formation",
            "reagents": "toluene",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "65% (2 steps)",
            "reactant_smiles": "CC1=CC2CC(=O)C(C(C(=O)N(C)C)S(=O)c3ccccc3)C(C1)(C2OCOC)NC(=O)OC",
            "product_smiles": "CC1=CC2CC3=C(C=CC(=O)O3)C(C1)(C2OCOC)NC(=O)OC",
            "notes": "Intramolecular cyclization involving the beta-ketosulfoxide and amide, leading to the formation of a fused alpha,beta-unsaturated lactone (pyrone ring). The N,N-dimethylamide and phenylsulfinyl groups are eliminated.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Lactone to Lactam conversion (Ammonolysis)",
            "reagents": "aq NH3",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "",
            "reactant_smiles": "C[C@]12C=C3CC1C(=O)OC=C3[C@H]([MOMO])[NHCO2Me]C2",
            "product_smiles": "C[C@]12C=C3CC1C(=O)NC=C3[C@H]([MOMO])[NHCO2Me]C2",
            "notes": "Conversion of a cyclic ester (lactone) to a cyclic amide (lactam) using aqueous ammonia under reflux conditions.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "O-Methylation",
            "reagents": "MeI, Ag2CO3, CHCl3",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "52%",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=O)N3)C(C1)(C2O[MOMO])NC(=O)OC",
            "product_smiles": "CC1=CC2CC3=C(C=C(OC)N3)C(C1)(C2O[MOMO])NC(=O)OC",
            "notes": "O-methylation of a pyridone ring to a methoxypyridine using MeI and silver carbonate.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "MOM ether deprotection",
            "reagents": "TMSCl, NaI",
            "reagent_smiles": "CC#N.Cl[Si](C)(C)C.[Na+].[I-]",
            "conditions": "MeCN",
            "yield": "",
            "reactant_smiles": "COC(=O)NC1(OCOC)C2CC=C(C)C2C3=C1C=C(OC)N=C3",
            "product_smiles": "COC(=O)NC1(O)C2CC=C(C)C2C3=C1C=C(OC)N=C3",
            "notes": "Deprotection of a methoxymethyl (MOM) ether to a hydroxyl group using TMSCl and NaI.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Swern oxidation",
            "reagents": "(COCl)2, DMSO, i-Pr2NEt",
            "reagent_smiles": "",
            "conditions": "CH2Cl2",
            "yield": "95%",
            "reactant_smiles": "CC1=CC2CC3=C(C=CC(=N3)OC)C(C1)(C2O)NC(=O)OC",
            "product_smiles": "CC1=CC2CC3=C(C=CC(=N3)OC)C(C1)(C2=O)NC(=O)OC",
            "notes": "Oxidation of a secondary alcohol to a ketone.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Nucleophilic Addition",
            "reagents": "CH2CHLi",
            "reagent_smiles": "C=C[Li]",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "CC1=C[C@]23[C@@H]4[C@H]1C(=O)[C@@]2(NC(=O)OC)C5=C4C=CN=C5OC3",
            "product_smiles": "C=C[C@@]1(O)[C@@]2(NC(=O)OC)C3=C4C=CN=C5OC[C@]3(C2)[C@H]4[C@@H]5C=C1",
            "notes": "Nucleophilic addition of vinyllithium to a ketone, forming a tertiary alcohol. The stereochemistry at the newly formed chiral center is defined: the vinyl group is wedged and the hydroxyl group is dashed.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Chlorination with Rearrangement",
            "reagents": "SOCl2, CH2Cl2",
            "reagent_smiles": "ClS(=O)Cl.ClCCl",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=CC=NC2=C1C[C@H]3C4(O)(C=C)[C@@H](NC(=O)OC)C5=C(C(C)=C3)C42",
            "product_smiles": "COC1=CC=NC2=C1C[C@H]3C4(C/C=C/Cl)[C@@H](NC(=O)OC)C5=C(C(C)=C3)C42",
            "notes": "Conversion of an allylic alcohol to an allylic chloride with concurrent double bond rearrangement, likely via an SNi' or SN2' mechanism, using thionyl chloride in dichloromethane.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Reductive dehalogenation / Alkylation",
            "reagents": "LiBHEt3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "46% (3 steps)",
            "reactant_smiles": "CC1=CC/2CC3=C(C=CC(=N3)OC)C(C1)(\\C2=C\\CCl)NC(=O)OC",
            "product_smiles": "C/C=C\\C1C2C=C(C)CC1(C3=C(C2)N=C(C=C3)OC)NC(=O)OC",
            "notes": "Reductive replacement of allylic -CH2Cl group with a -CH3 group, maintaining E-stereochemistry of the alkene.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Deprotection and lactamization",
            "reagents": "TMSI, CHCl3, MeOH",
            "reagent_smiles": "",
            "conditions": "reflux",
            "yield": "",
            "reactant_smiles": "C[C@H]1C=C(C)C2[C@H]1C(=C(OC)C=N3)[C@@]3(NC(=O)OC)CC=C2",
            "product_smiles": "C[C@H]1C(=CC(=O)N1)C2C3=CC(C)C=C3[C@]2(N)C",
            "notes": "Formation of (-)-Huperzine A via deprotection of a methyl carbamate and methyl enol ether, followed by cyclization to form a lactam.",
            "substeps": []
        }
    ]
}