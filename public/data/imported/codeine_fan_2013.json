{
    "$schema": "../schema.json",
    "meta": {
        "id": "codeine-fan-2013",
        "molecule_name": "Codeine",
        "class": "Natural Product",
        "author": "Fan",
        "year": 2013
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Ozonolysis (reductive workup)",
            "reagents": "O₃, NaBH₄",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C=CCC1=CC(=C(C=C1)OC)O",
            "product_smiles": "COC1=C(C=C(C=C1)CCO)O",
            "notes": "Ozonolysis of terminal alkene followed by reduction to primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Protection",
            "reagents": "TBSCl, BuLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=C(C=C(C=C1)CCO)O",
            "product_smiles": "COC1=C(C=C(C=C1)CC[OTBS])O",
            "notes": "Selective protection of the primary alcohol as a TBS ether.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Williamson Ether Synthesis",
            "reagents": "K2CO3",
            "reagent_smiles": "COC(=O)C(Br)C(=O)OC",
            "conditions": "acetone",
            "yield": "",
            "reactant_smiles": "COc1ccc(CC[OTBS])cc1O",
            "product_smiles": "COc1ccc(CC[OTBS])cc1OC(C(=O)OC)C(=O)OC",
            "notes": "O-alkylation of phenol with dimethyl 2-bromomalonate.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Macrocyclization / Double Alkylation",
            "reagents": "NaH, DMF",
            "reagent_smiles": "ClCC1=CC=C(C=C1)O[Si](C)(C)(C(C)(C)C)",
            "conditions": "0 °C to 60 °C",
            "yield": "58% (2 steps)",
            "reactant_smiles": "COC1=C(OC(C(=O)OC)C(=O)OC)C=C(CCO[Si](C)(C)(C(C)(C)C))C=C1",
            "product_smiles": "COC1=C(O[CH2]C(C(=O)OC)(C(=O)OC)C[CH2]C2=CC=C(C=C2)O[Si](C)(C)(C(C)(C)C))C=C(CCO[Si](C)(C)(C(C)(C)C))C=C1",
            "notes": "Reactant undergoes deprotonation and subsequent cyclization/double alkylation with 4-TBSO-BnCl to form an 8-membered macrocyclic diether.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Decarboxylation",
            "reagents": "LiBr",
            "reagent_smiles": "",
            "conditions": "DMSO, 100 °C",
            "yield": "",
            "reactant_smiles": "[OTBS]CCCc1ccc(c(OC)c1OC(C(=O)OC)(C(=O)OC)CC2=CC=C(C=C2)[OTBS])",
            "product_smiles": "[OTBS]CCCc1ccc(c(OC)c1OC(C(=O)OC)CC2=CC=C(C=C2)[OTBS])",
            "notes": "Decarboxylation of a geminal diester to a monoester. The reaction is likely a modified Krapcho decarboxylation.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4, Et2O",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "",
            "reactant_smiles": "COC(=O)C(CC1=CC=C(C=C1)[OTBS])OC2=C(OC)C=CC(CC[OTBS])=C2",
            "product_smiles": "HOCC(CC1=CC=C(C=C1)[OTBS])OC2=C(OC)C=CC(CC[OTBS])=C2",
            "notes": "Methyl ester reduced to primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Deprotection, Oxidation",
            "reagents": "TBAF, HOAc",
            "reagent_smiles": "",
            "conditions": "THF",
            "yield": "55%",
            "reactant_smiles": "Cc1ccc(O[TBS])cc1CC(CO)Oc2cc(CCC[TBS])c(OC)cc2",
            "product_smiles": "O=C1C=CC(CC(CO)Oc2cc(CCC[TBS])c(OC)cc2)C=C1",
            "notes": "Transformation occurs over 3 steps.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Oxidative Cyclization / Intramolecular Rearrangement",
            "reagents": "PhI(OAc)2, NaHCO3",
            "reagent_smiles": "",
            "conditions": "HFIP",
            "yield": "85%",
            "reactant_smiles": "[OTBS]CCC1=CC=C(OC)C2=C1OC(CO)CC2C3=CC(=O)C=CC3",
            "product_smiles": "COc1ccc(CC[OTBS])c2c1CC(=O)C=C3C2CC(CO)O3",
            "notes": "Intramolecular oxidative cyclization/rearrangement converting a spirocyclohexadienone into a fused polycyclic system.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Oxidation",
            "reagents": "PCC, 3 Å Ms",
            "reagent_smiles": "",
            "conditions": "Benzene, reflux",
            "yield": "38%",
            "reactant_smiles": "[OTBS]CC1=C2C(=C(C=C1)OC)OC(CC32C=CC(=O)C=C3)CO",
            "product_smiles": "[OTBS]CC1=C2C(=C(C=C1)OC)OC(=O)CC32C=CC(=O)C=C3",
            "notes": "Oxidation of a primary alcohol to a lactone.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Rearrangement, Cyclization",
            "reagents": "MeOH, NaN3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COc1cc(CC[OTBS])c2c1OC(=O)CC23C=CC(=O)C=C3",
            "product_smiles": "COc1cc(CC[OTBS])c2c1[C@@]3(C=CC(=O)C[C@@H]3O2)CC(=O)OC",
            "notes": "Intramolecular cyclization and rearrangement of a spiro-dienone lactone in the presence of methanol and sodium azide. The lactone ring opens and then closes to form a dihydrofuran, while the cyclohexadienone undergoes rearrangement to a cyclohexenone, and a methyl ester is formed. Two new chiral centers are formed with trans stereochemistry.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Ketone Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "85%",
            "reactant_smiles": "COC1=C(CCC[OTBS])C=CC2=C1[C@@]3(C(=O)C=CC[C@@H]3O2)CC(=O)OC",
            "product_smiles": "COC1=C(CCC[OTBS])C=CC2=C1[C@@]3(C=C[C@@H](C[C@@H]3O2)O)CC(=O)OC",
            "notes": "Stereoselective reduction of a cyclohexadienone ketone to a cyclohexenol alcohol.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3C(O)C=CC4[C@@H]5[C@@]24[C@@](CC(=O)OC)(C[OTBS])C[C@H]35",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C(OS(=O)(=O)C)C=CC4[C@@H]5[C@@]24[C@@](CC(=O)OC)(C[OTBS])C[C@H]35",
            "notes": "Alcohol group is converted to a mesylate (OMs) group.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic Substitution",
            "reagents": "Cs2CO3, nBu4NI",
            "reagent_smiles": "Sc1ccccc1",
            "conditions": "DMF, 0 °C to rt",
            "yield": "91% (2 steps)",
            "reactant_smiles": "[OTBS]CCC1=CC=C(C2=C1[C@@]3(C=CC(C[C@@H]3O2)OS(=O)(=O)C)CC(=O)OC)OC",
            "product_smiles": "[OTBS]CCC1=CC=C(C2=C1[C@@]3(C=C[C@@H](C[C@@H]3O2)SCC4=CC=CC=C4)CC(=O)OC)OC",
            "notes": "Substitution of allylic mesylate with thiophenol (SPh) via an inversion of configuration.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Reduction (Ester to Primary Alcohol)",
            "reagents": "DIBAL-H",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "[OTBS]CCO[C@]1(C(=O)OC)C2=CC(OC)=CC=C2C3=C1O[C@@H]4C[C@H]([SPh])C=C[C@@H]43",
            "product_smiles": "[OTBS]CCO[C@]1(CO)C2=CC(OC)=CC=C2C3=C1O[C@@H]4C[C@H]([SPh])C=C[C@@H]43",
            "notes": "The methyl ester group (MeOOC-) is reduced to a primary alcohol (-CH2OH) by DIBAL-H. The TBSO protecting group, methoxy group, phenylthio group, and all stereocenters remain unchanged.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "84% (2 steps)",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@@H]4C=C[C@@H](S[Ph])CC[C@@]4(C(CO[TBS])CO)C32",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@@H]4C=C[C@@H](S[Ph])CC[C@@]4(C(CO[TBS])C=O)C32",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane (DMP).",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Reductive amination",
            "reagents": "MeNH2, NaBH4, MeOH",
            "reagent_smiles": "",
            "conditions": "60 °C to rt",
            "yield": "",
            "reactant_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@]3(CC=O)C=C[C@H](C[C@@H]3O2)S[Ph])OC",
            "product_smiles": "[TBS]OCCC1=CC=C(C2=C1[C@]3(CCNC)C=C[C@H](C[C@@H]3O2)S[Ph])OC",
            "notes": "Reductive amination of an aldehyde to an N-methyl secondary amine.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "N-Boc Protection",
            "reagents": "(Boc)₂O, NEt₃",
            "reagent_smiles": "CC(C)(C)OC(=O)OC(=O)OC(C)(C)C.CCN(CC)CC.CN(C)C=O",
            "conditions": "DMF, rt",
            "yield": "76%",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]([SPh])C=CC34[C@@H]5[C@H]2[C@H](CCO[OTBS])[C@H](CCN(C)C)C54",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]([SPh])C=CC34[C@@H]5[C@H]2[C@H](CCO[OTBS])[C@H](CCN([Boc])C)C54",
            "notes": "N-Boc protection of a secondary methylamine.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Desilylation",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3C=C[C@H](S[Ph])CC4(C3)[C@@H](CO[TBS])CN(C)[Boc]C4",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C=C[C@H](S[Ph])CC4(C3)[C@@H](CO)CN(C)[Boc]C4",
            "notes": "Deprotection of a tert-butyldimethylsilyl (TBS) ether to a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "70% (2 steps)",
            "reactant_smiles": "[Boc]N(C)CC[C@]1(CO)[C@H]2CCC=C[C@H]([SPh])[C@@H]2[C@]34c5ccc(OC)c(c5OC[C@@H]13)C4",
            "product_smiles": "[Boc]N(C)CC[C@]1(C=O)[C@H]2CCC=C[C@H]([SPh])[C@@H]2[C@]34c5ccc(OC)c(c5OC[C@@H]13)C4",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane (DMP).",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reductive Cleavage, Reduction, Double Bond Migration",
            "reagents": "SmI2, HMPA",
            "reagent_smiles": "",
            "conditions": "THF, -40 °C to rt",
            "yield": "68%",
            "reactant_smiles": "[Boc]N(C)[C@@H]1C[C@@H]([CH]=O)C[C@@]23[C@H](O[C@H](C=C[C@@H](S[C]4=CC=CC=C4)C[C@H]23)C5=C(OC)C=CC=C5)C1",
            "product_smiles": "[Boc]N(C)[C@@H]1C[C@H](O)C[C@@]23[C@H](O[C@H](C=CC[C@H]23)C4=C(OC)C=CC=C4)C1",
            "notes": "Samarium(II) iodide-mediated reductive cleavage of the thiophenyl group with concomitant reduction of the aldehyde to a hydroxyl group and double bond migration.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Mesylation / Esterification",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N(C)CC[C@H]12[C@@H]3C=CC[C@@H]1OC4=C2C(=CC=C4OC)C[C@H]3O",
            "product_smiles": "[Boc]N(C)CC[C@H]12[C@@H]3C=CC[C@@H]1OC4=C2C(=CC=C4OC)C[C@H]3OS(=O)(=O)C",
            "notes": "Formation of a mesylate ester from a secondary alcohol.",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Elimination",
            "reagents": "DBU",
            "reagent_smiles": "",
            "conditions": "PhMe, reflux",
            "yield": "94%",
            "reactant_smiles": "CN(C(=O)OC(C)(C)C)CC1[C@@]23[C@@H]4[C@@H](OS(C)(=O)=O)C=C[C@H]5[C@@H]2[C@H](C1OC6=C3C(=CC=C6OC)C=C4)",
            "product_smiles": "CN(C(=O)OC(C)(C)C)CC1[C@@]23[C@@H]4C=C[C@H]5[C@@H]2[C@H](C1OC6=C3C(=CC=C6OC)C=C4)",
            "notes": "Elimination of a mesylate and subsequent double bond migration to form a thebaine derivative.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Oxidation",
            "reagents": "SeO2, tBuO2H",
            "reagent_smiles": "",
            "conditions": "dioxane, 50 °C",
            "yield": "58%",
            "reactant_smiles": "[Boc]N(C)[C@H]1C[C@H]2C=C[C@H]3[C@H]2OC4=C(OC)C=CC(=C4)[C@@H]3C1",
            "product_smiles": "[Boc]N(C)[C@H]1C[C@@H](O)2C=C[C@H]3[C@H]2OC4=C(OC)C=CC(=C4)[C@@H]3C1",
            "notes": "Oxidation of an allylic methylene (CH2) to a secondary alcohol (CH-OH) at C8 with beta stereochemistry.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Oxidation",
            "reagents": "IBX",
            "reagent_smiles": "",
            "conditions": "DMF, rt",
            "yield": "92%",
            "reactant_smiles": "[Boc]N(C)C1CC=C2[C@H]3c4c(OC)ccc(c4OC[C@@H]3[C@@H](O)C=C2)C1",
            "product_smiles": "[Boc]N(C)C1CC=C2[C@H]3c4c(OC)ccc(c4OC[C@@H]3C(=O)C=C2)C1",
            "notes": "Oxidation of an allylic secondary alcohol to a ketone.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Reduction",
            "reagents": "NaBH4, CeCl3",
            "reagent_smiles": "",
            "conditions": "MeOH, 0 °C",
            "yield": "89%",
            "reactant_smiles": "C[N]([Boc])C1CC2=C(OC)C=CC3=C2[C@@H]1[C@H]4[C@H]3O[C@@H]5[C@H]4C(=O)C=C5",
            "product_smiles": "C[N]([Boc])C1CC2=C(OC)C=CC3=C2[C@@H]1[C@H]4[C@H]3O[C@@H]5[C@H]4[C@H](O)C=C5",
            "notes": "Luche reduction of an alpha,beta-unsaturated ketone to an alpha-alcohol, preserving the double bond.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "Deprotection (Boc removal)",
            "reagents": "TFA, DCM",
            "reagent_smiles": "",
            "conditions": "0 °C to rt",
            "yield": "88%",
            "reactant_smiles": "COC1=C2[C@]34CC5N(C)[Boc][C@]35[C@@]2([C@@H]1O4)C=C[C@H](O)C=C",
            "product_smiles": "COC1=C2[C@]34CC5[NH]C[C@]35[C@@]2([C@@H]1O4)C=C[C@H](O)C=C",
            "notes": "Deprotection of N-Boc-N-methyl group on the morphinan nitrogen to yield a secondary amine (norcodeine).",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Aminomercuration",
            "reagents": "Hg(OAc)2, Et3N",
            "reagent_smiles": "CC(=O)O[Hg]OC(=O)C.CCN(CC)CC",
            "conditions": "THF, rt",
            "yield": "",
            "reactant_smiles": "CN1CCC23C4C(=C(C=CC4)OC)OC5C26C=C[C@@H](O)[C@H]5[C@H]1C[C@H]36",
            "product_smiles": "CN1C[C@@H](O)[C@@H]2[C@@H]([Hg]OC(C)=O)[C@H]3[C@H](OC4=C5C=CC(OC)=C4[C@H]3C6)[C@H]2C[C@H]16",
            "notes": "Intramolecular aminomercuration of the C7-C8 double bond of codeine. The N-methyl group cyclizes to C8 (beta-configuration), and the HgOAc group adds to C7 (alpha-configuration). The C16-N bond is broken, and C16 now forms a bridge between C14 and C15.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Reductive Demercuration / Elimination",
            "reagents": "",
            "reagent_smiles": "[Li][AlH4]",
            "conditions": "THF, rt",
            "yield": "18% (2 steps)",
            "reactant_smiles": "CN1CCC[C@]23c4c5ccc(OC)c4O[C@H]2[C@@H](O)C[C@@H]([Hg]OC(C)=O)[C@@H]3C[C@H]15",
            "product_smiles": "CN1CCC[C@]23c4c5ccc(OC)c4O[C@H]2[C@@H](O)C=C[C@@H]3C[C@H]15",
            "notes": "Reductive demercuration of a codeine derivative to form codeine, via elimination and double bond formation.",
            "substeps": []
        }
    ]
}