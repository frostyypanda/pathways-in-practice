{
    "$schema": "../schema.json",
    "meta": {
        "id": "codeine-zhang-2015",
        "molecule_name": "Codeine",
        "class": "Natural Product",
        "author": "Zhang",
        "year": 2015
    },
    "sequence": [
        {
            "step_id": "1",
            "reaction_type": "Reductive Ozonolysis",
            "reagents": "O₃, NaBH₄",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "C=CCC1=CC(=C(C=C1)OC)O",
            "product_smiles": "COC1=C(C=C(C=C1)CCO)O",
            "notes": "Cleavage of terminal alkene with subsequent reduction to a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "2",
            "reaction_type": "Alcohol Protection (Silyl Ether Formation)",
            "reagents": "TBSCl, BuLi",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "COC1=C(C=C(C=C1)CCO)O",
            "product_smiles": "COC1=C(C=C(C=C1)CCO[TBS])O",
            "notes": "Selective protection of the primary alcohol as a tert-butyldimethylsilyl (TBS) ether.",
            "substeps": []
        },
        {
            "step_id": "3",
            "reaction_type": "Williamson Ether Synthesis",
            "reagents": "K2CO3",
            "reagent_smiles": "BrC(C(=O)OC)C(=O)OC",
            "conditions": "acetone",
            "yield": "",
            "reactant_smiles": "COc1ccc(CCO[TBS])c(O)c1",
            "product_smiles": "COc1ccc(CCO[TBS])c(OC(C(=O)OC)C(=O)OC)c1",
            "notes": "Phenol reacts with a bromomalonate derivative via Williamson ether synthesis, forming an ether linkage. The TBS protecting group remains unchanged.",
            "substeps": []
        },
        {
            "step_id": "4",
            "reaction_type": "Intramolecular Cyclization / Spiro-Acetal Formation",
            "reagents": "NaH",
            "reagent_smiles": "ClCc1ccc([OTBS])cc1.CN(C)C=O",
            "conditions": "DMF, 0 °C to 60 °C",
            "yield": "58% (2 steps)",
            "reactant_smiles": "COC1=C(O[CH](C(=O)OC)C(=O)OC)C=CC(CC[OTBS])=C1",
            "product_smiles": "COC1=C2OC(C(=O)OC)(C(=O)OC)(CC3=CC=C([OTBS])C=C3)CC2=CC(CC[OTBS])=C1",
            "notes": "A complex cyclization reaction where the carbon bearing two methyl esters is alkylated by 4-TBSO-BnCl, followed by an intramolecular cyclization to form a six-membered cyclic ether (spiro-acetal) fused to the original aromatic ring. The carbon of the malonate becomes a spiro center.",
            "substeps": []
        },
        {
            "step_id": "5",
            "reaction_type": "Decarboxylation",
            "reagents": "LiBr",
            "reagent_smiles": "",
            "conditions": "DMSO, 100 °C",
            "yield": "",
            "reactant_smiles": "COC(=O)C(C(=O)OC)(Cc1ccc(O[TBS])cc1)OC2=CC(OC)=C(CCO[TBS])C=C2",
            "product_smiles": "COC(=O)C(Cc1ccc(O[TBS])cc1)OC2=CC(OC)=C(CCO[TBS])C=C2",
            "notes": "Decarboxylation of a geminal diester.",
            "substeps": []
        },
        {
            "step_id": "6",
            "reaction_type": "Reduction",
            "reagents": "LiAlH4, Et2O",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "",
            "reactant_smiles": "COC1=C(OC(C(=O)OC)CC2=CC=C([OTBS])C=C2)C=C(CCC[OTBS])C=C1",
            "product_smiles": "COC1=C(OC(CO)CC2=CC=C([OTBS])C=C2)C=C(CCC[OTBS])C=C1",
            "notes": "Ester reduction to a primary alcohol using lithium aluminum hydride.",
            "substeps": []
        },
        {
            "step_id": "7",
            "reaction_type": "Selective deprotection, oxidation, and rearrangement",
            "reagents": "TBAF, HOAc, THF",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "55% (over 3 steps)",
            "reactant_smiles": "c1(OC(CO)Cc2ccc(O[Si](C)(C)C(C)(C)C)cc2)c(OC)ccc(CC[Si](C)(C)C(C)(C)C)c1",
            "product_smiles": "CC(C)(C)[Si](C)(C)OCCc1c(OC)c(OC(CO)CC2C=CC(=O)C=C2)ccc1",
            "notes": "The reaction involves selective deprotection of the para-OTBS group (on the right phenyl ring), followed by its oxidation to a cyclohexadienone. Concurrently, the other phenyl ring undergoes an intramolecular rearrangement of its substitution pattern, retaining the OTBS group.",
            "substeps": []
        },
        {
            "step_id": "8",
            "reaction_type": "Oxidative Spirocyclization",
            "reagents": "PhI(OAc)2, NaHCO3",
            "reagent_smiles": "",
            "conditions": "HFIP",
            "yield": "85%",
            "reactant_smiles": "COC1=CC(CC[OTBS])=C(C=C1)OCC(CO)CC2=CCC(=O)C=C2",
            "product_smiles": "COC1=CC(CC[OTBS])=C(C=C1)OCC(CO)C23C=CC(=O)C=C2C3",
            "notes": "Intramolecular oxidative cyclization to form a spiro-cyclohexadienone.",
            "substeps": []
        },
        {
            "step_id": "9",
            "reaction_type": "Oxidation/Lactonization",
            "reagents": "PCC, 3 Å Ms",
            "reagent_smiles": "",
            "conditions": "Benzene, reflux",
            "yield": "38%",
            "reactant_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(CC32C=CC(=O)C=C3)CO",
            "product_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(=O)CC32C=CC(=O)C=C3",
            "notes": "Oxidation of a primary alcohol to a lactone using PCC.",
            "substeps": []
        },
        {
            "step_id": "10",
            "reaction_type": "Rearrangement, Ring Formation, Esterification",
            "reagents": "MeOH, NaN3",
            "reagent_smiles": "",
            "conditions": "",
            "yield": "",
            "reactant_smiles": "[OTBS]CCC1=C2C(=C(C=C1)OC)OC(=O)CC32C=CC(=O)C=C3",
            "product_smiles": "[OTBS]CCC1=CC=C(C2=C1[C@@]3(C=CC(=O)C[C@@H]3O2)CC(=O)OC)OC",
            "notes": "Intramolecular rearrangement and ring formation reaction, including the opening of a lactone to form a methyl ester and rearrangement of a cyclohexadienone to a cyclohexenone with new stereocenters. The azide acts as a nucleophile or catalyst in a complex rearrangement.",
            "substeps": []
        },
        {
            "step_id": "11",
            "reaction_type": "Reduction",
            "reagents": "NaBH4",
            "reagent_smiles": "",
            "conditions": "0 °C",
            "yield": "85%",
            "reactant_smiles": "COC1=CC=C(CC[OTBS])C2=C1OC[C@@H]3[C@@]2(CC(=O)OC)C=CC(=O)C3",
            "product_smiles": "COC1=CC=C(CC[OTBS])C2=C1OC[C@@H]3[C@@]2(CC(=O)OC)CC[C@H](O)C3",
            "notes": "Reduction of ketone and alkene to secondary alcohol and alkane, respectively, using sodium borohydride. The spiro ester and OMe groups are unaffected.",
            "substeps": []
        },
        {
            "step_id": "12",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "[OMe]c1cc2c(cc1C[C@](C)(C(=O)OC)C[OTBS])O[C@H]3CC(O)C=CC[C@@]23",
            "product_smiles": "[OMe]c1cc2c(cc1C[C@](C)(C(=O)OC)C[OTBS])O[C@H]3CC(OS(=O)(=O)C)C=CC[C@@]23",
            "notes": "Mesylation of a secondary alcohol to form a mesylate, maintaining stereochemistry at other chiral centers and unspecified stereochemistry at the reaction site.",
            "substeps": []
        },
        {
            "step_id": "13",
            "reaction_type": "Nucleophilic Substitution",
            "reagents": "Cs2CO3, nBu4NI",
            "reagent_smiles": "Sc1ccccc1",
            "conditions": "DMF, 0 °C to rt",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)OC[C@@H]3CCC(OS(=O)(=O)C)C=C3[C@@]2(C(=O)OC)CO[TBS]",
            "product_smiles": "COc1ccc2c(c1)OC[C@@H]3CCC(Sc4ccccc4)C=C3[C@@]2(C(=O)OC)CO[TBS]",
            "notes": "Nucleophilic substitution of a mesylate (OMs) with benzenethiol (PhSH) to form a phenyl thioether (SPh). The yield of 91% is reported over 2 steps.",
            "substeps": []
        },
        {
            "step_id": "14",
            "reaction_type": "Reduction",
            "reagents": "DIBAL-H",
            "reagent_smiles": "",
            "conditions": "DCM, -78 to 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc(C[C@@](C(=O)OC)(C)C[OTBS])c2c1O[C@@H]3C[C@H]([SPh])C=C[C@]32",
            "product_smiles": "COc1ccc(C[C@@](CO)(C)C[OTBS])c2c1O[C@@H]3C[C@H]([SPh])C=C[C@]32",
            "notes": "Ester reduction to primary alcohol using DIBAL-H.",
            "substeps": []
        },
        {
            "step_id": "15",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "84% (2 steps)",
            "reactant_smiles": "COc1ccc2c(c1)O[C@H]3C[C@H]4CC=C[C@H](S[Ph])C[C@]4(CO)(CO[TBS])[C@@]32",
            "product_smiles": "COc1ccc2c(c1)O[C@H]3C[C@H]4CC=C[C@H](S[Ph])C[C@]4(C(=O)H)(CO[TBS])[C@@]32",
            "notes": "Oxidation of a primary alcohol to an aldehyde.",
            "substeps": []
        },
        {
            "step_id": "16",
            "reaction_type": "Reductive Amination",
            "reagents": "MeNH2, NaBH4",
            "reagent_smiles": "",
            "conditions": "MeOH, 60 °C to rt",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]4C=C[C@H](SCC5=CC=CC=C5)[C@@H]4C3(CC=O)CC[OTBS]",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3C[C@H]4C=C[C@H](SCC5=CC=CC=C5)[C@@H]4C3(CCNC)CC[OTBS]",
            "notes": "Aldehyde converted to N-methylamine via reductive amination using methylamine and sodium borohydride.",
            "substeps": []
        },
        {
            "step_id": "17",
            "reaction_type": "Amine protection",
            "reagents": "NEt3",
            "reagent_smiles": "O=C(OC(C)(C)C)OC(=O)OC(C)(C)C",
            "conditions": "DMF, rt",
            "yield": "76% (2 steps)",
            "reactant_smiles": "COc1ccc2c(c1)O[C@@H]3[C@H]4CC=C[C@H](SC5=CC=CC=C5)[C@H]4[C@@]3(CC[C@H](CO[TBS])[NH]C)C2",
            "product_smiles": "COc1ccc2c(c1)O[C@@H]3[C@H]4CC=C[C@H](SC5=CC=CC=C5)[C@H]4[C@@]3(CC[C@H](CO[TBS])[N](C)[Boc])C2",
            "notes": "N-Boc protection of a secondary N-methylamine.",
            "substeps": []
        },
        {
            "step_id": "18",
            "reaction_type": "Deprotection (Silyl Ether Cleavage)",
            "reagents": "TBAF",
            "reagent_smiles": "",
            "conditions": "THF, 0 °C",
            "yield": "",
            "reactant_smiles": "COc1ccc2c(c1)[C@]34[C@@H](C=C[C@H](C[C@@H]4O2)S[Ph])C(CO[TBS])CC[N](C)[Boc]3",
            "product_smiles": "COc1ccc2c(c1)[C@]34[C@@H](C=C[C@H](C[C@@H]4O2)S[Ph])C(CO)CC[N](C)[Boc]3",
            "notes": "Cleavage of the TBS ether protecting group to form a primary alcohol.",
            "substeps": []
        },
        {
            "step_id": "19",
            "reaction_type": "Oxidation",
            "reagents": "DMP",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "70%",
            "reactant_smiles": "COc1ccc2c3c1O[C@H]4[C@]5([C@]6(C=C[C@@H]([C@@H](S(c7ccccc7)))C[C@H]6[C@H]43)C(CO)CCN(C)C(=O)OC(C)(C)C)[C@@H]25",
            "product_smiles": "COc1ccc2c3c1O[C@H]4[C@]5([C@]6(C=C[C@@H]([C@@H](S(c7ccccc7)))C[C@H]6[C@H]43)C(C=O)CCN(C)C(=O)OC(C)(C)C)[C@@H]25",
            "notes": "Oxidation of a primary alcohol to an aldehyde using Dess-Martin Periodinane.",
            "substeps": []
        },
        {
            "step_id": "20",
            "reaction_type": "Reductive Deprotection / Reduction",
            "reagents": "SmI2, HMPA",
            "reagent_smiles": "",
            "conditions": "THF, -40 °C to rt",
            "yield": "68%",
            "reactant_smiles": "CN([Boc])C1CC(=O)[C@H]2[C@H]3c4c(OC)ccc5c4[C@]3(C[C@@H]2[C@@H](SC6=CC=CC=C6)C=C1)O5",
            "product_smiles": "CN([Boc])C1CC[C@H](O)[C@H]2[C@H]3c4c(OC)ccc5c4[C@]3(C[C@@H]2C=C1)O5",
            "notes": "Reductive removal of a thiophenyl group and reduction of a ketone to a secondary alcohol.",
            "substeps": []
        },
        {
            "step_id": "21",
            "reaction_type": "Mesylation",
            "reagents": "MsCl, Et3N",
            "reagent_smiles": "CS(=O)(=O)Cl.CCN(CC)CC",
            "conditions": "DCM, 0 °C",
            "yield": "",
            "reactant_smiles": "[Boc]N(C)C1CC23C4C=CC[C@H]2[C@H](O)C[C@@]5OC6=C([OMe])C=CC(=C6C3)[C@@H]15",
            "product_smiles": "[Boc]N(C)C1CC23C4C=CC[C@H]2[C@H](OS(=O)(=O)C)C[C@@]5OC6=C([OMe])C=CC(=C6C3)[C@@H]15",
            "notes": "An alcohol is converted to a mesylate using methanesulfonyl chloride (MsCl) and triethylamine (Et3N).",
            "substeps": []
        },
        {
            "step_id": "22",
            "reaction_type": "Elimination / Diene Formation",
            "reagents": "DBU",
            "reagent_smiles": "",
            "conditions": "PhMe, reflux",
            "yield": "94% (2 steps)",
            "reactant_smiles": "[Boc]N(C)CC[C@]12[C@H]3C=C[C@@H]([MsO])[C@]14OC5=C2C(=CC=C5OC)C[C@]3C4",
            "product_smiles": "[Boc]N(C)CC[C@]12[C@H]3C=CC=C1C[C@]4OC5=C2C(=CC=C5OC)C=C3",
            "notes": "Mesylate elimination and double bond rearrangement to form a conjugated diene system.",
            "substeps": []
        },
        {
            "step_id": "23",
            "reaction_type": "Allylic Oxidation",
            "reagents": "SeO2, tBuO2H",
            "reagent_smiles": "",
            "conditions": "dioxane, 50 °C",
            "yield": "58%",
            "reactant_smiles": "[Boc]N(C)[C@H]1CC[C@@H]2[C@H]3C=C[C@@H]4[C@@]25OC(=CC=C5[OMe])C(=C43)CC1",
            "product_smiles": "[Boc]N(C)[C@H]1CC[C@@H]2[C@H]3C=C[C@@H]4[C@@]25OC(=CC=C5[OMe])C(=C43)[C@@H](O)C1",
            "notes": "Allylic oxidation of the cyclohexene ring system to form an allylic alcohol.",
            "substeps": []
        },
        {
            "step_id": "24",
            "reaction_type": "Oxidation",
            "reagents": "IBX",
            "reagent_smiles": "",
            "conditions": "DMF, rt",
            "yield": "92%",
            "reactant_smiles": "C[N]1([Boc])CC=C2[C@H]3[C@H](C=CC4=CC(OC)=CC5=C4O[C@H]([C@@H]3O)C=C5)[C@@H]12",
            "product_smiles": "C[N]1([Boc])CC=C2[C@H]3[C@H](C=CC4=CC(OC)=CC5=C4O[C@H](C(=O)C=C5))[C@@H]12",
            "notes": "Oxidation of a secondary allylic alcohol to an alpha,beta-unsaturated ketone.",
            "substeps": []
        },
        {
            "step_id": "25",
            "reaction_type": "Luche Reduction",
            "reagents": "NaBH4, CeCl3",
            "reagent_smiles": "",
            "conditions": "MeOH, 0 °C",
            "yield": "89%",
            "reactant_smiles": "[Boc]N1CC[C@@H]2C=C[C@@H]3[C@@H]4Oc5c(OC)ccc(C(=C43)[C@H]2C1=O)c5",
            "product_smiles": "[Boc]N1CC[C@@H]2C=C[C@@H]3[C@@H]4Oc5c(OC)ccc(C(=C43)[C@H]2[C@H](O)C1)c5",
            "notes": "Selective reduction of an alpha,beta-unsaturated ketone to an allylic alcohol, achieving beta-selectivity for the new hydroxyl group.",
            "substeps": []
        },
        {
            "step_id": "26",
            "reaction_type": "Boc Deprotection",
            "reagents": "TFA",
            "reagent_smiles": "",
            "conditions": "DCM, 0 °C to rt",
            "yield": "88%",
            "reactant_smiles": "[Boc]N(C)CC1=C[C@@H]2[C@H]3[C@](C)(C4C(O[C@H]5C=C(OC)C=CC=54)C2(O)[C@@H]1C=C[C@H]3O)",
            "product_smiles": "CNC1CC=C[C@@H]2[C@H]3[C@](C)(C4C(O[C@H]5C=C(OC)C=CC=54)C2(O)[C@@H]1C=C[C@H]3O)",
            "notes": "Deprotection of N-methyl-N-Boc-aminomethyl group to N-methylaminomethyl group attached at C7 of morphinane scaffold.",
            "substeps": []
        },
        {
            "step_id": "27",
            "reaction_type": "Oxymercuration-Cyclization",
            "reagents": "Hg(OAc)₂, Et₃N",
            "reagent_smiles": "CCN(CC)CC.CC(=O)O[Hg]OC(=O)C",
            "conditions": "THF, rt",
            "yield": "",
            "reactant_smiles": "CN1CC[C@@]23[C@@H]4[C@@H]1CC5=C2C(=C(OC)C=C5)O[C@H]3[C@@H](O)C=C[C@@H]4",
            "product_smiles": "CN1C[C@H]2[C@H]([Hg]OC(=O)C)[C@@H]3[C@@H](O)[C@@H]4O[C@H]5C6=C(OC)C=CC6=C5[C@@]43[C@@H]1C2",
            "notes": "Intramolecular oxymercuration of the alkene and subsequent cyclization of the secondary amine to form a new C-N bond, replacing the alkene with a mercury(II) acetate adduct.",
            "substeps": []
        },
        {
            "step_id": "28",
            "reaction_type": "Reductive Demercuration",
            "reagents": "LiAlH4",
            "reagent_smiles": "",
            "conditions": "THF, rt",
            "yield": "18% (2 steps)",
            "reactant_smiles": "CN1CC[C@@]23[C@H]4C=C[C@@H]([C@@H]2OC5=C3C(=CC=C5OC)[C@]([Hg]OC(=O)C)[C@H]41)O",
            "product_smiles": "CN1CC[C@@]23[C@H]4C=C[C@@H]([C@@H]2OC5=C3C(=CC=C5OC)C[C@H]41)O",
            "notes": "Reductive demercuration of 14-(acetoxymercurio)codeine to codeine.",
            "substeps": []
        }
    ]
}